"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4386],{913018:function(e,n,t){t.d(n,{G:function(){return X}});var i={};t.r(i),t.d(i,{itemCount:function(){return O},itemCountWithTaxExempt:function(){return D},manageNow:function(){return B},moreItemCount:function(){return U},oneTimePurchaseItemCount:function(){return P},quantityCount:function(){return _},subscription:function(){return k},subscriptionDiscount:function(){return W},subscriptionItemCount:function(){return M},subscriptionManageCalloutText:function(){return F},subscriptionSavingsEligible:function(){return q},walmartPlusImgAltText:function(){return T}});var l=t(487954),r=t(953127),a=t(293168),d=t(682081),o=t(425443),s=t(297693),c=t(764766),u=t(141819),m=t(563883),x=t(200421),p=t(22846),y=t(84529),f=t(444002),w=t(995433),h=t(408694),g=t(351338),b=t(620769),v=t.n(b),E=t(194742),N=t(26093);const I=e=>e.quantity>1&&!e.shouldHideQuantityBadge,L=e=>!!e.usItemId,S=e=>{let{quantity:n,badgeStyle:t}=e;return(0,l.jsx)(N.C,{UNSAFE_className:"absolute",UNSAFE_style:t,"aria-hidden":!0,color:"white","data-testid":"badge-section",children:n})},V=e=>{let{badgeStyle:n}=e;return(0,l.jsx)(N.C,{color:"white",UNSAFE_className:"shadow-none absolute",UNSAFE_style:n,"aria-hidden":!0,"data-testid":"warning-badge",children:(0,l.jsx)(f.J,{size:"small",name:"Warning","aria-hidden":!0})})},j=e=>{let{item:n,thumbnailSizeOverride:t,AdditionalBadge:i}=e;const r={top:"-8px",right:"88"===t?"11px":"-8px"};return n.isWarning?(0,l.jsx)(V,{badgeStyle:r}):(0,l.jsxs)(l.Fragment,{children:[I(n)&&(0,l.jsx)(S,{quantity:n.quantity,badgeStyle:r}),i&&L(n)&&(0,l.jsx)(i,{usItemId:n.usItemId,isSecondaryBadge:I(n)})]})};var C=t(974630),A=t(806274);const O=e=>e.count+" "+A.Ho(e.count,0,C.en,{"1":"item",other:"items"}),P=e=>"One-time purchase ("+e.count+" "+A.Ho(e.count,0,C.en,{"1":"item",other:"items"})+")",M=e=>"Subscription ("+e.count+" "+A.Ho(e.count,0,C.en,{"1":"item",other:"items"})+")",B=()=>"Manage now",k=()=>"subscription",F=()=>"It's easy to edit, skip or cancel subscriptions anytime.",_=e=>"quantity "+e.count,U=e=>A.Ho(e.count,0,C.en,{"0":"","1":"1 more item",other:A.Rx("en-US",e.count,0)+" more items"}),W=()=>"savings",q=()=>"*savings apply to eligible items only",T=()=>"Walmart Plus",D=e=>e.count+" "+A.Ho(e.count,0,C.en,{"1":"item",other:"items"})+" \u2022 "+e.taxExemptCount+" tax-exempt "+A.Ho(e.taxExemptCount,0,C.en,{"1":"item",other:"items"});const z=e=>{let{subscriptionData:n,itemCount:t,subscriptionBasketDiscounts:r,isMobile:a=!1,wPlusImage:o=""}=e;const{hasSubscription:s,shouldShowEligibilityMessage:c,shouldShowSubscriptionDiscount:u,subscriptionItemizedSavings:m}=n,x=(0,d.m)(i,s?"subscriptionItemCount":"oneTimePurchaseItemCount",{count:t}),p=[{width:20,height:16},{width:19,height:15}][Number(a)];return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.J,{className:"color-gray-130",name:"Subscription",size:"small","aria-hidden":"true"}),"\xA0"]}),(0,l.jsx)("span",{children:x}),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("span",{className:"ml2 b blue f7","data-testid":"subscription-discount-tag",children:[(0,l.jsx)(w.Z,{width:p.width,height:p.height,alt:(0,d.m)(i,"walmartPlusImgAltText"),src:o,preload:!0,className:"mr1 v-btm"}),"".concat(null===m||void 0===m?void 0:m.additionalDisplayValue," ").concat((0,d.m)(i,"subscriptionDiscount"))]}),c&&(0,l.jsx)("div",{className:"f6 ml2","data-testid":"subscription-savings-message",children:(0,d.m)(i,"subscriptionSavingsEligible")})]}),r]})},R=6,G=e=>{let{item:n,size:t,className:i,orderDetailsHref:r,isACCInstallItem:a,shouldAnimate:d}=e;const{router:o}=(0,c.tv)(),s=((e,n,t,i,l)=>{let r=e||"";return n>2&&!(null===e||void 0===e?void 0:e.includes("quantity"))&&(r+=", quantity ".concat(n)),!t&&!i||l||(r+=" with addon services"),r})(n.imageAlt,n.quantity,!!n.icons,a,n.hasOnlyAgeVerificationIcons),u=String(Math.max("object"===typeof t?t.width:Number(t),Number("48")));return(0,l.jsx)(w.Z,{className:v()(i,{"fade-in":d}),alt:s||"product",preload:!1,src:(0,h.P)({src:n.image,height:u,width:u}),height:"object"===typeof t?t.height:t,width:"object"===typeof t?t.width:t,...(r?{onClick:()=>o.push(r)}:{})})},X=e=>{let{items:n,multiLine:t=!1,className:h,showItemCount:b=!0,itemCount:N,showIconsInThumbnail:I=!1,orderDetailsHref:L,enableQueueing:S=!1,isACCInstallItem:V=!1,isDesktopCart:C,thumbnailSizeOverride:A,isUnavailable:O=!1,AtcAndBuyNowWrapper:P,defaultItemsCount:M=R,animateImages:B=!1,isFFModuleEnabledOnCart:k=!1,hideWrenchIcon:F=!1,isSubscription:_=!1,itemsListStyles:U,isMajorAppliance:W,applianceServiceInfo:q,showCategoryAccordions:T,showTYPSubscriptionMessaging:D,pageName:X,context:H,subscriptionBasketDiscounts:J,itemListId:Z,showItemListLevelAria:Y,isSamsClubMembershipItem:K,customThumbnailIconComponent:Q,itemizedSavings:$=[],wPlusImage:ee="",AdditionalBadge:ne,enableItemLevelTE:te=!1,taxExemptItemCount:ie=0,showIconBackground:le,restrictedItemMessage:re,collapsedItemListCustom:ae}=e;var de,oe,se;const{0:ce,1:ue}=(0,E.useState)([]),{0:me,1:xe}=(0,E.useState)(0),{0:pe,1:ye}=(0,E.useState)(""),fe=(0,E.useRef)(null),{isMobile:we}=(0,o.vP)(),he=null===Q||void 0===Q?void 0:Q.show,ge=null===Q||void 0===Q?void 0:Q.component,be=E.createRef(),ve=((e,n)=>n||(e?"40":"48"))(we,A),Ee=+ve+16,Ne=n.length,Ie=N||Ne,Le=Ie&&Ee,Se=we?15:24,Ve=S&&n.some(e=>{let{showExpirationTimer:n,expiresAt:t}=e;return n&&t}),je=function(e,n){const{0:t,1:i}=(0,E.useState)(!1),l=(0,E.useRef)(n.length);return(0,E.useEffect)(()=>{i(l.current<n.length),l.current=n.length},[n]),n=>e&&t&&0===n}(B,n);(0,E.useEffect)(()=>{var e;const l=(null===(e=be.current)||void 0===e?void 0:e.clientWidth)||0;let r=Math.floor(l/Ee)||M,a=0;if(t&&(r*=3),r>Ne)r=Ne;else{const e=l-r*Ee>28;a=Ne-r,!a||!t&&e||(r--,a++)}ue(n.slice(0,r)),xe(a);let o=n.slice(0,r).map(e=>"".concat(e.imageAlt,", ").concat((0,d.m)(i,"quantityCount",{count:e.quantity}))).join(", ");o+=0===a?"":", +".concat((0,d.m)(i,"moreItemCount",{count:a})),ye(o)},[n,be.current,Ee]);const Ce=ce.some(e=>!!e.icons),Ae={co:{ov:"manageSubscriptionTooltip"}},{router:Oe}=(0,c.tv)(),Pe=(0,a.iC)(u.YL),Me=String(null===Pe||void 0===Pe||null===(de=Pe.shared)||void 0===de||null===(oe=de.values)||void 0===oe?void 0:oe.subscriptionManagePageUrl),Be=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;const i="thankYouPage"!==(t||"");return(0,E.useMemo)(()=>{const t=null===n||void 0===n?void 0:n.find(e=>"SUBSCRIPTION_DISCOUNT"===(null===e||void 0===e?void 0:e.key)),l=e.reduce((e,n)=>{var t,i;(null===n||void 0===n||null===(t=n.subscription)||void 0===t?void 0:t.isSelected)&&(e.subscriptionItems.push(n),(null===n||void 0===n||null===(i=n.discounts)||void 0===i?void 0:i.some(e=>"SUBSCRIPTION_DISCOUNT"===(null===e||void 0===e?void 0:e.discountKey)))&&e.itemsWithDiscount.push(n));return e},{subscriptionItems:[],itemsWithDiscount:[]});return{...l,hasSubscription:l.subscriptionItems.length>0,shouldShowEligibilityMessage:l.itemsWithDiscount.length>0&&l.itemsWithDiscount.length<l.subscriptionItems.length&&i,shouldShowSubscriptionDiscount:l.itemsWithDiscount.length>0&&!!t,subscriptionItemizedSavings:t}},[e,n,t])}(n,$,X);const ke=e=>(null===K||void 0===K?void 0:K(e))?{width:we?40:48,height:we?27:32}:ve,Fe=(0,g.j)(["flex","black","justify-around"],null===ae||void 0===ae?void 0:ae.itemTileBaseIcons),_e=(0,g.j)([],null===ae||void 0===ae?void 0:ae.itemIcons);return(0,l.jsxs)("div",{className:h,ref:be,"data-testid":"collapsedItemList",children:[b&&!C&&(0,l.jsxs)("div",{className:v()("gray mb3 flex justify-between",{f6:we,f5:!we}),children:[(0,l.jsx)("span",{className:J?"w-100":"",children:_?z({subscriptionData:Be,itemCount:Ie,subscriptionBasketDiscounts:J,isMobile:we,wPlusImage:ee}):te&&ie>0?(0,d.m)(i,"itemCountWithTaxExempt",{count:Ie,taxExemptCount:ie}):(0,d.m)(i,"itemCount",{count:Ie})}),_&&D&&H&&(0,l.jsx)(s.tp,{context:H,action:"overlayView",name:"manageSubscriptionTooltip",payload:{pg:{nm:X},...Ae},children:(0,l.jsx)(p.ZP,{a11yContentLabel:"".concat((0,d.m)(i,"manageNow"),", ").concat((0,d.m)(i,"subscription")),content:(0,d.m)(i,"subscriptionManageCalloutText"),id:"subscription_manage_callout",position:"topLeft",targetRef:fe,isCalloutOnDialog:!0,onCloseName:"close",overlayName:"manageSubscriptionTooltip",overlayExtras:Ae,onCloseExtras:{li:{nm:"close"},...Ae},children:(0,l.jsx)("div",{ref:fe,children:(0,l.jsx)(x.Z,{className:"black flex flex-column items-center",variant:"tertiary",onClick:()=>{Oe.push(Me)},onLinkName:"manageSubscriptionNow",onLinkExtras:{pg:{nm:X},li:{nm:"manageSubscriptionNow"}},"data-dca-id":"B:AF3A957F44","data-dca-intent":"__DCA_TBD__",children:(0,d.m)(i,"manageNow")})})})})]}),re&&("string"===typeof re?(0,l.jsx)("div",{className:"mb3",children:(0,l.jsx)(r.E,{variant:"info","aria-live":"polite",UNSAFE_className:"bg-washed-blue b--blue dark-blue",children:(0,l.jsx)("div",{"data-testid":"restricted-item-message",children:re})})}):re),(0,l.jsxs)("ul",{className:v()("flex list ma0 pa0",t&&"flex-wrap"),style:{minHeight:"".concat(Le,"px"),...U},...(Y?{id:Z,"aria-label":pe}:{}),children:[ce.map((e,n)=>{var t,i;return(0,l.jsxs)("li",{className:v()("relative","72"===A?"mr2":"mr3"),children:[(0,l.jsx)("div",{style:!Ve||e.expiresAt&&e.showExpirationTimer?{}:{paddingTop:"".concat(Se,"px")}}),Ve&&e.expiresAt&&e.showExpirationTimer&&(0,l.jsx)(y.w,{endTime:new Date(e.expiresAt),ticketState:"valid",showClockIcon:!1,size:we?"small":"default"}),I&&(null===(t=e.icons)||void 0===t?void 0:t.length)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:v()("88"===A&&"ph3"),children:(0,l.jsxs)("div",{className:v()("ba b--black-10 br2",{pa1:!le}),children:[(0,l.jsxs)("div",{className:v()({"pa1 flex flex-column items-center":le}),children:[(0,l.jsx)(G,{item:e,size:ve,orderDetailsHref:L,isACCInstallItem:V}),(0,l.jsx)(j,{item:e,thumbnailSizeOverride:A,AdditionalBadge:ne}),V&&!F&&(0,l.jsx)("div",{className:"mt1 tc",children:(0,l.jsx)(f.J,{name:"Installation","data-testid":"wrench-icon"})})]}),(0,l.jsx)("div",{className:Fe,children:null===(i=e.icons)||void 0===i?void 0:i.map((e,n,t)=>{const i=t.length>2&&n<t.length-1,r=le&&i?{marginRight:we?"2px":"4px"}:void 0;return he?(0,l.jsx)("div",{style:r,children:(0,l.jsx)(ge,{thumbnailIcon:e})},n):(0,m.K)(e)&&e.src?(0,l.jsx)(w.Z,{"data-testid":"image-icon",src:e.src,height:e.height,width:e.width,preload:e.preload,alt:e.alt,className:e.className,style:r,"aria-hidden":e.ariaHidden},n):"string"===typeof e?(0,l.jsx)(f.J,{name:e,"data-testid":"icon",className:_e,style:r},n):null})})]})}),!!P&&(0,l.jsx)(P,{item:e})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:v()("88"===A?"ph3":"","flex flex-row items-center justify-center h-100"),"data-sensitivity":e.isPharmacyPrescription?"severe":"",children:[(0,l.jsx)(G,{item:e,size:ke(e),orderDetailsHref:L,className:v()({"o-30":O}),isACCInstallItem:V,shouldAnimate:je(n)}),(0,l.jsx)(j,{item:e,thumbnailSizeOverride:A,AdditionalBadge:ne}),V&&!F&&(0,l.jsx)("div",{className:"mt1 tc",children:(0,l.jsx)(f.J,{name:"Installation","data-testid":"wrench-icon"})})]}),!!P&&(0,l.jsx)("div",{style:{paddingTop:Ce&&!V?"26px":"4px"},children:(0,l.jsx)(P,{item:e})})]})]},e.id||n)}),me>0&&(0,l.jsx)("li",{className:v()("dark-gray b ph1",k?"self-baselane mt2":"self-center mt3"),children:"+".concat(me)})]}),W&&q&&!T&&(0,l.jsxs)("div",{className:"flex flex-column w-100",children:[(0,l.jsx)("div",{className:"flex flex-row f5 b dark-gray pb3 pb3-m",children:null===q||void 0===q?void 0:q.title}),null===q||void 0===q||null===(se=q.optedServices)||void 0===se?void 0:se.map((e,n)=>(0,l.jsxs)("div",{className:"flex flex-row justify-between f5 pb3 dark-gray",children:["".concat(e.label),(0,l.jsx)("div",{children:e.displayPrice})]},n))]})]})}}}]);