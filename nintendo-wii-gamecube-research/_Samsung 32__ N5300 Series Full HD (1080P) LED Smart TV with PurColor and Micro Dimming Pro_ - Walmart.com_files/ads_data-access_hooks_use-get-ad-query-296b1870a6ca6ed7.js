"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45527],{53786:function(e,a,t){t.d(a,{kT:function(){return I},Fq:function(){return $},oL:function(){return _}});var o=t(944157),n=t(760865),i=t(705770),d=t(179404),l=t(222830),s=t(729387),r=t(1687),p=t(194742),u=t(402058);const c={type:"query",name:"AdV2DisplayDSP",query:"query AdV2DisplayDSP( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataDisplayAdDSPFragment}}}}fragment AdDataDisplayAdDSPFragment on AdData{...on MultiImpDspAd{ads{assets eventTrackers link metaData templateId variantId availableVariantIds}}...on DisplayAdDSP{assets eventTrackers link metaData templateId variantId availableVariantIds}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"381339d49b830bbe7409cbc35dcf1df3bf775700f84959d7a7706f1afc03c4f1",disablePersistedQuery:"true"},m={type:"query",name:"AdV2Display",query:"query AdV2Display( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type data{__typename...AdDataDisplayAdFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"03eccd7f171135a735b1883be162c0e8e0699da6bf7498859932a35851c83eef",disablePersistedQuery:"true"},y={type:"query",name:"AdV2",query:"query AdV2( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn $enableRxDrugScheduleModal:Boolean = false $enableAdsPromoData:Boolean = false $enableSignInToSeePrice:Boolean = false $enableItemLimits:Boolean = false $fetchSBAV1:Boolean = false ){adV2( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status adContent{type model title displayTitle qc data @skip(if:$fetchSBAV1){__typename...AdDataDisplayAdFragment __typename...AdDataSponsoredProductsFragment __typename...AdDataSponsoredVideoFragment __typename...AdDataSponsoredBrandsFragment}dataV1 @include(if:$fetchSBAV1){__typename...AdDataDisplayAdFragment __typename...AdDataSponsoredProductsFragment __typename...AdDataSponsoredVideoFragment __typename...AdDataSponsoredBrandsV1Fragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}fragment AdDataSponsoredProductsFragment on AdData{...on SponsoredProducts{adUuid adExpInfo moduleInfo products{...ProductFragment}}}fragment ProductFragment on Product{usItemId offerId specialCtaType @include(if:$enableSignInToSeePrice) orderMinLimit @include(if:$enableItemLimits) orderLimit @include(if:$enableItemLimits) badges{flags{__typename...on BaseBadge{id text key query type styleId}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought criteria{name value}}}labels{__typename...on BaseBadge{id text key}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought}}tags{__typename...on BaseBadge{id text key}}groups{__typename name members{...on BadgeGroupMember{__typename id key memberType rank slaText styleId text type}...on CompositeGroupMember{__typename join memberType styleId suffix members{__typename id key memberType rank slaText styleId text type}}}}groupsV2{name flow pos members{memType memId memStyleId fbMemStyleId content{type value styleId fbStyleId contDesc url actionId}}}}priceInfo{priceDisplayCodes{rollback reducedPrice eligibleForAssociateDiscount clearance strikethrough submapType priceDisplayCondition unitOfMeasure pricePerUnitUom}currentPrice{price priceString priceDisplay}wasPrice{price priceString}listPrice{price priceString}priceRange{minPrice maxPrice priceString}unitPrice{price priceString}savingsAmount{amount priceString}comparisonPrice{priceString}subscriptionPrice{priceString subscriptionString price minPrice maxPrice intervalFrequency duration percentageRate durationUOM interestUOM downPaymentString}subscriptionDiscountPrice{priceString}wPlusEarlyAccessPrice{memberPrice{price priceString priceDisplay}savings{amount priceString}eventStartTime eventStartTimeDisplay}}preOrder{streetDate streetDateDisplayable streetDateType isPreOrder preOrderMessage preOrderStreetDateMessage}annualEventV2 earlyAccessEvent isEarlyAccessItem eventAttributes{priceFlip specialBuy}snapEligible showOptions promoData @include(if:$enableAdsPromoData){type templateData{priceString imageUrl}}sponsoredProduct{spQs clickBeacon spTags}subscription{subscriptionEligible showSubscriptionCTA subscriptionTransactable}canonicalUrl conditionV2{code groupCode}numberOfReviews averageRating availabilityStatus imageInfo{thumbnailUrl allImages{id url}}name fulfillmentBadge classType type showAtc brand sellerId sellerName sellerType rxDrugScheduleType @include(if:$enableRxDrugScheduleModal)}fragment AdDataSponsoredVideoFragment on AdData{...on SponsoredVideos{adUuid adExpInfo moduleInfo videos{video{vastXml thumbnail spqs}products{...ProductFragment}}}}fragment AdDataSponsoredBrandsV1Fragment on AdData{...on SponsoredBrandsV1{adUuid adExpInfo moduleInfo brands{logo{featuredHeadline featuredImage featuredImageName featuredUrl logoClickTrackUrl}products{...ProductFragment}customInfo{images}}}}fragment AdDataSponsoredBrandsFragment on AdData{...on SponsoredBrands{adUuid adExpInfo moduleInfo brands{logo{featuredHeadline featuredImage featuredImageName featuredUrl logoClickTrackUrl}products{...ProductFragment}}}}",hash:"2f572f6d2f3300c4569651069b161043604d8cb3e1b0f6210e6c3c60044f8e96",disablePersistedQuery:"true"},g={type:"query",name:"AdV3DisplayDSP",query:"query AdV3DisplayDSP( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status module adContent{type data{__typename...AdDataDisplayAdFragment __typename...AdDataDisplayAdDSPFragment}}}}fragment AdDataDisplayAdDSPFragment on AdData{...on MultiImpDspAd{ads{assets eventTrackers link metaData templateId variantId availableVariantIds}}...on DisplayAdDSP{assets eventTrackers link metaData templateId variantId availableVariantIds}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"70d464340dca20be7426d426b2656f592708195e2a6c08a3af9206a74ae8ea70",disablePersistedQuery:"true"},v={type:"query",name:"AdV3Display",query:"query AdV3Display( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status module adContent{type data{__typename...AdDataDisplayAdFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}",hash:"27e240805408da04beb3d652c4539f5c1bd42b73cb52862d23de15e49bb700dd",disablePersistedQuery:"true"},f={type:"query",name:"AdV3",query:"query AdV3( $platform:Platform! $pageId:String! $pageType:PageType! $tenant:String! $moduleType:ModuleType! $pageContext:PageContextIn $locationContext:LocationContextIn $moduleConfigs:JSON $adsContext:AdsContextIn $adRequestComposite:AdRequestCompositeIn $enableRxDrugScheduleModal:Boolean = false $enableAdsPromoData:Boolean = false $enableSignInToSeePrice:Boolean = false $enableItemLimits:Boolean = false ){adV3( platform:$platform pageId:$pageId pageType:$pageType tenant:$tenant moduleType:$moduleType locationContext:$locationContext pageContext:$pageContext moduleConfigs:$moduleConfigs adsContext:$adsContext adRequestComposite:$adRequestComposite ){status module server adsContext adContent{type model title qc data{__typename...AdDataDisplayAdFragment __typename...AdDataDisplayAdDSPFragment __typename...AdDataSponsoredProductsFragment __typename...AdDataSponsoredVideoFragment}}}}fragment AdDataDisplayAdFragment on AdData{...on DisplayAd{json status}}fragment AdDataDisplayAdDSPFragment on AdData{...on MultiImpDspAd{ads{assets eventTrackers link metaData templateId variantId availableVariantIds}}...on DisplayAdDSP{assets eventTrackers link metaData templateId variantId availableVariantIds}}fragment AdDataSponsoredProductsFragment on AdData{...on SponsoredProducts{adUuid adExpInfo moduleInfo products{...ProductFragment}}}fragment ProductFragment on Product{usItemId offerId specialCtaType @include(if:$enableSignInToSeePrice) orderMinLimit @include(if:$enableItemLimits) orderLimit @include(if:$enableItemLimits) badges{flags{__typename...on BaseBadge{id text key query type styleId}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought criteria{name value}}}labels{__typename...on BaseBadge{id text key}...on PreviouslyPurchasedBadge{id text key lastBoughtOn numBought}}tags{__typename...on BaseBadge{id text key}}groups{__typename name members{...on BadgeGroupMember{__typename id key memberType rank slaText styleId text type}...on CompositeGroupMember{__typename join memberType styleId suffix members{__typename id key memberType rank slaText styleId text type}}}}groupsV2{name flow pos members{memType memId memStyleId fbMemStyleId content{type value styleId fbStyleId contDesc url actionId}}}}priceInfo{priceDisplayCodes{rollback reducedPrice eligibleForAssociateDiscount clearance strikethrough submapType priceDisplayCondition unitOfMeasure pricePerUnitUom}currentPrice{price priceString priceDisplay}wasPrice{price priceString}listPrice{price priceString}priceRange{minPrice maxPrice priceString}unitPrice{price priceString}savingsAmount{amount priceString}comparisonPrice{priceString}subscriptionPrice{priceString subscriptionString price minPrice maxPrice intervalFrequency duration percentageRate durationUOM interestUOM downPaymentString}subscriptionDiscountPrice{priceString}wPlusEarlyAccessPrice{memberPrice{price priceString priceDisplay}savings{amount priceString}eventStartTime eventStartTimeDisplay}}preOrder{streetDate streetDateDisplayable streetDateType isPreOrder preOrderMessage preOrderStreetDateMessage}annualEventV2 earlyAccessEvent isEarlyAccessItem eventAttributes{priceFlip specialBuy}snapEligible showOptions promoData @include(if:$enableAdsPromoData){type templateData{priceString imageUrl}}sponsoredProduct{spQs clickBeacon spTags}subscription{subscriptionEligible showSubscriptionCTA subscriptionTransactable}canonicalUrl conditionV2{code groupCode}numberOfReviews averageRating availabilityStatus imageInfo{thumbnailUrl allImages{id url}}name fulfillmentBadge classType type showAtc brand sellerId sellerName sellerType rxDrugScheduleType @include(if:$enableRxDrugScheduleModal)}fragment AdDataSponsoredVideoFragment on AdData{...on SponsoredVideos{adUuid adExpInfo moduleInfo videos{video{vastXml thumbnail spqs}products{...ProductFragment}}}}",hash:"e6aac030ddf3ae2b6a4558eff7b4119436e009ba9039b18f0fe215d08bbb101b",disablePersistedQuery:"true"};var C=t(510755);const b=(e,a)=>{let{variables:t}=a;return{queryKey:["ad-v2",t],queryFn:()=>{var a,o,d;const l=(0,n.v)().displayPPMMode,s=(0,C.gI)(t.moduleType),r=(null===(a=t.adRequestComposite)||void 0===a||null===(o=a.clientCapabilities)||void 0===o||null===(d=o.templateIds)||void 0===d?void 0:d.length)&&s,p=(0,n.v)().fillEmptyLocWithProductLocEnable,u=(0,n.v)().ipBbLazyLoadingEnable;p&&"ITEM"===t.pageType&&"MOBILE_WEB"===t.platform&&(0,i.cM)(["info","ads"],{type:"log",name:"ads-variables",message:"ads request",payload:t,ipBbLazyLoadingEnable:u});const g=e.getGqlFetch(s?"adsgateway":"cegateway",(e=>(a,o)=>{o.headers["ads-module-type"]=t.moduleType;let n=a;return l&&(n=(0,C.lk)(a,s)),e(n,o)}));return g(r?c:l&&s?m:y,t)}}},D=(e,a)=>{let{variables:t}=a;return{queryKey:["ad-v3",t],queryFn:()=>{var a,o,i;const d=(0,n.v)().displayPPMMode,l=(0,C.gI)(t.moduleType),s="DynamicAdContainer"===t.moduleType,r=(0,n.v)().enablePPMModeForDAC,p=r&&s&&!t.moduleConfigs.adModules.map((e=>e.moduleType)).some(C.Q9),u=p?t.moduleConfigs.adModules.some((e=>{var a,t;return(null===e||void 0===e||null===(a=e.clientCapabilities)||void 0===a||null===(t=a.templateIds)||void 0===t?void 0:t.length)>0})):(null===(a=t.adRequestComposite)||void 0===a||null===(o=a.clientCapabilities)||void 0===o||null===(i=o.templateIds)||void 0===i?void 0:i.length)&&l,c=e.getGqlFetch(l?"adsgateway":"cegateway",(e=>(a,t)=>{let o=a;return(r?d:d&&!s)&&(o=(0,C.lk)(a,l||p)),e(o,t)}));return c(u?g:d&&(l||p)?v:f,t)}}},A=(e,a)=>{if((0,n.v)().fillEmptyLocWithProductLocEnable&&"ITEM"===e.pageType&&"MOBILE_WEB"===e.platform){var t,o;const n=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.adV2;(0,i.cM)(["info","ads"],{type:"log",name:"ads-response",message:"ads response",payload:{moduleType:e.moduleType,moduleConfigs:e.moduleConfigs,isAdContentDataPresent:!!(null===n||void 0===n||null===(o=n.adContent)||void 0===o?void 0:o.data),status:null===n||void 0===n?void 0:n.status}})}},I=function(e){let{variables:a}=e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i,c,m,y,g,v,f,C,D,I,S,T;const P=(0,p.useRef)((0,r.x0)()),x=(0,p.useMemo)((()=>t?Date.now():null),[t]),$=(0,p.useContext)(s.p);(0,p.useEffect)((()=>{const e=P.current;return t&&(0,o.L)({type:"ADS_QUERY_START",payload:{id:e,variables:a,tempo:$}}),()=>{(0,o.L)({type:"ADS_QUERY_CLEAR",payload:{id:e,variables:a}})}}),[t,$,a]);const _=b((0,d.Z)(),{variables:a}),{data:h,isFetching:R,...q}=(0,l.a)({..._,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});(0,p.useEffect)((()=>{if(!R&&t){const e=q.error,t=h,n=P.current,i=Date.now(),d={type:e?"ADS_QUERY_ERR":"ADS_QUERY_SUCCESS",payload:{id:n,start:x,end:i,variables:a,result:t,err:null===e||void 0===e?void 0:e.message,tempo:$}};(0,o.L)(d),A(a,h)}}),[h,t,R,q,x,$,a]);const E=null===h||void 0===h?void 0:h.data;if((0,n.v)().dspProcessingEnable&&(null===(i=a.adRequestComposite)||void 0===i||null===(c=i.clientCapabilities)||void 0===c||null===(m=c.templateIds)||void 0===m?void 0:m.length)&&"DisplayAdDSP"===(null===E||void 0===E||null===(y=E.adV2)||void 0===y||null===(g=y.adContent)||void 0===g||null===(v=g.data)||void 0===v?void 0:v.__typename)){Object.keys(E.adV2.adContent.data.assets||{}).length>0&&(E.adV2.adContent.data={__typename:"DisplayAd",...(0,u.t7)(E.adV2.adContent.data,"ARTEMIS")})}if((0,n.v)().dspProcessingEnable&&(0,n.v)().dspMultiProcessingEnable&&(null===(f=a.adRequestComposite)||void 0===f||null===(C=f.clientCapabilities)||void 0===C||null===(D=C.templateIds)||void 0===D?void 0:D.length)&&"MultiImpDspAd"===(null===E||void 0===E||null===(I=E.adV2)||void 0===I||null===(S=I.adContent)||void 0===S||null===(T=S.data)||void 0===T?void 0:T.__typename)){const e={},a=E.adV2.adContent.data;(null===a||void 0===a?void 0:a.ads)&&a.ads.forEach((a=>{var t,o;Object.keys(a&&(null===a||void 0===a?void 0:a.assets)||{}).length>0&&((null===a||void 0===a||null===(t=a.metaData)||void 0===t?void 0:t.adLocation)&&(e[null===a||void 0===a||null===(o=a.metaData)||void 0===o?void 0:o.adLocation]=(0,u.t7)(a,"ARTEMIS").json||{}))})),E.adV2.adContent.data={__typename:"DisplayAd",status:"SUCCESS",json:e}}return{...q,data:E,isFetching:R,traceParent:null===h||void 0===h?void 0:h._traceParent}},S=(e,a,t)=>{const n=(0,p.useContext)(s.p);(0,p.useEffect)((()=>(e&&(0,o.L)({type:"ADS_QUERY_START",payload:{id:a,variables:t,tempo:n}}),()=>{(0,o.L)({type:"ADS_QUERY_CLEAR",payload:{id:a,variables:t}})})),[e,n,a,t])},T=(e,a,t,n,i,d,l)=>{const r=(0,p.useContext)(s.p);(0,p.useEffect)((()=>{if(!d&&a){const a=i,d=Date.now(),s={type:l?"ADS_QUERY_ERR":"ADS_QUERY_SUCCESS",payload:{id:t,start:n,end:d,variables:e,result:a,err:null===l||void 0===l?void 0:l.message,tempo:r}};(0,o.L)(s),A(e,i)}}),[i,a,d,l,n,r,t,e])},P=(e,a)=>{var t,o,n,i,d,l;if(a&&(null===(t=e.moduleConfigs)||void 0===t?void 0:t.adModules)){const[t]=a.split("_"),o=e.moduleConfigs.adModules.find((e=>e.moduleType===t));var s,r;if(o)return null!==(r=null===(s=o.clientCapabilities)||void 0===s?void 0:s.templateIds)&&void 0!==r?r:[]}return(null===(o=e.adRequestComposite)||void 0===o||null===(n=o.clientCapabilities)||void 0===n?void 0:n.templateIds)&&null!==(l=null===(i=e.adRequestComposite)||void 0===i||null===(d=i.clientCapabilities)||void 0===d?void 0:d.templateIds)&&void 0!==l?l:[]},x=(e,a)=>{if((0,n.v)().dspProcessingEnable&&a.length&&"DisplayAdDSP"===e.__typename){const a=Object.keys(e.assets||{});if(a.length>0&&!a.includes("501"))return{__typename:"DisplayAd",...(0,u.t7)(e,"ARTEMIS")}}if((0,n.v)().dspProcessingEnable&&(0,n.v)().dspMultiProcessingEnable&&a.length&&"MultiImpDspAd"===e.__typename){const a={};return(null===e||void 0===e?void 0:e.ads)&&e.ads.forEach((e=>{var t,o;Object.keys(e&&(null===e||void 0===e?void 0:e.assets)||{}).length>0&&((null===e||void 0===e||null===(t=e.metaData)||void 0===t?void 0:t.adLocation)&&(a[null===e||void 0===e||null===(o=e.metaData)||void 0===o?void 0:o.adLocation]=(0,u.t7)(e,"ARTEMIS").json||{}))})),{__typename:"DisplayAd",status:"SUCCESS",json:a}}return null},$=function(e){let{variables:a}=e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=(0,p.useRef)((0,r.x0)()),n=(0,p.useMemo)((()=>t?Date.now():null),[t]);S(t,o.current,a);const i=b((0,d.Z)(),{variables:a}),{data:s,isFetching:u,...c}=(0,l.a)({...i,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});T(a,t,o.current,n,s,u,c.error);const m=null===s||void 0===s?void 0:s.data;var y,g;if(m&&(null===(y=m.adV2)||void 0===y||null===(g=y.adContent)||void 0===g?void 0:g.data)){var v,f,C;const e=x(m.adV2.adContent.data,null!==(C=null===(v=a.adRequestComposite)||void 0===v||null===(f=v.clientCapabilities)||void 0===f?void 0:f.templateIds)&&void 0!==C?C:[]);e&&(m.adV2.adContent.data=e)}return{...c,data:m,isFetching:u,traceParent:null===s||void 0===s?void 0:s._traceParent}},_=function(e){let{variables:a}=e,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=(0,p.useRef)((0,r.x0)()),n=(0,p.useMemo)((()=>t?Date.now():null),[t]);S(t,o.current,a);const i=D((0,d.Z)(),{variables:a}),{data:s,isFetching:u,...c}=(0,l.a)({...i,config:{enabled:t,cacheTime:0,staleTime:0,refetchOnWindowFocus:!1}});T(a,t,o.current,n,s,u,c.error);const m=null===s||void 0===s?void 0:s.data;var y,g;if(m&&(null===(y=m.adV3)||void 0===y||null===(g=y.adContent)||void 0===g?void 0:g.data)){var v,f,C,b,A;const e=P(a,null===(v=m.adV3)||void 0===v?void 0:v.module),t=x(m.adV3.adContent.data,e);let o=!1;const n=null===(f=m.adV3.adContent.data)||void 0===f?void 0:f.__typename;let i={};var I;if("DisplayAdDSP"===n)i=null===(I=m.adV3.adContent.data)||void 0===I?void 0:I.assets;else if("MultiImpDspAd"===n&&(null===(C=m.adV3.adContent.data)||void 0===C||null===(b=C.ads)||void 0===b?void 0:b.length)){var $,_;i=null===(_=null===($=m.adV3.adContent.data)||void 0===$?void 0:$.ads[0])||void 0===_?void 0:_.assets}o=i&&0===(null===(A=Object.keys(i))||void 0===A?void 0:A.length),t&&!o&&(m.adV3.adContent.data=t)}return{...c,data:m,isFetching:u,traceParent:null===s||void 0===s?void 0:s._traceParent}}},584302:function(e,a,t){t.d(a,{J:function(){return i},N:function(){return n}});var o=t(194742);const n=(0,o.createContext)((()=>{})),i=()=>(0,o.useContext)(n)},161779:function(e,a,t){t.d(a,{C:function(){return o}});const o=e=>{let{platform:a,pageNumber:t,pageId:o,pageType:n,pvId:i,adsXpa:d,isAdBlocked:l,moduleLocation:s,tempoContext:r,requestId:p,variables:u}=e;return{action:"ads",context:"displayWlmt",name:"adRequest",payload:{mt:{ignore:!0},pl:{adsContext:{platform:a,pageNumber:t,pageId:o,pageType:n},moat:{zMoatAdLocation:s,zMoatAdUnit2:n,zMoatPageId:i,zMoatXpa:d,zMoatRequestId:p},isAdBlocked:l,moduleLocation:s,tempo:r,variables:u}}}}},607486:function(e,a,t){t.d(a,{w:function(){return i}});var o=t(760865),n=t(227014);const i=e=>{let{hasAdResponse:a,platform:t,pageType:i,moduleLocation:d,variantId:l,availableVariantIds:s,pageId:r,context:p,span:u,isLazy:c,pos:m=0,pageNumber:y,moduleType:g,adCardLocation:v,qc:f,isAdDataAvailable:C,isLsiSkEligibleBeacon:b=!1,isFungibleAdRendered:D=!1,shouldHideSkForFungibleAds:A=!1}=e;const I=((e,a,t,i,d,l)=>{const{eqcSkVariantId:s,eqcVariantIdCheckEnable:r}=(0,o.v)();let p=!1;if("SkylineDisplayAd"===e&&(d||l))return(null!==t&&void 0!==t?t:[]).length>0;switch(e){case"BrandBoxDisplayAd":p=null===t||void 0===t?void 0:t.includes("VIDEO1");break;case"SkylineDisplayAd":p=r?a===s:null===t||void 0===t?void 0:t.includes(s);break;case"TileDisplayAd":case"GalleryDisplayAd":p=null===t||void 0===t?void 0:t.includes("436");break;case"MarqueeDisplayAd":p=1===(0,n.D6)(i).SponsoredTileAd}return p})(g,l,s,f,b,D),{showSkOnSbaLsi:S}=(0,o.v)();return{action:"ads",context:p,name:"adsEligibility",payload:{pl:{platform:t,pageId:r,pageType:i,hasAdResponse:a,availableVariantIds:s,moduleLocation:d,moduleType:g,...b&&{moduleType:"SK_SBA_LSI",isSkylineHidden:!S&&I,isSkylineAvailable:I},...D&&{moduleType:"SK_FUNGIBLE_SB_SV",isSkylineHidden:A,isSkylineAvailable:I},eligible:I,variantId:l,...m&&{pos:m+1},...u&&{span:u},...c&&{isLazy:c},...v&&{adCardLocation:v},...y&&{pageNumber:y},...f&&{qc:f},...void 0!==C&&null!==C&&{isAdDataAvailable:C}}}}}},748365:function(e,a,t){t.d(a,{ZP:function(){return C},O5:function(){return m},NV:function(){return f}});var o=t(681589),n=t(760865),i=t(470656),d=t(510755);const l={brandbox1:{templateIds:["VIDEO1"],eventTrackers:{event:1,methods:[1,2]}}};var s=t(802755),r=t(194742);function p(e){let{adRequestComposite:a,moduleType:t}=e;const n=(0,o.D)();return a?"shop"===(null===n||void 0===n?void 0:n.pageType)&&"SponsoredProductCarousel"===t?{...a,categoryId:null===n||void 0===n?void 0:n.catId,dealsId:null===n||void 0===n?void 0:n.dealsId,facets:null===n||void 0===n?void 0:n.facet,minPrice:null===n||void 0===n?void 0:n.minPrice,maxPrice:null===n||void 0===n?void 0:n.maxPrice,query:null===n||void 0===n?void 0:n.query}:a:{}}const u=e=>{var a;return{subModuleType:(null===(a=(0,n.v)().enableSbSvFungibilityReq)||void 0===a?void 0:a.includes("SP"))&&"SponsoredVideoAd"===e?"AdPlaceholderModule":""}},c=(e,a,t)=>({...null!==e&&void 0!==e?e:{},...null!==a&&void 0!==a?a:{},...null!==t&&void 0!==t?t:{}});function m(e){let{module:a,commonAdsParams:t}=e;const o=a.configs._rawConfigs.moduleLocation,{lineItems:m,orderIds:y}=(0,s.xS)(),f=(0,r.useMemo)((()=>y(a.type)),[a.type,y]),C=(0,r.useMemo)((()=>m(a.type)),[a.type,m]),b=(0,d.w0)(a,t);var D;const A=null!==(D=a.configs._rawConfigs.videoEnabled)&&void 0!==D?D:"False";b.adRequestComposite={...b.adRequestComposite},(0,n.v)()[(0,i.We)(a.type,o)]&&l[o]&&(b.adRequestComposite={...(null===b||void 0===b?void 0:b.adRequestComposite)||{},clientCapabilities:l[o]});let I=b.adRequestComposite.adsConfig;if("string"===typeof I)try{const e=JSON.parse(I);I=e&&"object"===typeof e&&!Array.isArray(e)?e:{}}catch{I={}}else I&&"object"===typeof I&&!Array.isArray(I)||(I={});const S=v(I,a.type,o),T=u(a.type);if(b.adRequestComposite.adsConfig=c(I,S,T),b.adRequestComposite=p({adRequestComposite:b.adRequestComposite,moduleType:a.type}),"BuyBoxAd"===a.type&&(b.adRequestComposite=g(b.adRequestComposite,A)),(0,n.v)().dspProcessingEnable){const e=(0,i.tS)(a.type,o,(0,n.v)());e&&(b.adRequestComposite={...(null===b||void 0===b?void 0:b.adRequestComposite)||{},clientCapabilities:e})}if(!(0,n.v)().displayDeduplication)return b;const P={...b.adsContext};return P.dedupeList=(0,n.v)().displayOrderDeduplication?[...f]:[...C,...f],{...b,adsContext:P}}function y(e,a,t,d){var s;let r,p;const m=(0,i.We)(e,a);var y;(0,n.v)()[m]&&l[a]&&(r=l[a]),(0,n.v)().dspProcessingEnable&&(r=(0,i.tS)(e,a,(0,n.v)())),((0,n.v)().displayDeduplication||"SponsoredTileAd"===e)&&(p=t[e]);const g=null!==(y=null===d||void 0===d?void 0:d.adsConfig)&&void 0!==y?y:{},f=v(g,e,a),C=u(e),b=c(g,f,C);var D;const A=null!==(D=null===(s=(0,o.D)())||void 0===s?void 0:s.catId)&&void 0!==D?D:"";return{...r&&{clientCapabilities:r},...p&&{dedupeList:p},...A&&{categoryId:A},...b&&{adsConfig:b}}}function g(e,a){const t=["BuyBoxAd"];return"True"===a&&t.push("SponsoredVideoAd"),e={...e,supportedModules:t}}function v(e,a,t){return"SponsoredProductCarousel"===a&&"car1"===t&&(0,n.v)().ipSpcHrAdsEligibleBeaconEnable&&"item"===(0,o.D)().pageType?{sp:{...null===e||void 0===e?void 0:e.sp,isQC:!0}}:{}}function f(e){let{module:a,commonAdsParams:t,pageType:o}=e;const i=!!a.configs._rawConfigs.isDynamicAdContainer;let d=a.type;a.configs._rawConfigs.adModules&&(d=a.configs._rawConfigs.adModules.map((e=>{let{moduleType:a}=e;return a})).join(","));const l=function(e){const{lineItems:a,orderIds:t,itemIds:o}=(0,s.xS)();return(0,r.useMemo)((()=>{const i={};return e.split(",").forEach((e=>{if("SponsoredTileAd"===e)i[e]=[...new Set([...o(e),...o("BuyBoxAd")])];else{const o=t(e),d=a(e);i[e]=(0,n.v)().displayOrderDeduplication?[...o]:[...d,...o]}})),i}),[t,a,e,o])}(d);return i?function(e,a){let{module:t,commonAdsParams:o}=e;const n=(t.configs._rawConfigs.adModules||[]).map((e=>{let{moduleType:t,moduleLocation:o,adServers:n,uid:i,...d}=e;const{clientCapabilities:l,dedupeList:s}=y(t,o,a);return{...d,moduleType:t,moduleLocation:o,...l&&{clientCapabilities:l},...s&&{dedupeList:s}}}));var i;const d=null!==(i=t.configs._rawConfigs.videoEnabled)&&void 0!==i?i:"False";let l=p({adRequestComposite:{...o.adRequestComposite},moduleType:t.type});return"BuyBoxAd"===t.type&&(l={...l,...g(l,d)}),{...o,adRequestComposite:l,moduleConfigs:{adModules:n,..."DynamicAdContainer"===t.type?{moduleLocation:t.configs._rawConfigs.moduleLocation}:{}},moduleType:t.type}}({module:a,commonAdsParams:t,pageType:o},l):function(e,a){let{module:t,commonAdsParams:o}=e;const n=t.type,i=t.configs._rawConfigs.moduleLocation,d=t.configs._rawConfigs.lazy;var l;const s=null!==(l=t.configs._rawConfigs.videoEnabled)&&void 0!==l?l:"False";let r=p({adRequestComposite:{...o.adRequestComposite},moduleType:t.type});const{clientCapabilities:u,dedupeList:c,categoryId:m,adsConfig:v}=y(n,i,a,r);return"BuyBoxAd"===t.type&&(r=g(r,s)),{...o,moduleConfigs:{moduleLocation:i,lazy:d},moduleType:n,adRequestComposite:{...r,...u&&{clientCapabilities:u},...m&&{categoryId:m},...v&&{adsConfig:v}},adsContext:{...o.adsContext,...c&&{dedupeList:c}}}}({module:a,commonAdsParams:t,pageType:o},l)}var C=m},186393:function(e,a,t){t.d(a,{VF:function(){return p}});var o=t(760865),n=t(510755),i=t(36982),d=t(359466),l=t(194742),s=t(607486);const r=e=>{let a=!0;return e&&("DisplayAd"===e.__typename?a=0===Object.keys((null===e||void 0===e?void 0:e.json)||{}).length:"DisplayAdDSP"===e.__typename&&(a=0===Object.keys((null===e||void 0===e?void 0:e.assets)||{}).length)),a},p=e=>{let{moduleType:a,adContentData:t,platform:p,pageType:u,moduleLocation:c,pageId:m,span:y,isLazy:g,adCardLocation:v,pos:f,isDacModule:C,dacAdModules:b,isLsiSkEligibleBeacon:D,isAdResReceived:A,shouldHideSkForFungibleAds:I,isFungibleAdRendered:S}=e;const{0:T,1:P}=(0,l.useState)(!1);let x=null,$=null;C&&"MarqueeDisplayAd"===a?({variantId:x,availableVariantIds:$,moduleType:a="",moduleLocation:c=""}=((e,a)=>{let t,o,n,i,d;var l,s,r;"DisplayAd"===(null===e||void 0===e?void 0:e.__typename)?(t=null===e||void 0===e||null===(l=e.json)||void 0===l?void 0:l.metaData,o=null===e||void 0===e||null===(s=e.json)||void 0===s?void 0:s.variantId):"DisplayAdDSP"===(null===e||void 0===e?void 0:e.__typename)&&(t=null===e||void 0===e?void 0:e.metaData,o=null===e||void 0===e?void 0:e.variantId);const p=null!==(r=null===t||void 0===t?void 0:t.isEligibleAd)&&void 0!==r?r:null;n=p?[]:null;const u=Array.isArray(p)?p.find((e=>"GALLERY"===e.adUnit)):null;u&&"availableVariantIds"in u&&(n=null===u||void 0===u?void 0:u.availableVariantIds);const c=null===a||void 0===a?void 0:a.find((e=>"GalleryDisplayAd"===e.moduleType));return(null===c||void 0===c?void 0:c.moduleType)&&(null===c||void 0===c?void 0:c.moduleLocation)&&(i=c.moduleType,d=c.moduleLocation),{variantId:o,availableVariantIds:n,moduleType:i,moduleLocation:d}})(t,b)):({variantId:x,availableVariantIds:$}=((e,a)=>{var t;let o;var n,i,d;if("DisplayAd"===(null===e||void 0===e?void 0:e.__typename)){if(o=null===e||void 0===e||null===(n=e.json)||void 0===n?void 0:n.extendedDSPProps,"GalleryDisplayAd"===a&&e&&"json"in e){const a=Object.keys(e.json);var l;a.length>0&&(o=null===(l=e.json[a[0]])||void 0===l?void 0:l.extendedDSPProps)}}else if("DisplayAdDSP"===(null===e||void 0===e?void 0:e.__typename))o=e;else if(e&&"ads"in e&&Array.isArray(null===e||void 0===e?void 0:e.ads)&&(null===e||void 0===e||null===(t=e.ads)||void 0===t?void 0:t.length)){var s;o=null===e||void 0===e||null===(s=e.ads)||void 0===s?void 0:s[0]}return{variantId:null!==(i=null===o||void 0===o?void 0:o.variantId)&&void 0!==i?i:null,availableVariantIds:null!==(d=null===o||void 0===o?void 0:o.availableVariantIds)&&void 0!==d?d:null}})(t,a));const _=function(e){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;const{adsEligibilityBeaconEnable:n}=(0,o.v)();return a||t&&"SkylineDisplayAd"===e||n&&"BrandBoxDisplayAd"===e}(a,A,D,S);(0,l.useMemo)((()=>{_&&!T&&(i.Y2.sendBeacon((0,s.w)({hasAdResponse:!(!(null===t||void 0===t?void 0:t.json)&&!(null===t||void 0===t?void 0:t.assets)),moduleType:a,platform:p,pageType:u,moduleLocation:c,variantId:x,availableVariantIds:$,pageId:m,span:y,isLazy:g,adCardLocation:v,context:(0,n.gI)(a)?"displayWlmt":d.r,pos:f,isDataEmpty:r(t),isLsiSkEligibleBeacon:D,shouldHideSkForFungibleAds:I,isFungibleAdRendered:S})),P(!0))}),[_,T,t,a,p,u,c,x,$,m,y,g,v,f,D,I,S])}},431441:function(e,a,t){t.d(a,{Z:function(){return c}});var o=t(487954),n=t(681589),i=t(894400),d=t(812063),l=t(802755),s=t(194742),r=t(549981);var p=t(584302),u=t(523734);var c=e=>{let{keySuffix:a,idx:t,placeholder:c=null,skeleton:m=null,moduleType:y,children:g}=e;var v,f;const{pageType:C}=(0,n.D)(),b=(0,i.c)(),D=y||(null===(v=b.moduleProps)||void 0===v?void 0:v.type),A=[C,D,null===(f=b.moduleProps)||void 0===f?void 0:f.moduleId,a].filter(Boolean).join("-"),{stage:I,mark:S}=(0,l.xS)(),T=I(D,A,t),P=(0,s.useCallback)((e=>S(D,A,e)),[S,D,A]),x=function(e){const{0:a,1:t}=(0,s.useState)(e(r.Z.getState()));return(0,s.useEffect)((()=>r.Z.subscribe((o=>{const n=e(o);n!==a&&t(n)}))),[e,a]),a}((()=>{const e=I(D,A,t);return e>=u.Z.INFLIGHT&&e!==u.Z.FAILED}));return(0,d.F)((()=>{}),(()=>{I(D,A,t)<u.Z.SUCCESSFUL&&P(u.Z.PENDING)})),x&&T!==u.Z.FAILED?(0,o.jsx)(p.N.Provider,{value:P,children:g}):(0,o.jsx)("span",{className:"w-100","data-state":T,"data-type":"placeholder",children:T===u.Z.PENDING&&m||c})}},905775:function(e,a,t){t.r(a),t.d(a,{OpenRTBTemplates:function(){return p}});var o=t(487954),n=t(760865),i=t(470656),d=t(34856),l=t(402058),s=t(379245),r=t(425443);t(194742);const p=e=>{var a;const{isMobile:t}=(0,r.vP)(),d=null===(a=e.content.metaData)||void 0===a?void 0:a.impressionId,p=(0,n.v)().ttoRedesignEnable,u=(0,i.Mz)(e.moduleType,e.moduleLocation,(0,l.t7)(e.content).json);return(0,o.jsx)(s.t,{id:d,moduleType:e.moduleType,pageType:e.pageType,safeframeURL:e.safeframeURL,data:{id:d,content:e.content,config:{...e.config,...u,isMobile:t}},initialHeight:e.initialHeight,dbg:e.dbg,ml:e.moduleLocation,baseDisplayAdPayload:(0,l.t7)(e.content).json,enableSearchBrowseMaxWidth:("SkylineDisplayAd"!==e.moduleType||!e.enableDisclaimerIconVar1)&&e.enableSearchBrowseMaxWidth,legalDisclaimerProps:e.legalDisclaimerProps,isColorOptionEnabled:e.isColorOptionEnabled||!1,sponsoredTextColor:(null===e||void 0===e?void 0:e.sponsoredTextColor)||"",mainImage:e.content.assets[708]||"",enableDisclaimerIconVar1:e.enableDisclaimerIconVar1,sponsoredLabelClassOverrides:(c=e.moduleType,{TileDisplayAd:"mb2 ".concat(p?"":"mr4-xl mr1","  ").concat(!p&&t?"nt1 mr2":""),SkylineDisplayAd:"flex items-center justify-end absolute"}[c]||""),isLazy:e.isLazy,adsPerfMetrics:e.adsPerfMetrics});var c};a.default=(0,d.P)(p,"OpenRTBTemplates")}}]);