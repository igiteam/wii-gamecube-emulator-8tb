"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26629],{474385:function(e,a,i){i.d(a,{V:function(){return H}});var o=i(487954),l=i(34856),s=i(681589),n=i(714097),t=i(760865),d=i(510755),r=i(155394),c=i(425443),u=i(764766),m=i(194742),p=i(894400),g=i(843108),b=i(470656),v=i(305306),C=i(846326),y=i(53786),f=i(402058),h=i(795997),S=i(637627),T=i(36982),x=i(584302),P=i(523734),E=i(709868),D=i(355438),L=i(905775),A=i(919681),R=i(730330),B=i(293168),j=i(810823),w=i(563861),N=i.n(w),M=i(161779),F=i(748365),k=i(186393),I=i(227014);const z=N()((()=>Promise.all([i.e(65328),i.e(7867)]).then(i.bind(i,873336))),{loadableGenerated:{webpack:()=>[873336]}}),O=N()((()=>Promise.all([i.e(69902),i.e(11422),i.e(16987),i.e(91718),i.e(4498),i.e(82588),i.e(29734),i.e(66789),i.e(66914),i.e(44479),i.e(59571),i.e(85628),i.e(50871),i.e(33822),i.e(12348)]).then(i.bind(i,934359))),{loadableGenerated:{webpack:()=>[934359]},loading:()=>(0,o.jsx)(W,{})}),_=(0,l.P)((e=>{let{carouselClassName:a,pageType:i,module:l,commonAdsParams:n,imageSizeEnum:r,isCarouselTile:u,imagesToPreload:w,newTab:N,productTileRedesignConfig:_,pricePosition:q,customCarouselClassNames:G,titleFontSize:H,subtitleClassName:V,span:U,pos:Z,adCardLocation:K}=e;var X,Y,J,Q,$,ee,ae,ie,oe;const le=(0,d.gI)(l.type),{platform:se,pageId:ne,pageNumber:te,pageLoadTime:de=0,shouldHideSkForFungibleAds:re,isFungibleAdRendered:ce}=(0,s.D)(),{0:ue,1:me}=(0,m.useState)(!1),pe=(0,p.c)(),ge=(0,g.E)(),be=(0,h.W)(),ve=T.Y2.getAdsXpa(),Ce=(0,s.D)().pageType,ye=(0,x.J)(),fe=(0,t.v)(),he=(0,F.ZP)({module:l,commonAdsParams:n,pageType:i}),Se=l.configs._rawConfigs.lazy,{data:Te,isFetching:xe,isSuccess:Pe,isError:Ee,traceParent:De}=(0,y.kT)({variables:he}),Le=he.moduleConfigs.moduleLocation,Ae="".concat(be,"-").concat(Ce,"-").concat(Le),{isMobile:Re}=(0,c.vP)();(0,m.useMemo)((()=>{xe&&le&&fe.adRequestBeaconEnable&&!ue&&!Ee&&(T.Y2.sendBeacon((0,M.C)({platform:se,pageNumber:te,pageId:ne,pageType:Ce,pvId:be,adsXpa:ve,requestId:Ae,isAdBlocked:ge,moduleLocation:Le,tempoContext:pe,variables:he})),me(!0))}),[fe.adRequestBeaconEnable,ve,le,ge,Ee,xe,Le,Ce,ne,te,se,be,ue,Ae,pe,he]);const Be=null===Te||void 0===Te||null===(X=Te.adV2)||void 0===X?void 0:X.adContent,je=null===Be||void 0===Be?void 0:Be.data,we=(0,B.iC)(j.a8),Ne=null===(Y=we.search.values)||void 0===Y?void 0:Y.enableMaxWidth,Me=null===(J=we.search.values)||void 0===J?void 0:J.enablePreEaPricing,Fe=null===(Q=we.search.values)||void 0===Q?void 0:Q.enableValuePricing,ke=null===($=we.search.values)||void 0===$?void 0:$.enableGreenPriceForSpecialBuyItems,Ie=null===(ee=we.search.values)||void 0===ee?void 0:ee.enableNewPriceFormatType,ze=l.type,Oe=(0,m.useRef)({adRequestTime:Date.now()}),_e=(0,m.useRef)({pageLoadTime:de,ttAdReq:(Date.now()-de).toString(),ttAdRes:""});(0,m.useLayoutEffect)((()=>{Pe&&(_e.current.ttAdRes=(Date.now()-Oe.current.adRequestTime).toString())}),[Pe,je]);const We=Pe||Ee,{isLsiSkEligibleBeacon:qe}=(0,I.$x)(ze);(fe.adsEligibilityBeaconEnable||qe||ce)&&(0,k.VF)({moduleType:ze,adContentData:je,platform:se,pageType:Ce,moduleLocation:Le,pageId:ne,span:U,pos:Z,isLazy:Se,adCardLocation:K,isLsiSkEligibleBeacon:qe,isFungibleAdRendered:ce,shouldHideSkForFungibleAds:re,isAdResReceived:We}),(0,m.useEffect)((()=>{"MarqueeDisplayAd"===ze&&fe.adPreviousResponseNullCheck&&fe.displayDeduplication&&(Pe&&!(null===je||void 0===je?void 0:je.json)||Ee)&&ye(P.Z.FAILED)}),[Pe,Ee,ye,fe,je,ze]);const Ge=(0,b.d)(ze,null===(ae=l.configs)||void 0===ae?void 0:ae._rawConfigs.moduleLocation),He=(0,v.Q)(ze,null===(ie=l.configs)||void 0===ie?void 0:ie._rawConfigs.moduleLocation),Ve=null!==Le&&void 0!==Le?Le:null===(oe=l.configs)||void 0===oe?void 0:oe._rawConfigs.moduleLocation;if(je&&"MarqueeDisplayAd"===ze)return Ge&&(0,o.jsx)(C.Bc,{data:je,enableKey:Ge,moduleLocation:Ve,traceParent:De,children:e=>(0,o.jsx)("div",{className:He,"data-testid":Le,children:(0,o.jsx)(D.Z,{...e,pageType:i,isLazy:!0,dbg:{module:l,variables:he},moduleLocation:Ve,enableSearchBrowseMaxWidth:("SEARCH"===i||"BROWSE"===i)&&Ne})})});if(je&&"GalleryDisplayAd"===ze)return Ge&&(0,o.jsx)(C.Bc,{data:je,enableKey:Ge,moduleLocation:Ve,traceParent:De,children:e=>(0,o.jsx)("div",{className:He,"data-testid":Le,children:(0,o.jsx)(E.Z,{...e,...l.configs._rawConfigs,adData:je,moduleLocation:Ve,dbg:{module:l,variables:he},enableSearchBrowseMaxWidth:fe.enableSearchGalleryMaxWidth&&("SEARCH"===i||"BROWSE"===i)&&Ne})})});if(je&&"BrandBoxDisplayAd"===ze)return Ge&&(0,o.jsx)(C.Bc,{data:je,enableKey:Ge,moduleLocation:Le,traceParent:De,children:e=>(0,o.jsx)("div",{className:He,"data-testid":Le,children:(0,o.jsx)(z,{...e,adsPerfMetrics:_e.current,dbg:{module:l,variables:he},moduleLocation:Ve,pageType:i})})});if(je&&"SkylineDisplayAd"===ze)return Ge&&(0,o.jsx)(C.Bc,{data:je,enableKey:Ge,moduleLocation:Ve,traceParent:De,children:e=>(0,o.jsx)("div",{className:He,"data-testid":Le,children:fe.skSvelteTemplateEnable?(0,o.jsx)(L.default,{isLazy:!0,content:(0,f.iA)(je),config:{moduleType:ze,moduleLocation:Le,adConfig:{isColorOptionEnabled:e.isColorOptionEnabled}},initialHeight:fe.ipSkV2DSPEnable?62:Re?59:71,safeframeURL:fe.openRTBDisplayAdsBundleSafeframeURL,moduleType:ze,moduleLocation:Ve,pageType:i,dataType:"Skyline",isColorOptionEnabled:fe.enableSeasonalColorOption,sponsoredTextColor:e.sponsoredTextColor,enableDisclaimerIconVar1:fe.enableDisclaimerIconVar1,legalDisclaimerProps:{legalDisclaimerLabel:je.json.legalDisclaimerLabel||"",legalDisclaimerText:je.json.legalDisclaimerText||"",legalDisclaimerColor:je.json.legalDisclaimerColor||"",legalDisclaimerUrl:je.json.legalDisclaimerUrl||""},enableSearchBrowseMaxWidth:("SEARCH"===i||"BROWSE"===i)&&Ne}):(0,o.jsx)(A.Z,{...e,isLazy:!0,pageType:i,dbg:{module:l,variables:he},moduleLocation:Ve,enableSearchBrowseMaxWidth:("SEARCH"===i||"BROWSE"===i)&&Ne})})});if("SponsoredProductCarousel"===ze){if(Pe){var Ue;const e=(0,I.Ml)(Be,he,l),s=(0,S.n)(n.pageType),t=(0,I.yD)(null===(Ue=l.configs)||void 0===Ue?void 0:Ue._rawConfigs.moduleLocation,Ce);return(0,o.jsx)("div",{className:He,"data-testid":"sp",children:(0,o.jsx)(O,{atc:R.o,className:a,horizontalScrollerClassName:t,moduleContext:s,pageTitle:s,titleFontSize:H,subtitleClassName:V,moduleData:e,imageSizeEnum:r,isCarouselTile:u,imagesToPreload:w,newTab:N,enableNewPriceFormatType:"SEARCH"===i||"BROWSE"===i||"SHOP"===i?Ie:0,productTileRedesignConfig:_,layoutEnum:"CAROUSEL",pricePosition:q,customCarouselClassNames:G,isUbsBadgingEnable:fe.enableStreamlineBadging,enableGlobalProductTile:fe.enableSpCarouselGenericTile,pageName:"ads",componentConfig:(0,I.xX)(fe.enableAdsDirectSpendsEnhancements),"data-dca-id":"M:EA85C5DA69","data-dca-type":"module",traceParent:De,enablePreEaPricing:Me,enableValuePricing:Fe,enableGreenPriceForSpecialBuyItems:ke})})}return(0,o.jsx)("div",{className:He,"data-testid":"sp",children:(0,o.jsx)(W,{})})}return null}),"GetAdsDataCmp"),W=()=>{const{isMobile:e}=(0,c.vP)();return e?(0,o.jsx)(r.Skeleton,{height:"443px",width:"100%",variant:"rectangle"}):(0,o.jsx)(r.Skeleton,{height:"495px",width:"100%",variant:"rectangle"})};var q=_,G=i(431441);const H=(0,l.P)((e=>{let{carouselClassName:a,pageType:i,moduleDataByZone:l,module:p,imageSizeEnum:g,isCarouselTile:b,imagesToPreload:v=0,newTab:C,productTileRedesignConfig:y,pricePosition:f,customCarouselClassNames:h,titleFontSize:S,subtitleClassName:T,isPageDataFetching:x=!1}=e;const{0:P,1:E}=(0,m.useState)(!1),{isMobile:D}=(0,c.vP)(),{router:L}=(0,u.tv)(),A=(0,s.D)(),R=(0,m.useMemo)((()=>(0,d.yS)(D,i,l,A)),[D,l,i,A]),B=(0,m.useMemo)((()=>(0,I.ne)(i,p,L.query,R.tenant)),[i,p,L.query,R.tenant]),j=(0,n.P)(p.type,p.configs._rawConfigs.moduleLocation),w="ITEM"===i?[B,A.pageId]:[B,A.pageId,null===L||void 0===L?void 0:L.asPath];(0,m.useEffect)((()=>{E(!1)}),[null===L||void 0===L?void 0:L.asPath]),(0,m.useEffect)((()=>{let e;if("IntersectionObserver"in window){E(!1),e=new IntersectionObserver((a=>{a.forEach((a=>{a.isIntersecting&&(E(!0),e.unobserve(a.target))}))}),{rootMargin:"0px 0px ".concat(p.configs._rawConfigs.lazy,"px 0px")});const a=document.getElementById(B);a&&e.observe(a)}return()=>{(null===e||void 0===e?void 0:e.disconnect)&&(E(!1),e.disconnect())}}),w);const N=(0,m.useMemo)((()=>e=>{let{children:a}=e;return(0,t.v)().displayDeduplication&&"MarqueeDisplayAd"===p.type?(0,o.jsx)(G.Z,{children:a}):(0,o.jsx)(o.Fragment,{children:a})}),[p.type]),M=P&&j&&!x;return(0,o.jsx)(r.Container,{id:B,UNSAFE_className:"pa0",children:M&&(0,o.jsx)(N,{children:(0,o.jsx)(q,{carouselClassName:a,pageType:i,module:p,commonAdsParams:R,imageSizeEnum:g,isCarouselTile:b,imagesToPreload:v,newTab:C,productTileRedesignConfig:y,pricePosition:f,customCarouselClassNames:h,titleFontSize:S,subtitleClassName:T})})})}),"AdsBtfCmpV1")}}]);