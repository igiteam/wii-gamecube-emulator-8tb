"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99083],{881137:function(e,n,l){l.d(n,{Z:function(){return X}});var i={};l.r(i),l.d(i,{loadingErrorMsg:function(){return M},loadingMsg:function(){return F},noSimilarItemsMsg:function(){return N},offerLedClipping:function(){return P},offerLedClippingTxtClosed:function(){return T},offerLedClippingTxtOpen:function(){return O},seeSimilarTxtClosed:function(){return _},seeSimilarTxtOpen:function(){return B},similarItems:function(){return C},similarItemsTxtClosed:function(){return I},similarItemsTxtOpen:function(){return V}});var t=l(487954),r=l(730330),a=l(293168),o=l(682081),s=l(425443),d=l(447366),c=l(356322),u=l(705770),m=l(179404),x=l(222830),p=l(439967),y=l(194742),f=l(720962);var g=l(288768),w=l(265729),v=l(982537),L=l(200421),S=l(344349),b=l(740357),A=l(924020),E=l(563861),h=l.n(E);const C=()=>"Similar Items",I=()=>"Shop similar",V=()=>"Hide similar",M=e=>"Sorry! We're having trouble loading "+e.ctaType+" items.",F=()=>"Loading...",N=e=>"No Products found while fetching "+e.ctaType+" Products.",P=()=>"Related Items",T=()=>"Show related items",O=()=>"Hide related items",B=()=>"Hide similar items",_=()=>"View similar items";var R=(e,n)=>{let{isFetching:l,hasTempoResponse:t,hasErrors:r,scope:a}=e;const s=n?"similar":"related";return r?((0,u.cM)(["error",a,"cls"],{type:"log",message:"Errors fetching ".concat(s," Products"),hasErrors:r}),(0,o.m)(i,"loadingErrorMsg",{ctaType:s})):l&&!t?(0,o.m)(i,"loadingMsg"):((0,u.cM)(["error",a,"cls"],{type:"log",message:"No Products found while fetching ".concat(s," Products"),hasErrors:r}),(0,o.m)(i,"noSimilarItemsMsg",{ctaType:s}))};const U=e=>{if(!e||0===e.length)return null;const n=null===e||void 0===e?void 0:e.find(e=>"preorder"===(null===e||void 0===e?void 0:e.name));return n||null};var W=l(929412),k=l(394976);const H=h()(()=>Promise.all([l.e(60892),l.e(11422),l.e(16987),l.e(91718),l.e(4498),l.e(82588),l.e(29734),l.e(66789),l.e(66914),l.e(44479),l.e(59571),l.e(85628),l.e(5897)]).then(l.bind(l,417331)),{loadableGenerated:{webpack:()=>[417331]},ssr:!1}),j=h()(async()=>(await Promise.all([l.e(11422),l.e(16987),l.e(91718),l.e(4498),l.e(82588),l.e(29734),l.e(66789),l.e(66914),l.e(44479),l.e(78394),l.e(46313),l.e(598),l.e(60346)]).then(l.bind(l,725817))).SpecialPriceLabel,{loadableGenerated:{webpack:()=>[725817]}}),G=e=>{const n=null===e||void 0===e?void 0:e.rewards;if(n)return{state:n.state,selectionToken:n.selectionToken,offer:"Add $".concat(n.rewardAmt," reward"),restriction:"Must buy ".concat(n.minQuantity),offerId:n.cbOffer,rewardAmt:n.rewardAmt,minQuantity:n.minQuantity,eligible:n.eligible}},D=(e,n,l)=>n?(0,o.m)(i,e?"similarItemsTxtOpen":"similarItemsTxtClosed"):l?(0,o.m)(i,e?"seeSimilarTxtOpen":"seeSimilarTxtClosed"):(0,o.m)(i,e?"offerLedClippingTxtOpen":"offerLedClippingTxtClosed"),Z=e=>{var n,l,i;const t=null===e||void 0===e||null===(n=e.badges)||void 0===n||null===(l=n.groups)||void 0===l?void 0:l.find(e=>"fulfillment"===(null===e||void 0===e?void 0:e.name)),r=null===t||void 0===t?void 0:t.members,a=null===r||void 0===r?void 0:r.find(e=>"FF_DELIVERY"===(null===e||void 0===e?void 0:e.key));if(!a)return null===e||void 0===e?void 0:e.availabilityMessage;const o=null===(i=a.templates)||void 0===i?void 0:i.unavailable;return o||(null===e||void 0===e?void 0:e.availabilityMessage)};var X=e=>{let{productName:n,productId:l,pageType:E,moduleContext:h,scope:C,clientTimeoutMs:I,isListLayout:V=!1,styles:M={},anchorNavButtonTopOffset:F,beaconExtras:N={},hasSimilarItems:P,enableffBadging2:T,enableLineItemId:O,lineItems:B=[],isSeeSimilar:_,onLinkName:X,customMarketColors:q,enablePromotionMessages:z,substitutionInitialData:Q,enableGlobalProductTile:$=!1,pageName:K,enableESSCarousel:Y=!1}=e;var J,ee,ne,le,ie,te,re,ae,oe,se,de,ce,ue,me,xe;const{0:pe,1:ye}=(0,y.useState)(!1),{0:fe,1:ge}=(0,y.useState)(!1),we=(0,y.useRef)(null),ve=(0,a.iC)(b.aB),{enableGIC:Le}=ve.header.values,{selectedIntent:Se}=(0,y.useContext)(A.V);let be;const{isMobile:Ae}=(0,s.vP)(),{p13n:Ee}=(0,c.y)({p13nPageId:l},Ae,Se,Le),{isFetching:he,data:Ce,error:Ie}=function(e,n,l,i){let t=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,r=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;const o=(0,p.P)(n),s=(0,f.y)((0,m.Z)(),{variables:{p13n:e,pageType:n,tenant:o},timeoutMs:t,enablePromotionMessages:a}),d=(0,x.a)({...s,config:{enabled:l,initialData:r,refetchOnWindowFocus:!1,staleTime:1/0}}),{data:c}=d;return(0,y.useEffect)(()=>{c&&((0,u.cM)(["info",i,"useSubstitutions"],{type:"log",message:{pageTypeName:i,p13NData:{...e}}}),c.errors&&(0,u.cM)(["error",i,"useSubstitutions"],{type:"log",message:c.errors}))},[c,e,i]),d}(Ee,E,pe,C,I,Q,z),Ve=(0,d.I)(null===Ce||void 0===Ce||null===(J=Ce.data)||void 0===J?void 0:J.contentLayout),Me=null===Ve||void 0===Ve||null===(ee=Ve.moduleDataByZone)||void 0===ee||null===(ne=ee.substitutionsZone)||void 0===ne||null===(le=ne.configs)||void 0===le?void 0:le.athModule,Fe=null===Ve||void 0===Ve||null===(ie=Ve.moduleDataByZone)||void 0===ie||null===(te=ie.substitutionsZone)||void 0===te||null===(re=te.configs)||void 0===re?void 0:re.itemsSelection,Ne=null===Ve||void 0===Ve||null===(ae=Ve.moduleDataByZone)||void 0===ae||null===(oe=ae.substitutionsZone)||void 0===oe||null===(se=oe.configs)||void 0===se?void 0:se.productsConfig.products,Pe=Y&&(null===Ve||void 0===Ve||null===(de=Ve.moduleDataByZone)||void 0===de||null===(ce=de.pillsZone)||void 0===ce||null===(ue=ce.configs)||void 0===ue?void 0:ue.pillsV2),Te=(0,y.useMemo)(()=>({isFetching:he,hasTempoResponse:Boolean(Ce),hasErrors:Boolean(Ie)||Boolean(null===Ce||void 0===Ce?void 0:Ce.errors),scope:C}),[he,Ce,Ie,Ne]),Oe={...N,...(P&&{atm:{athModule:Me},co:{ty:"ItemCarousel",nm:"See Similar",sg:((e,n)=>{let l=null;return e&&(l=n&&"none"===e?"RR":"p13n"===e||!n&&"none"===e?"p13n":"manual"),l})(Fe,(null===Ne||void 0===Ne||null===(me=Ne[0])||void 0===me||null===(xe=me.clickTrackingURL)||void 0===xe?void 0:xe.length)>0)}})},Be=R(Te,P);(null===Ne||void 0===Ne?void 0:Ne.length)>0&&(be=Ne.map(e=>{var n,l,i,t,r,a,o,s,d;const c=null===(n=e.badges)||void 0===n?void 0:n.groups,u=(0,g.f7)(c),m=e.priceInfo,x=null===m||void 0===m||null===(l=m.currentPrice)||void 0===l?void 0:l.priceString,p=null===m||void 0===m?void 0:m.priceDisplayCodes,y="OUT_OF_STOCK"===e.availabilityStatus,f=null===(i=e.badges)||void 0===i||null===(t=i.flags)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.text,{labels:L,icon:S,accLabel:b}=(0,v.w)(e.badges),A=null===B||void 0===B?void 0:B.find(n=>{var l;return(null===n||void 0===n||null===(l=n.product)||void 0===l?void 0:l.usItemId)===(null===e||void 0===e?void 0:e.usItemId)});var E;const h=null!==(E=null===A||void 0===A?void 0:A.id)&&void 0!==E?E:"";return{...e,...(O?{lineItemId:h}:{}),isOutOfStock:y,flag:f,fulfillmentBadges:L,canAddToCart:e.showAtc,image:e.imageInfo.thumbnailUrl,preOrder:e.preOrder,preOrderBadge:U(c)||void 0,fulfillmentBadgeGroups:(0,w.$m)(u,T),fulfillmentIcon:S,accInstallationLabel:b,availabilityMessage:Z(e),priceInfo:{finalCostByWeight:null===p||void 0===p?void 0:p.finalCostByWeight,priceDisplayCondition:null===p||void 0===p?void 0:p.priceDisplayCondition,linePrice:x,itemPrice:x,wasPrice:null===m||void 0===m||null===(a=m.wasPrice)||void 0===a?void 0:a.priceString,unitPrice:null===m||void 0===m||null===(o=m.unitPrice)||void 0===o?void 0:o.price,minPriceForVariant:null===m||void 0===m||null===(s=m.priceRange)||void 0===s?void 0:s.priceString,shipPrice:null===m||void 0===m||null===(d=m.shipPrice)||void 0===d?void 0:d.priceString},reward:G(e),...(z?{promotionMessages:null===e||void 0===e?void 0:e.promotionMessages}:{})}}));const _e=P||_,Re=_e?"seeSimilar":"seeOfferLedCLipping";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.Z,{"aria-label":"".concat(D(fe,P,_)," - ").concat(n),className:"pa0 self-start db b--none bg-white f6 sans-serif underline","aria-expanded":fe,buttonRef:we,onClick:()=>{fe?ge(!1):(ge(!0),ye(!0))},useLDButton:!1,onLinkExtras:Oe,"data-testid":"substitutions",onLinkName:X,"data-dca-id":"B:B651BFFEA9","data-dca-intent":"__DCA_TBD__",children:D(fe,P,_)}),(0,t.jsxs)(S.Z,{className:"absolute left-0 right-0",isOpen:fe,styles:M,closeFlyout:()=>ge(!1),flyoutTriggerRef:we,flyoutTitle:(0,o.m)(i,_e?"similarItems":"offerLedClipping"),isListLayout:V,children:[Pe&&fe&&(0,t.jsx)(W.n.Provider,{value:{skeletonHeight:"40px"},children:(0,t.jsx)(k.A,{pills:Pe,pageContext:"searchResults",moduleSource:"browsePills",shouldShowDivider:!1})}),be&&fe?(0,t.jsx)(H,{atc:r.o,athModule:Me,items:be,moduleContext:h,moduleName:Re,horizontalScrollerClassName:"carousel-6-l carousel-3-m pr3-m mr4-m",variantSize:"SMALL",imageSize:"SMALL",isListLayout:V,anchorNavButtonTopOffset:F,moduleViewExtras:Oe,moduleLinkExtras:Oe,isSeeSimilar:_,itemsSelection:Fe,customMarketColors:q,enablePromoBadge:z,...(z&&{CarouselPromoMessages:j}),"data-dca-id":"M:311A43D601","data-dca-type":"module",enableGlobalProductTile:$,...($?{pageName:null!==K&&void 0!==K?K:"",componentConfig:{enableProductFlag:!0,enableProductVariants:!0,enableSponsoredTag:!0,enableProductPrice:!0,enableDollarSavingAmount:!1,enableInlineBrandTitle:!1,enableMembershipTag:!0,enableFulfillmentBadges:!0,enablePrimaryCTA:!0,enableSecondaryCTA:!1,enableProductRewards:!0,enableRatings:!0}}:{})}):Be]})]})}}}]);