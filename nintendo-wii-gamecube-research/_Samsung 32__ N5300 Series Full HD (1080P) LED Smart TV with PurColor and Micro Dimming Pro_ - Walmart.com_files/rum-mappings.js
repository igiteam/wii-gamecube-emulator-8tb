var _bcc=_bcc||{};_bcc.ptns=_bcc.ptns||{},_bcc.ptns.qm={opts:{}},function(o,r){"use strict";var e={qm_overlayView_amend:function(r){pulse.ph.input=r,pulse.out.editOrderConf=pulse.rt.readEditConfirmation(),pulse.rt.qm_overlayView_default(pulse.ph.input)},qm_overlayView_default:function(r){pulse.out.modalErr=pulse.rt.readModalError()},qm_pageView_searchResults:function(r){pulse.ph.input=r,pulse.out.searchKey=pulse.rt.readSearchKey(r.sr),pulse.rt.qm_pageView_default(pulse.ph.input)},qm_pageView_productPage:function(r){pulse.ph.input=r,pulse.out.prodId=pulse.rt.readProdIdFromPath(pulse.ph.input),pulse.rt.qm_pageView_default(pulse.ph.input)},qm_pageView_checkout:function(r){pulse.ph.input=r,pulse.out.cartId=pulse.rt.readCartIdFromQS(),pulse.out.cartSubTotal=pulse.rt.readCartValue(pulse.ph.input),pulse.out.orderConf=pulse.rt.readOrderConfirmation(pulse.ph.input),pulse.rt.qm_pageView_default(pulse.ph.input)},qm_pageView_default:function(r){pulse.out.storeId=pulse.rt.readStoreId(),pulse.out.sessionId=pulse.rt.readIsomorphicSessionId()},readCartIdFromQS:function(){var r=void 0;try{var e=window.location.search;if(e&&e.includes("cartId")){var t=e.split("cartId=")[1];if(t&&t.split("&")[0])r=[28,0,t.split("&")[0]]}return r}catch(r){return o.utils.error("ERROR: in sending cartId to qm from readCartIdFromQS"),void o.utils.error(r)}},readCartValue:function(r){var e=void 0;try{var t=((r=r||{}).od||{}).st;return t&&(e=[42,1,t=(100*t).toFixed(0).toString()]),e}catch(r){return o.utils.error("ERROR: in sending cartSubTotal to qm from readCartValue"),void o.utils.error(r)}},readEditConfirmation:function(r){var e=void 0;try{var t=document.querySelector('[id*="ld_modalTitle"], [id*="ld_bottomSheetTitle"]');return t&&"You're all set!"===t.innerText&&(e=[248,0,t.innerText]),e}catch(r){return o.utils.error("ERROR: in sending order confirmation to qm from readEditConfirmation"),void o.utils.error(r)}},readIsomorphicSessionId:function(){var r=void 0;try{var e=__NEXT_DATA__.props.pageProps.isomorphicSessionId;return e&&(r=[55,0,e]),r}catch(r){return o.utils.error("ERROR: in sending isomprphic sessionId to qm from readIsomorphicSessionId"),void o.utils.error(r)}},readModalError:function(){var r=void 0;try{if(document.querySelector('[data-testid*="error-modal"]')||document.querySelector('[class*="ModalPortal_modal"] h2')&&-1<document.querySelector('[class*="ModalPortal_modal"] h2').innerText.search(/technical|tecnico|tÃ©cnico|technique|Unable/)){var e=document.querySelector('[data-testid*="error-modal"] h2,[class*="ModalPortal_modal"] h2'),t=document.querySelector('[data-testid*="error-modal"] h3,[class*="ModalPortal_modal"] [class*="StyledText_styledText"]');r=[36,0,e&&t?e.innerText+": "+t.innerText:e?e.innerText:t?t.innerText:""]}return r}catch(r){return o.utils.error("ERROR: in sending store Id to qm from readStoreId"),void o.utils.error(r)}},readOrderConfirmation:function(r){var e=void 0;try{var t=((r=r||{}).od||{}).id;return t&&(e=[257,0,t=t.toString().trim()]),e}catch(r){return o.utils.error("ERROR: in sending order confirmation to qm from readOrderConfirmation"),void o.utils.error(r)}},readProdIdFromPath:function(r){var e=void 0;try{var t=((r=r||{}).pr||{}).us;return t&&(e=[27,0,t]),e}catch(r){return o.utils.error("ERROR: in sending prodId to qm from readProdIdFromPath"),void o.utils.error(r)}},readSearchKey:function(r){var e=void 0;try{if(r&&r.ke)e=[13,0,r.ke];return e}catch(r){return o.utils.error("ERROR: in sending search key to qm from readSearchKey"),void o.utils.error(r)}},readStoreId:function(){var r=void 0;try{if(window&&window.localStorage&&window.localStorage.storeId)r=[33,0,window.localStorage.storeId];return r}catch(r){return o.utils.error("ERROR: in sending store Id to qm from readStoreId"),void o.utils.error(r)}}};o.utils.merge(r,e)}(_bcq,pulse.rt),function(s){"use strict";s.handlers.qm={initialize:function(r,e){this.options=r.opts},tagAction:function(r,e,t,o,i){var n,a=0,u=i+"_"+e+"_"+r,d=i+"_"+e+"_default";return s.mappingsExecuter.executeMapping&&pulse&&pulse.rt&&(pulse.rt[u]?(n=s.mappingsExecuter.executeMapping(r,e,o,i)||{},this.triggerQmSend(n),a=1):pulse.rt[d]&&(n=s.mappingsExecuter.executeMapping("default",e,o,i)||{},this.triggerQmSend(n),a=1)),a},triggerQmSend:function(r){try{if(r&&r.out&&0<Object.keys(r.out).length){var e=r.out,t=Object.keys(e),o=t.length;s.pendingQmData=s.pendingQmData||[];for(var i=0;i<o;i++){var n=e[t[i]];n&&Array.isArray(n)&&(window&&window.QuantumMetricAPI?window.QuantumMetricAPI.sendEvent.apply(window.QuantumMetricAPI,n):s.pendingQmData.push(n))}}}catch(r){s.utils.error("ERROR: in triggerQmSend"),s.utils.error(r)}}},s.handlers.qm=s.utils.merge({},s.abstract,s.handlers.qm)}(_bcq),function(r,e){"use strict";for(var t in e.ptns)if(e.ptns.hasOwnProperty(t)){var o=r.handlers[t];o?o.initialize(e.ptns[t],e):r.utils.error("No handler defined for partner ["+t+"]")}var i;if(r.isPtnsMappingsLoaded=!0,Array.isArray(r.pendingPtnsmappingsQueue))for(;r.pendingPtnsmappingsQueue.length;)(i=r.pendingPtnsmappingsQueue.pop())&&r.push(["_tagAction",i.ctx,i.act,i.name,i.attrs,!0])}(_bcq,_bcc);