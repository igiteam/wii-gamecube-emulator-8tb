/*! For license information please see EkoAnalyticsPlatform.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("snowplow-tracker-core"),require("axios")):"object"==typeof exports?exports.EkoAnalyticsPlatform=t(require("snowplow-tracker-core"),require("axios")):e.EkoAnalyticsPlatform=t(e["snowplow-tracker-core"],e.axios)}(this,((e,t)=>(()=>{var n={275:(e,t)=>{"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="undefined"!=typeof window&&void 0!==window.document;"object"===("undefined"==typeof self?"undefined":n(self))&&self.constructor&&self.constructor.name,"undefined"!=typeof process&&null!=process.versions&&process.versions.node;t.jU=r},943:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},677:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},707:function(e){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function i(e,t,r){var i={};return r.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=n(e[t],r)})),o(t).forEach((function(o){r.isMergeableObject(t[o])&&e[o]?i[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,r)(e[o],t[o],r):i[o]=n(t[o],r)})),i}function a(t,o,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||e;var c=Array.isArray(o);return c===Array.isArray(t)?c?a.arrayMerge(t,o,a):i(t,o,a):n(o,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})},a}()},902:e=>{e.exports=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})","Linux; U; Android"]},643:(e,t,n)=>{var r=n(902),o=new RegExp("("+r.join("|")+")","ig");e.exports=function(e){return!!e.match(o)}},126:(e,t,n)=>{var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=c||u||Function("return this")();function l(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var f=Object.prototype,d=f.hasOwnProperty,p=f.toString,v=s.Symbol,m=f.propertyIsEnumerable,g=v?v.isConcatSpreadable:void 0,h=Math.max;function y(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=w),o||(o=[]);++i<a;){var c=e[i];t>0&&n(c)?t>1?y(c,t-1,n,r,o):l(o,c):r||(o[o.length]=c)}return o}function w(e){return k(e)||function(e){return function(e){return S(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==i||t==a}(e)}(e)}(e)&&d.call(e,"callee")&&(!m.call(e,"callee")||p.call(e)==o)}(e)||!!(g&&e&&e[g])}function b(e){if("string"==typeof e||function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==p.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var k=Array.isArray;function S(e){return!!e&&"object"==typeof e}var T,O,I=(T=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=e[a];n(0,a)&&(i[a]=c)}return i}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(y(t,1),b))},O=h(void 0===O?T.length-1:O,0),function(){for(var e=arguments,t=-1,n=h(e.length-O,0),r=Array(n);++t<n;)r[t]=e[O+t];t=-1;for(var o=Array(O+1);++t<O;)o[t]=e[t];return o[O]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(T,this,o)});e.exports=I},350:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var s=0;s<u;++s){var l,f,d,p,v=e[s].replace(a,"%20"),m=v.indexOf(r);m>=0?(l=v.substr(0,m),f=v.substr(m+1)):(l=v,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),t(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i}},104:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[o]))})).filter(Boolean).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},966:(e,t,n)=>{"use strict";t.decode=t.parse=n(350),t.encode=t.stringify=n(104)},342:(e,t,n)=>{var r,o,i,a;r=n(677),o=n(943).utf8,i=n(943).bin,(a=function(e,t){var n=r.wordsToBytes(function(e){e.constructor==String?e=o.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=r.bytesToWords(e),n=8*e.length,i=[],a=1732584193,c=-271733879,u=-1732584194,s=271733878,l=-1009589776;t[n>>5]|=128<<24-n%32,t[15+(n+64>>>9<<4)]=n;for(var f=0;f<t.length;f+=16){for(var d=a,p=c,v=u,m=s,g=l,h=0;h<80;h++){if(h<16)i[h]=t[f+h];else{var y=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=y<<1|y>>>31}var w=(a<<5|a>>>27)+l+(i[h]>>>0)+(h<20?1518500249+(c&u|~c&s):h<40?1859775393+(c^u^s):h<60?(c&u|c&s|u&s)-1894007588:(c^u^s)-899497514);l=s,s=u,u=c<<30|c>>>2,c=a,a=w}a+=d,c+=p,u+=v,s+=m,l+=g}return[a,c,u,s,l]}(e));return t&&t.asBytes?n:t&&t.asString?i.bytesToString(n):r.bytesToHex(n)})._blocksize=16,a._digestsize=20,e.exports=a},54:e=>{e.exports=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}},124:function(e,t,n){"use strict";e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||this},300:e=>{"use strict";e.exports=t},787:t=>{"use strict";t.exports=e},940:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};return(()=>{"use strict";o.d(i,{default:()=>So});var e=o(940);function t(t){var n=function(t,n){if("object"!==(0,e.Z)(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==(0,e.Z)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===(0,e.Z)(n)?n:String(n)}function n(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var r=o(124),a=o.n(r),c=o(966);const u=console;var s,l,f,d,p=a().Date.now(),v=6e4,m=((l=a()&&a().location&&a().location.search)&&"function"==typeof l.replace&&(l=l.replace("?","")),c.parse(l)),g=!!(m&&m.timeOrigin&&Number(m.timeOrigin)),h=!1,y=function(){if(g)return"timeOriginQueryParam";if(!a()||!a().performance||"function"!=typeof a().performance.now)return"fallback";var e=a().performance.now(),t=a().Date.now(),n=a().performance.timeOrigin?Math.abs(a().performance.timeOrigin+e-t):v,r=n<v,o=a().performance.timing&&a().performance.timing.navigationStart,i="number"==typeof o?Math.abs(o+e-t):v,c=i<v;return r&&c?n<=i?"timeOrigin":"navigationStart":r?"timeOrigin":c?"navigationStart":"dateNow"}(),w=function(){switch(y){case"timeOriginQueryParam":return Number(m.timeOrigin);case"timeOrigin":return a().performance.timeOrigin;case"navigationStart":return a().performance.timing.navigationStart;case"dateNow":return a().Date.now()-a().performance.now();default:return p}}();function b(){var e;f=null!==(e=a().document)&&void 0!==e&&e.hidden?w/1e3:0,d=0}function k(e){if(!g&&"number"!=typeof e&&!h&&a()&&a().performance&&"function"==typeof a().performance.now)return a().performance.now()/1e3;var t=e||a().Date.now();return Math.max(t-w,0)/1e3}function S(){return w}b(),null===a()||void 0===a()||null===(s=a().addEventListener)||void 0===s||s.call(a(),"visibilitychange",(function(){var e;null!==(e=a().document)&&void 0!==e&&e.hidden?f=Date.now()/1e3:(d+=Date.now()/1e3-f,f=0)})),u.info("[getElapsedTime] Initialized with performanceTimeOriginMode: ".concat(y,".\n").concat(g?"Has timeOrigin query param.":"No timeOrigin query param."));var T=o(54),O=o.n(T),I={localStorage:{},sessionStorage:{}};function P(e){if(!O()("localStorage"))return I.localStorage[e]||"";try{return a().localStorage.getItem(e)}catch(e){return!1}}const C=JSON.parse('{"enabled":true,"snowplow":{"namespace":"ekoanalytics","collector":"spea.eko.com","options":{"appId":"EkoAnalytics","postPath":"/com.ziggy/tatabbue","eventMethod":"beacon","bufferSize":10,"stateStorageStrategy":"localStorage"},"timeout":10,"defaultTracking":"regular"},"ekoEnv":"development","kidsDomain":"kids.eko.com"}'),A=JSON.parse('{"snowplow":{"enableLinkClickTracking":{"pseudoClicks":true,"trackContent":false},"enableFormTracking":{"options":{"fields":{"denylist":["pass","password"]}}},"trackPageView":true,"enableButtonClickTracking":true},"heartbeat":false}'),E=JSON.parse('{"snowplow":{"options":{"bufferSize":1,"stateStorageStrategy":"none"}}}');var x=o(707),j=o.n(x),L={website:A,webworker:E},D={};const M=function(e){for(var t=j()(C,D),n=e.split("."),r=t[n[0]],o=1,i=n.length;o<i;o++)r&&(r=r[n[o]]);return r},_=function(e){return e.env&&Object.prototype.hasOwnProperty.call(L,e.env)&&(D=j()(D,L[e.env])),D=j()(D,e)};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R,U=["gdpr"];function B(){R=void 0}function F(){if(M("coppa"))return"coppa";var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(U);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("true"===P(n="ekoAnalytics."+n))return"regular";if("false"===P(n))return"anonymous"}}catch(e){t.e(e)}finally{t.f()}return M("snowplow.defaultTracking")||"regular"}const V={getPrivacySetting:function(){return R||(R=F())},getPrivacyPreference:function(e){return P(e="ekoAnalytics."+e)},setPrivacyPreference:function(e,t){return B(),R=void 0,function(e,t){if(O()("localStorage"))try{return a().localStorage.setItem(e,t)}catch(e){return!1}else I.localStorage[e]=t}(e="ekoAnalytics."+e,t)},resetPrivacy:B};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=0;function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function G(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,t(o.key),o)}}function Z(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $,Y=new RegExp("^iglu:[a-zA-Z0-9-_.]+/[a-zA-Z0-9-_]+/[a-zA-Z0-9-_]+/[0-9]+-[0-9]+-[0-9]+$"),K=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(Q(this,e),!t||!Y.test(t))throw new Error('Can\'t construct ContextPacker - invalid or missing "schema" value '.concat(t));if(!n||!(n instanceof RegExp||"string"==typeof n))throw new Error('Can\'t construct ContextPacker - invalid or missing "match" value '.concat(n));if(!r||"function"!=typeof r)throw new Error('Can\'t construct ContextPacker - invalid or missing "getData" function');this.schema=t,this.match=n,this.getData=r,this.tag=o}return Z(e,[{key:"isAMatch",value:function(e){return this.match instanceof RegExp?this.match.test(e):this.match===e}}]),e}(),ee=function(){function e(){Q(this,e),this.allPackers=[]}return Z(e,[{key:"addContextPacker",value:function(e){this.allPackers.push(new K(e.schema,e.match,e.getData,e.tag))}},{key:"getMatchingContextPackers",value:function(e){return this.allPackers.filter((function(t){return t.isAMatch(e)}))}},{key:"getMatchingContextsAsSnowplowArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.getMatchingContextPackers(e).map((function(e){return{schema:e.schema,data:e.getData.apply(e,G(t))}})).filter((function(e){return e.data}))}},{key:"clearContextPackers",value:function(e){e&&(this.allPackers=this.allPackers.filter((function(t){return t.tag!==e})))}}]),e}();ee.getInstance=function(){return $||($=new ee),$};var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},te.apply(this,arguments)};function ne(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var re,oe=new Uint8Array(16);function ie(){if(!re&&!(re="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return re(oe)}const ae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ce=[],ue=0;ue<256;++ue)ce.push((ue+256).toString(16).substr(1));const se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ce[e[t+0]]+ce[e[t+1]]+ce[e[t+2]]+ce[e[t+3]]+"-"+ce[e[t+4]]+ce[e[t+5]]+"-"+ce[e[t+6]]+ce[e[t+7]]+"-"+ce[e[t+8]]+ce[e[t+9]]+"-"+ce[e[t+10]]+ce[e[t+11]]+ce[e[t+12]]+ce[e[t+13]]+ce[e[t+14]]+ce[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&ae.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},le=function(e,t,n){var r=(e=e||{}).random||(e.rng||ie)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return se(r)};var fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function de(){var e,t={},n=[],r=[],o=[],i=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:i,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i(t,e[t])},addJson:function(e,t,o){if(o&&ve(o)){var i={keyIfEncoded:e,keyIfNotEncoded:t,json:o};r.push(i),n.push(i)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function pe(e){return function(t,n,r){for(var o=function(n,r,o){var i=JSON.stringify(n);e?t.add(r,function(e){if(!e)return e;var t=function(e){var t,n,r,o,i,a=0,c=0,u=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(i=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,u[c++]=fe.charAt(t)+fe.charAt(n)+fe.charAt(r)+fe.charAt(o)}while(a<e.length);var s=u.join(""),l=e.length%3;return(l?s.slice(0,l-3):s)+"===".slice(l||3)}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(i)):t.add(o,i)},i=function(n,r){var o=n||function(){var n=t.getPayload();if(e?n.cx:n.co)return JSON.parse(e?function(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,o,i,a,c,u=0,s=0,l=[];if(!e)return e;e+="";do{t=(a=fe.indexOf(e.charAt(u++))<<18|fe.indexOf(e.charAt(u++))<<12|(o=fe.indexOf(e.charAt(u++)))<<6|(i=fe.indexOf(e.charAt(u++))))>>16&255,n=a>>8&255,r=255&a,l[s++]=64===o?String.fromCharCode(t):64===i?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(u<e.length);return c=l.join("").replace(/\0+$/,""),decodeURIComponent(c.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}(n.cx):n.co)}();return o?o.data=o.data.concat(r.data):o=r,o},a=void 0,c=0,u=n;c<u.length;c++){var s=u[c];"cx"===s.keyIfEncoded?a=i(a,s.json):o(s.json,s.keyIfEncoded,s.keyIfNotEncoded)}n.length=0,r.length&&(a=i(a,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:ne([],r,!0)}),r.length=0),a&&o(a,"cx","co")}}function ve(e){if(!me(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function me(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var ge,he="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(ge||(ge={}));var ye,we=(void 0===ye&&(ye=ge.warn),{setLogLevel:function(e){ye=ge[e]?e:ge.warn},warn:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(ye>=ge.warn&&"undefined"!=typeof console){var o=he+e;t?console.warn.apply(console,ne([o+"\n",t],n,!1)):console.warn.apply(console,ne([o],n,!1))}},error:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(ye>=ge.error&&"undefined"!=typeof console){var o=he+e+"\n";t?console.error.apply(console,ne([o+"\n",t],n,!1)):console.error.apply(console,ne([o],n,!1))}},debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ye>=ge.debug&&"undefined"!=typeof console&&console.debug.apply(console,ne([he+e],t,!1))},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];ye>=ge.info&&"undefined"!=typeof console&&console.info.apply(console,ne([he+e],t,!1))}});function be(){var e=[],t=[];return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],i=0,a=n;i<a.length;i++){var c=a[i];je(c)?r.push(c):Ae(c)&&o.push(c)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){je(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):Ae(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},o=0,i=n;o<i.length;o++)r(i[o])},getApplicableContexts:function(n){return function(n){var r=function(e){for(var t=0,n=e.getJson();t<n.length;t++){var r=n[t];if("ue_px"===r.keyIfEncoded&&"object"==typeof r.json.data){var o=r.json.data.schema;if("string"==typeof o)return o}}return""}(n),o=function(e){var t=e.getPayload().e;return"string"==typeof t?t:""}(n),i=[],a=_e(e,n,o,r);i.push.apply(i,a);var c=function(e,t,n,r){var o,i=Me(e).map((function(e){var o=function(e,t,n,r){if(Ee(e)){var o=e[0],i=!1;try{i=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){i=!1}if(!0===i)return _e(e[1],t,n,r)}else if(xe(e)&&function(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some((function(e){return Le(e,t)}))&&r++:"string"==typeof o&&Le(o,t)&&r++;var i=e.reject;return Array.isArray(i)?e.reject.some((function(e){return Le(e,t)}))&&n++:"string"==typeof i&&Le(i,t)&&n++,r>0&&0===n}(e[0],r))return _e(e[1],t,n,r);return[]}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r);return i.push.apply(i,c),i}(n)}}}function ke(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return null!==(t=null==e?void 0:e.map((function(e){if("function"!=typeof e)return e;try{return e.apply(void 0,n)}catch(e){return}})).filter(Boolean))&&void 0!==t?t:[]}function Se(e){var t=e.split(".");return!!(t&&t.length>1)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(t)}function Te(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==t&&Se(t[1]))return t.slice(1,6)}function Oe(e){var t=Te(e);if(t){var n=t[0];return 5===t.length&&Se(n)}return!1}function Ie(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return Oe(e)})):"string"==typeof e&&Oe(e)}function Pe(e){var t=e;return!!(ve(t)&&"schema"in t&&"data"in t)&&"string"==typeof t.schema&&"object"==typeof t.data}function Ce(e){return"function"==typeof e&&e.length<=1}function Ae(e){return Ce(e)||Pe(e)}function Ee(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?Ce(e[0])&&e[1].every(Ae):Ce(e[0])&&Ae(e[1]))}function xe(e){return!(!Array.isArray(e)||2!==e.length)&&!!function(e){var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!Ie(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!Ie(t.reject))return!1;n+=1}return n>0&&n<=2}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(Ae):Ae(e[1]))}function je(e){return Ee(e)||xe(e)}function Le(e,t){if(!Oe(e))return!1;var n=Te(e),r=function(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==t)return t.slice(1,6)}(t);if(n&&r){if(!function(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!De(n[o],r[o]))return!1;return!0}return!1}(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!De(n[o],r[o]))return!1;return!0}return!1}function De(e,t){return e&&t&&"*"===e||e===t}function Me(e){return Array.isArray(e)?e:Array.of(e)}function _e(e,t,n,r){var o,i=Me(e).map((function(e){var o=function(e,t,n,r){if(Pe(e))return[e];if(Ce(e)){var o=function(e,t,n,r){var o=void 0;try{return o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(Pe)||Pe(o)?o:void 0}catch(e){o=void 0}return o}(e,t,n,r);if(Pe(o))return[o];if(Array.isArray(o))return o}}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,i.filter((function(e){return null!=e&&e.filter(Boolean)})))}function Ne(e){var t=e.event,n=t.schema,r=t.data,o=de(),i={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",i),o}function Re(e,t){void 0===t&&(t={});var n={};for(var r in e)(t[r]||null!==e[r]&&void 0!==e[r])&&(n[r]=e[r]);return n}var Ue=o(342),Be=o.n(Ue);function Fe(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function Ve(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function ze(e){try{return window.sessionStorage.getItem(e)}catch(e){return}}var He={sessionId:!0,sourceId:!0,sourcePlatform:!1,userId:!1,reason:!1};function qe(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function We(e){return!(!e||"string"!=typeof e.valueOf())}function Je(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Ge(e){if(!We(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function Qe(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function Xe(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function Ze(e){var t=window,n=Ye("referrer",t.location.href)||Ye("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function $e(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Ye(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Ke(e,t,n,r){tt(e,"",-1,"/",t,n,r)}function et(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function tt(e,t,n,r,o,i,a){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(i?"; SameSite="+i:"")+(a?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}function nt(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=Object.prototype.hasOwnProperty.call(e,"allowlist"),n=at(e);return it(e,(function(e){return function(e,t){for(var n=0,r=ot(e);n<r.length;n++)if(t[r[n]])return!0;return!1}(e,n)===t}))}function rt(e){if(null==e||"object"!=typeof e||Array.isArray(e))return function(){return!0};var t=e.hasOwnProperty("allowlist"),n=at(e);return it(e,(function(e){return e.name in n===t}))}function ot(e){return e.className.match(/\S+/g)||[]}function it(e,t){return e.hasOwnProperty("filter")&&e.filter?e.filter:t}function at(e){var t={},n=e.allowlist||e.denylist;if(n){Array.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++)t[n[r]]=!0}return t}var ct="iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",ut="iglu:com.snowplowanalytics.snowplow/browser_context/jsonschema/2-0-0",st="iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",lt="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4";function ft(e,t,n,r,o,i,a,c,u,s,l,f,d,p,v,m,g,h,y,w){void 0===h&&(h=!0);var b,k,S=!1,T=[],O=!1,I=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,P=Boolean(I&&window.navigator&&window.navigator.sendBeacon&&!(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=13}(0,k=window.navigator.userAgent)||function(e,t,n){var r=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=10||10===parseInt(r[0])&&parseInt(r[1])<=15)}(0,0,k)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(k)))&&I,C="get"===r,A=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),E=!C&&A&&("post"===r||I),x=E?o:"/i",j="snowplowOutQueue_".concat(e,"_").concat(E?"post2":"get");if(I&&(d={}),i=n&&function(){var e="modernizr";if(!function(){try{return!!window.localStorage}catch(e){return!0}}())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}()&&E&&i||1,n)try{var L=window.localStorage.getItem(j);T=L?JSON.parse(L):[]}catch(e){}function D(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.toString(),e}),{});return{evt:t,bytes:M(JSON.stringify(t))}}function M(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(T)||(T=[]),t.outQueues.push(T),A&&i>1&&t.bufferFlushers.push((function(e){S||B(e)}));var _=function(e){return"object"==typeof e[0]&&"evt"in e[0]};function N(e,t){var n=V(t,!0,!1),r=H([e.evt]);n.onreadystatechange=function(){4===n.readyState&&(F(n.status)?null==y||y(r):null==w||w({status:n.status,message:n.statusText,events:r,willRetry:!1}))},n.send(z(r))}function R(e){for(var t=0;t<e;t++)T.shift();n&&Fe(j,JSON.stringify(T.slice(0,s)))}function U(e,t,n){e.onreadystatechange=function(){if(4===e.readyState)if(clearTimeout(r),F(e.status))R(t),null==y||y(n),B();else{var o=!(F(i=e.status)||!h||!v.includes(i)&&m.includes(i));o||(we.error("Status ".concat(e.status,", will not retry.")),R(t)),null==w||w({status:e.status,message:e.statusText,events:n,willRetry:o}),S=!1}var i};var r=setTimeout((function(){e.abort(),h||R(t),null==w||w({status:0,message:"timeout",events:n,willRetry:h}),S=!1}),l)}function B(e){for(void 0===e&&(e=!1);T.length&&"string"!=typeof T[0]&&"object"!=typeof T[0];)T.shift();if(T.length){if(!We(b))throw"No collector configured";if(S=!0,g&&!O){var t=V(g,!1,e);return O=!0,t.timeout=l,t.onreadystatechange=function(){4===t.readyState&&B()},void t.send()}if(A){var r=void 0,o=void 0,i=void 0;if(_(T)?(o=V(r=b,!0,e),i=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=a);)t+=1;return t}(T)):(o=V(r=q(T[0]),!1,e),i=1),_(T)){var c=T.slice(0,i);if(c.length>0){var u=!1,d=c.map((function(e){return e.evt}));if(P){var p=new Blob([z(H(d))],{type:"application/json"});try{u=navigator.sendBeacon(r,p)}catch(e){u=!1}}if(!0===u)R(i),null==y||y(c),B();else{var v=H(d);U(o,i,v),o.send(z(v))}}}else U(o,i,[r]),o.send()}else if(f||_(T))S=!1;else{var m=new Image(1,1),h=!0;m.onload=function(){h&&(h=!1,T.shift(),n&&Fe(j,JSON.stringify(T.slice(0,s))),B())},m.onerror=function(){h&&(h=!1,S=!1)},m.src=q(T[0]),setTimeout((function(){h&&S&&(h=!1,B())}),l)}}else S=!1}function F(e){return e>=200&&e<300}function V(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=p,f&&r.setRequestHeader("SP-Anonymous","*"),d)Object.prototype.hasOwnProperty.call(d,o)&&r.setRequestHeader(o,d[o]);return r}function z(e){return JSON.stringify({schema:lt,data:e})}function H(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function q(e){return u?b+e.replace("?","?stm="+(new Date).getTime()+"&"):b+e}return{enqueueRequest:function(e,t){b=t+x;var r=function(e,t){return we.warn("Event ("+e+"B) too big, max is "+t)};if(E){if((l=D(e)).bytes>=a)return r(l.bytes,a),void N(l,b);T.push(l)}else{var u=function(e){var t="?",n={co:!0,cx:!0},r=!0;for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r?r=!1:t+="&",t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var i in n)e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(t+="&"+i+"="+encodeURIComponent(e[i]));return t}(e);if(c>0){var l,f=M(q(u));if(f>=c)return r(f,c),void(A&&N(l=D(e),t+o))}T.push(u)}var d=!1;n&&(d=Fe(j,JSON.stringify(T.slice(0,s)))),S||d&&!(T.length>=i)||B()},executeQueue:function(){S||B()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){f=e},setCollectorUrl:function(e){b=e+x},setBufferSize:function(e){i=e}}}function dt(e,t,n){var r,o,i;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=Qe(t=null!==(o=t,"u",r=(i=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(o))&&(null==i?void 0:i.length)>1?Ye("u",i[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=Qe(t=document.links[0].href)),[e,t,n]}var pt=0,vt=1,mt=2,gt=3,ht=4,yt=5,wt=6,bt=7,kt=8,St=9,Tt=10;function Ot(e,t){void 0===t&&(t={memorizedVisitCount:1});var n=t.memorizedVisitCount;Et(e)?(e[bt]=e[wt],e[yt]=e[ht],e[gt]++):e[gt]=n;var r=le();return e[wt]=r,e[Tt]=0,e[kt]="",e[St]=void 0,r}function It(e){e[ht]=Math.round((new Date).getTime()/1e3)}function Pt(e,t,n){var r=e[St];return{userId:n?"00000000-0000-0000-0000-000000000000":e[vt],sessionId:e[wt],eventIndex:e[Tt],sessionIndex:e[gt],previousSessionId:n?null:e[bt]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[kt]||null,firstEventTimestamp:r?new Date(r).toISOString():null}}function Ct(e){return e[wt]}function At(e){return e[gt]}function Et(e){return"0"===e[pt]}var xt="x";function jt(){return{viewport:Mt(Lt()),documentSize:Mt(Dt()),resolution:Mt(screen.width+xt+screen.height),colorDepth:screen.colorDepth,devicePixelRatio:window.devicePixelRatio,cookiesEnabled:window.navigator.cookieEnabled,online:window.navigator.onLine,browserLanguage:navigator.language||navigator.userLanguage,documentLanguage:document.documentElement.lang,webdriver:window.navigator.webdriver,deviceMemory:window.navigator.deviceMemory,hardwareConcurrency:window.navigator.hardwareConcurrency}}function Lt(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return e>=0&&t>=0?e+xt+t:null}function Dt(){var e=document.documentElement,t=document.body,n=t?Math.max(t.offsetHeight,t.scrollHeight):0,r=Math.max(e.clientWidth,e.offsetWidth,e.scrollWidth),o=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight,n);return isNaN(r)||isNaN(o)?"":r+xt+o}function Mt(e){return e&&e.split(xt).map((function(e){return Math.floor(Number(e))})).join(xt)}function _t(e,t,n,r,o,i){void 0===i&&(i={});var a=[],c=function(e,t,n,r,o,i){var c,u,s,l,f,d,p,v,m,g,h,y,w,b,k,S,T,O,I,P,C,A,E,x,j,L,D,M;i.eventMethod=null!==(c=i.eventMethod)&&void 0!==c?c:"post";var _,N,R=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},U=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n},B=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n},F=function(e){return!!e.anonymousTracking},V=null!==(s=null===(u=null==i?void 0:i.contexts)||void 0===u?void 0:u.browser)&&void 0!==s&&s,z=null===(f=null===(l=null==i?void 0:i.contexts)||void 0===l?void 0:l.webPage)||void 0===f||f;a.push((_=function(e){return Re?null:e},N=function(e){return _e?e:_(e)},{beforeTrack:function(e){var t=Jt("ses"),n=an(),r=0===function(e){return e[Tt]}(n);if(ae=!!Q&&!!tt(Q),Le||ae)nn();else{Et(n)?(oe=t||"none"==Ue?Ct(n):Ot(n),nt=At(n)):(new Date).getTime()-We>1e3*Me&&(nt++,oe=Ot(n,{memorizedVisitCount:nt})),It(n),function(e,t){if(0===e[Tt]){var n=t.build();e[kt]=n.eid;var r=n.dtm||n.ttm;e[St]=r?parseInt(r):void 0}}(n,e),function(e){e[Tt]+=1}(n);var o=jt(),i=o.viewport,a=o.documentSize;e.add("vp",i),e.add("ds",a),e.add("vid",N(nt)),e.add("sid",N(oe)),e.add("duid",_(function(e){return e[vt]}(n))),e.add("uid",_(ie)),Vt(),e.add("refr",Ht(H||he)),e.add("url",Ht(q||ge));var c=Pt(n,Ue,Re);if(!lt||Re&&!_e||function(e,t){var n={schema:st,data:t};e.addContextEntity(n)}(e,c),"none"!=Ue){en(n);var u=Kt();t&&!r||!u||!xt||Lt||(xt(c),Lt=!1)}We=(new Date).getTime()}}})),z&&a.push({contexts:function(){return[{schema:ct,data:{id:sn()}}]}}),V&&a.push({contexts:function(){return[{schema:ut,data:te(te({},jt()),{tabId:ln()})}]}}),a.push.apply(a,null!==(d=i.plugins)&&void 0!==d?d:[]);var H,q,W,J,G,Q,X,Z,$,Y,K,ee,re,oe,ie,ae,ce,ue=function(e){void 0===e&&(e={});var t=e.base64,n=e.corePlugins,r=e.callback,o=null!=n?n:[],i=function(e,t,n){var r=function(e){return{addPluginContexts:function(t){var n=t?ne([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){we.error("Error adding plugin contexts",e)}})),n}}}(t),o=be(),i=e,a={};function c(e,t){a[e]=t}return{track:function(e,c,u){e.withJsonProcessor(pe(i)),e.add("eid",le()),e.addDict(a);var s=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(u);e.add(s.type,s.value.toString());var l=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(function(e,t){var n=o.getApplicableContexts(e),r=[];return t&&t.length&&r.push.apply(r,t),n&&n.length&&r.push.apply(r,n),r}(e,r.addPluginContexts(c)));void 0!==l&&e.addJson("cx","co",l),t.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){we.error("Plugin beforeTrack",e)}})),"function"==typeof n&&n(e);var f=e.build();return t.forEach((function(e){try{e.afterTrack&&e.afterTrack(f)}catch(e){we.error("Plugin afterTrack",e)}})),f},addPayloadPair:c,getBase64Encoding:function(){return i},setBase64Encoding:function(e){i=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])},resetPayloadPairs:function(e){a=me(e)?e:{}},setTrackerVersion:function(e){c("tv",e)},setTrackerNamespace:function(e){c("tna",e)},setAppId:function(e){c("aid",e)},setPlatform:function(e){c("p",e)},setUserId:function(e){c("uid",e)},setScreenResolution:function(e,t){c("res",e+"x"+t)},setViewport:function(e,t){c("vp",e+"x"+t)},setColorDepth:function(e){c("cd",e)},setTimezone:function(e){c("tz",e)},setLang:function(e){c("lang",e)},setIpAddress:function(e){c("ip",e)},setUseragent:function(e){c("ua",e)},addGlobalContexts:function(e){o.addGlobalContexts(e)},clearGlobalContexts:function(){o.clearGlobalContexts()},removeGlobalContexts:function(e){o.removeGlobalContexts(e)}}}(null==t||t,o,r),a=te(te({},i),{addPlugin:function(e){var t,n,r=e.plugin;o.push(r),null===(t=r.logger)||void 0===t||t.call(r,we),null===(n=r.activateCorePlugin)||void 0===n||n.call(r,a)}});return null==o||o.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,we),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,a)})),a}({base64:i.encodeBase64,corePlugins:a,callback:function(e){Le||ae||rt.enqueueRequest(e.build(),ke)}}),se=document.characterSet||document.charset,fe=dt(window.location.hostname,window.location.href,Ze()),ve=Xe(fe[0]),ge=fe[1],he=fe[2],ye=null!==(p=i.platform)&&void 0!==p?p:"web",ke=cn(r),Se=null!==(v=i.postPath)&&void 0!==v?v:"/com.snowplowanalytics.snowplow/tp2",Te=null!==(m=i.appId)&&void 0!==m?m:"",Oe=document.title,Ie=null===(g=i.resetActivityTrackingOnPageView)||void 0===g||g,Pe=null!==(h=i.cookieName)&&void 0!==h?h:"_sp_",Ce=null!==(y=i.cookieDomain)&&void 0!==y?y:void 0,Ae="/",Ee=null!==(w=i.cookieSameSite)&&void 0!==w?w:"None",xe=null===(b=i.cookieSecure)||void 0===b||b,je=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Le=void 0!==i.respectDoNotTrack&&i.respectDoNotTrack&&("yes"===je||"1"===je),De=null!==(k=i.cookieLifetime)&&void 0!==k?k:63072e3,Me=null!==(S=i.sessionCookieTimeout)&&void 0!==S?S:1800,_e=U(i),Ne=B(i),Re=F(i),Ue=R(i),We=(new Date).getTime(),nt=1,rt=ft(e,o,"localStorage"==Ue||"cookieAndLocalStorage"==Ue,i.eventMethod,Se,null!==(T=i.bufferSize)&&void 0!==T?T:1,null!==(O=i.maxPostBytes)&&void 0!==O?O:4e4,null!==(I=i.maxGetBytes)&&void 0!==I?I:0,null===(P=i.useStm)||void 0===P||P,null!==(C=i.maxLocalStorageQueueSize)&&void 0!==C?C:1e3,null!==(A=i.connectionTimeout)&&void 0!==A?A:5e3,Ne,null!==(E=i.customHeaders)&&void 0!==E?E:{},null===(x=i.withCredentials)||void 0===x||x,null!==(j=i.retryStatusCodes)&&void 0!==j?j:[],(null!==(L=i.dontRetryStatusCodes)&&void 0!==L?L:[]).concat([400,401,403,410,422]),i.idService,i.retryFailedRequests,i.onRequestSuccess,i.onRequestFailure),ot=!1,it=!1,at={enabled:!1,installed:!1,configurations:{}},lt=null!==(M=null===(D=i.contexts)||void 0===D?void 0:D.session)&&void 0!==M&&M,xt=i.onSessionUpdateCallback,Lt=!1,Dt="boolean"==typeof(ce=i.useExtendedCrossDomainLinker||!1)?{useExtendedCrossDomainLinker:ce}:{useExtendedCrossDomainLinker:!0,collectCrossDomainAttributes:ce},Mt=Dt.useExtendedCrossDomainLinker,_t=Dt.collectCrossDomainAttributes;i.hasOwnProperty("discoverRootDomain")&&i.discoverRootDomain&&(Ce=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),i="_test_value_"+(new Date).getTime(),a=n.split("."),c=a.length-2;c>=0;c--){var u=a.slice(c).join(".");if(tt(o,i,0,"/",u,e,t),tt(o)===i){Ke(o,u,e,t);for(var s=et(r),l=0;l<s.length;l++)Ke(s[l],u,e,t);return u}}return n}(Ee,xe));var Nt=jt(),Rt=Nt.browserLanguage,Ut=Nt.resolution,Bt=Nt.colorDepth,Ft=Nt.cookiesEnabled;function Vt(){(fe=dt(window.location.hostname,window.location.href,Ze()))[1]!==ge&&(he=Ze(ge)),ve=Xe(fe[0]),ge=fe[1]}function zt(e){for(var t=function(e){return function(t){var n=t.currentTarget,r=function(e,t,n){var r,o=(new Date).getTime(),i=te(te({},He),t),a=n.domainUserId,c=n.userId,u=n.sessionId,s=n.sourceId,l=n.sourcePlatform,f=n.event,d=f.currentTarget,p="function"==typeof i.reason?i.reason(f):null===(r=null==d?void 0:d.textContent)||void 0===r?void 0:r.trim();return e?[a,o,i.sessionId&&u,i.userId&&qe(c||""),i.sourceId&&qe(s||""),i.sourcePlatform&&l,i.reason&&qe(p||"")].map((function(e){return e||""})).join(".").replace(/([.]*$)/,""):n.domainUserId+"."+o}(e,_t,{domainUserId:re,userId:ie||void 0,sessionId:oe,sourceId:Te,sourcePlatform:ye,event:t});(null==n?void 0:n.href)&&(n.href=function(e,t,n){var r=t+"="+n,o=e.split("#"),i=o[0].split("?"),a=i.shift(),c=i.join("?");if(c){for(var u=!0,s=c.split("&"),l=0;l<s.length;l++)if(s[l].substr(0,4)===t+"="){u=!1,s[l]=r,c=s.join("&");break}u&&(c=r+"&"+c)}else c=r;return o[0]=a+"?"+c,o.join("#")}(n.href,"_sp",r))}}(Mt),n=0;n<document.links.length;n++){var r=document.links[n];!r.spDecorationEnabled&&e(r)&&(r.addEventListener("click",t,!0),r.addEventListener("mousedown",t,!0),r.spDecorationEnabled=!0)}}function Ht(e){var t;return J&&(t=new RegExp("#.*"),e=e.replace(t,"")),G&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function qt(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function Wt(e){return Pe+e+"."+ee}function Jt(e){var t=Wt(e);return"localStorage"==Ue?function(e){try{var t=window.localStorage,n=t.getItem(e+".expires");return null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){return}}(t):"cookie"==Ue||"cookieAndLocalStorage"==Ue?tt(t):void 0}function Gt(){Vt(),ee=Be()((Ce||ve)+(Ae||"/")).slice(0,4)}function Qt(){var e=new Date;X=e.getTime()}function Xt(){!function(){var e=Zt(),t=e[0];t<Z?Z=t:t>$&&($=t);var n=e[1];n<Y?Y=n:n>K&&(K=n)}(),Qt()}function Zt(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function $t(){var e=Zt(),t=e[0];Z=t,$=t;var n=e[1];Y=n,K=n}function Yt(e){return Math.round(e)}function Kt(){return tn(Wt("ses"),"*",Me)}function en(e){var t=Wt("id"),n=function(e,t){var n=ne([],e,!0);return t&&(n[vt]="",n[bt]=""),n.shift(),n.join(".")}(e,Re);return tn(t,n,De)}function tn(e,t,n){return!(Re&&!_e)&&("localStorage"==Ue?Fe(e,t,n):("cookie"==Ue||"cookieAndLocalStorage"==Ue)&&(tt(e,t,n,Ae,Ce,Ee,xe),-1!==document.cookie.indexOf("".concat(e,"="))))}function nn(e){var t=Wt("id"),n=Wt("ses");Ve(t),Ve(n),Ke(t,Ce,Ee,xe),Ke(n,Ce,Ee,xe),(null==e?void 0:e.preserveSession)||(oe=le(),nt=1),(null==e?void 0:e.preserveUser)||(re=Re?"":le(),ie=null)}function rn(e){e&&e.stateStorageStrategy&&(i.stateStorageStrategy=e.stateStorageStrategy,Ue=R(i)),Re=F(i),_e=U(i),Ne=B(i),rt.setUseLocalStorage("localStorage"==Ue||"cookieAndLocalStorage"==Ue),rt.setAnonymousTracking(Ne)}function on(){if(!Re||_e){var e="none"!=Ue&&!!Jt("ses"),t=an();re=function(e,t){var n;return e[vt]?n=e[vt]:t?(n="",e[vt]=n):(n=le(),e[vt]=n),n}(t,Re),oe=e?Ct(t):Ot(t),nt=At(t),"none"!=Ue&&(Kt(),It(t),en(t))}}function an(){return"none"==Ue?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o,i=new Date,a=Math.round(i.getTime()/1e3);e?(o=e.split(".")).unshift("0"):o=["1",t,a,r,a,"",n],o[wt]&&"undefined"!==o[wt]||(o[wt]=le()),o[bt]&&"undefined"!==o[bt]||(o[bt]=""),o[kt]&&"undefined"!==o[kt]||(o[kt]=""),o[St]&&"undefined"!==o[St]||(o[St]=""),o[Tt]&&"undefined"!==o[Tt]||(o[Tt]=0);var c=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},u=function(e){return e?c(e,void 0):void 0};return[o[pt],o[vt],c(o[mt],a),c(o[gt],r),c(o[ht],a),u(o[yt]),o[wt],o[bt],o[kt],u(o[St]),c(o[Tt],0)]}(Jt("id")||void 0,re,oe,nt)}function cn(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function un(){ot&&null!=o.pageViewId||(o.pageViewId=le())}function sn(){return null==o.pageViewId&&(o.pageViewId=le()),o.pageViewId}function ln(){if("none"===Ue||Re||!z)return null;var e="_sp_tab_id",t=ze(e);return t||(function(e,t){try{return window.sessionStorage.setItem(e,t),!0}catch(e){return!1}}(e,le()),t=ze(e)),t||null}function fn(e,t){return(e||[]).concat(t?t():[])}function dn(e,t,n){var r=function(e,t){Vt(),e({context:t,pageViewId:sn(),minXOffset:Z,minYOffset:Y,maxXOffset:$,maxYOffset:K}),$t()},o=function(){var o=new Date;X+e.configHeartBeatTimer>o.getTime()&&r(e.callback,fn(t,n))};0===e.configMinimumVisitLength?e.activityInterval=window.setInterval(o,e.configHeartBeatTimer):e.activityInterval=window.setTimeout((function(){var i=new Date;X+e.configMinimumVisitLength>i.getTime()&&r(e.callback,fn(t,n)),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength)}function pn(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,r=e.callback;if(Je(t)&&Je(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:r};we.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function vn(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,i=e.maxYOffset,a=document.title;a!==Oe&&(Oe=a,W=void 0),ue.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,i=e.maxXOffset,a=e.minYOffset,c=e.maxYOffset,u=de();return u.add("e","pp"),u.add("url",t),u.add("page",n),u.add("refr",r),o&&!isNaN(Number(o))&&u.add("pp_mix",o.toString()),i&&!isNaN(Number(i))&&u.add("pp_max",i.toString()),a&&!isNaN(Number(a))&&u.add("pp_miy",a.toString()),c&&!isNaN(Number(c))&&u.add("pp_may",c.toString()),u}({pageUrl:Ht(q||ge),pageTitle:Ge(W||Oe),referrer:Ht(H||he),minXOffset:Yt(n),maxXOffset:Yt(o),minYOffset:Yt(r),maxYOffset:Yt(i)}),t)}function mn(e){var t=at.configurations[e];0===(null==t?void 0:t.configMinimumVisitLength)?window.clearTimeout(null==t?void 0:t.activityInterval):window.clearInterval(null==t?void 0:t.activityInterval),at.configurations[e]=void 0}ue.setTrackerVersion(n),ue.setTrackerNamespace(t),ue.setAppId(Te),ue.setPlatform(ye),ue.addPayloadPair("cookie",Ft?"1":"0"),ue.addPayloadPair("cs",se),ue.addPayloadPair("lang",Rt),ue.addPayloadPair("res",Ut),ue.addPayloadPair("cd",Bt),Gt(),on(),i.crossDomainLinker&&zt(i.crossDomainLinker);var gn={getDomainSessionIndex:function(){return nt},getPageViewId:sn,getTabId:ln,newSession:function(){var e=an();if(Et(e)?(oe="none"!=Ue?Ot(e):Ct(e),nt=At(e)):(nt++,oe=Ot(e,{memorizedVisitCount:nt})),It(e),"none"!=Ue){var t=Pt(e,Ue,Re);en(e),Kt()&&xt&&(Lt=!0,xt(t))}We=(new Date).getTime()},getCookieName:function(e){return Wt(e)},getUserId:function(){return ie},getDomainUserId:function(){return an()[1]},getDomainUserInfo:function(){return an()},setReferrerUrl:function(e){H=e},setCustomUrl:function(e){Vt(),q=function(e,t){var n;return qt(t)?t:"/"===t.slice(0,1)?qt(e)+"://"+Qe(e)+t:((n=(e=Ht(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(ge,e)},setDocumentTitle:function(e){Oe=document.title,W=e},discardHashTag:function(e){J=e},discardBrace:function(e){G=e},setCookiePath:function(e){Ae=e,Gt()},setVisitorCookieTimeout:function(e){De=e},crossDomainLinker:function(e){zt(e)},enableActivityTracking:function(e){at.configurations.pagePing||(at.enabled=!0,at.configurations.pagePing=pn(te(te({},e),{callback:vn})))},enableActivityTrackingCallback:function(e){at.configurations.callback||(at.enabled=!0,at.configurations.callback=pn(e))},disableActivityTracking:function(){mn("pagePing")},disableActivityTrackingCallback:function(){mn("callback")},updatePageActivity:function(){Qt()},setOptOutCookie:function(e){Q=e},setUserId:function(e){ie=e},setUserIdFromLocation:function(e){Vt(),ie=Ye(e,ge)},setUserIdFromReferrer:function(e){Vt(),ie=Ye(e,he)},setUserIdFromCookie:function(e){ie=tt(e)},setCollectorUrl:function(e){ke=cn(e),rt.setCollectorUrl(ke)},setBufferSize:function(e){rt.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),rt.executeQueue(),e.newBufferSize&&rt.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),function(e){var t=e.title,n=e.context,r=e.timestamp,o=e.contextCallback;Vt(),it&&un(),it=!0,Oe=document.title;var i=Ge((W=t)||Oe);ue.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=de();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}({pageUrl:Ht(q||ge),pageTitle:i,referrer:Ht(H||he)}),fn(n,o),r);var a=new Date,c=!1;if(at.enabled&&!at.installed){at.installed=!0,c=!0;var u={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),u.hasSupport=e}}};u.update();var s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(u,"hasSupport")?$e(document,s,Qt,{passive:!0}):$e(document,s,Qt),$t();var l=function(e,t){return void 0===t&&(t=Qt),function(e){return $e(document,e,t)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup","touchend","touchstart"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,Xt)("scroll")}if(at.enabled&&(Ie||c)){X=a.getTime();var f=void 0;for(f in at.configurations){var d=at.configurations[f];d&&(window.clearInterval(d.activityInterval),dn(d,n,o))}}}(e)},preservePageViewId:function(){ot=!0},disableAnonymousTracking:function(e){i.anonymousTracking=!1,rn(e),on(),rt.executeQueue()},enableAnonymousTracking:function(e){var t;i.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,rn(e),_e||un()},clearUserData:nn};return te(te({},gn),{id:e,namespace:t,core:ue,sharedState:o})}(e,t,n,r,o,i),u=te(te({},c),{addPlugin:function(e){var t,n;u.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,u)}});return a.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,u)})),u}var Nt={};function Rt(e,t){try{(n=null!=e?e:Object.keys(Nt),Ut(n,Nt)).forEach(t)}catch(e){we.error("Function failed",e)}var n}function Ut(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];t.hasOwnProperty(i)?n.push(t[i]):we.warn(i+" not configured")}return n}var Bt=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};var Ft="undefined"!=typeof window?function(){var e=new Bt,t=document,n=window;function r(){var t;if(!e.hasLoaded)for(e.hasLoaded=!0,t=0;t<e.registeredOnLoadHandlers.length;t++)e.registeredOnLoadHandlers[t]();return!0}return t.visibilityState&&$e(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),$e(n,"beforeunload",(function(){e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),r()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),r())})),$e(n,"load",r,!1)):r(),e}():void 0;var Vt=M("snowplow.timeout"),zt={},Ht=function(){function e(t){Q(this,e),this.eventsQueuedSinceTimeout=0,this.namespace=t,this.bufferSize=M("snowplow.options.bufferSize")}return Z(e,[{key:"flushBuffer",value:function(){var e;this.eventsQueuedSinceTimeout&&(e=[this.namespace],Rt(void 0,(function(t){t.flushBuffer(e)}))),this.eventsQueuedSinceTimeout=0}},{key:"resetTimeout",value:function(){var e=this;this.timeout&&a().clearTimeout(this.timeout),this.timeout=a().setTimeout((function(){return e.flushBuffer()}),1e3*Vt)}},{key:"onTrack",value:function(){this.eventsQueuedSinceTimeout+=1,this.eventsQueuedSinceTimeout>=this.bufferSize&&(this.eventsQueuedSinceTimeout=0),this.resetTimeout()}},{key:"setBufferSize",value:function(e){this.bufferSize=e,function(e,t){Rt(t,(function(t){t.setBufferSize(e)}))}(e,[this.namespace])}}]),e}();const qt=function(e){M("snowplow.options.bufferSize")>1&&(zt[e]=new Ht(e),zt[e].resetTimeout())},Wt=function(e){zt[e]&&zt[e].onTrack()},Jt=function(e,t){zt[e]&&zt[e].setBufferSize(t)};var Gt;!function(e){e.CHANGE_FORM="change_form",e.FOCUS_FORM="focus_form",e.SUBMIT_FORM="submit_form"}(Gt||(Gt={}));var Qt=[Gt.CHANGE_FORM,Gt.FOCUS_FORM,Gt.SUBMIT_FORM],Xt=["textarea","input","select"],Zt=function(e){return e};function $t(e,t){var n,r=t.options,o=t.context,i=e.id+"form",a=function(e){if(e){var t=function(e){return!0},n=null;return function(e){return null!=e&&Array.prototype.slice.call(e).length>0}(e.forms)?n=e.forms:t=nt(e.forms),{forms:n,formFilter:t,fieldFilter:rt(e.fields),fieldTransform:(r=e.fields,r&&Object.prototype.hasOwnProperty.call(r,"transform")?r.transform:Zt),eventFilter:function(t){var n;return(null!==(n=e.events)&&void 0!==n?n:Qt).indexOf(t)>-1}}}var r;return{forms:null,formFilter:function(){return!0},fieldFilter:function(){return!0},fieldTransform:Zt,eventFilter:function(){return!0}}}(r),c=null!==(n=a.forms)&&void 0!==n?n:document.getElementsByTagName("form");Array.prototype.slice.call(c).forEach((function(t){a.formFilter(t)&&(Array.prototype.slice.call(Xt).forEach((function(n){Array.prototype.slice.call(t.getElementsByTagName(n)).forEach((function(t){a.fieldFilter(t)&&!t[i]&&"password"!==t.type.toLowerCase()&&(a.eventFilter(Gt.FOCUS_FORM)&&$e(t,"focus",en(e,a,"focus_form",o),!1),a.eventFilter(Gt.CHANGE_FORM)&&$e(t,"change",en(e,a,"change_form",o),!1),t[i]=!0)}))})),t[i]||(a.eventFilter(Gt.SUBMIT_FORM)&&$e(t,"submit",function(e,t,n,r){return function(o){var i,a=o.target,c=function(e,t){var n=[];return Array.prototype.slice.call(Xt).forEach((function(r){var o=Array.prototype.slice.call(t.getElementsByTagName(r)).filter((function(t){return t.hasOwnProperty(e)}));Array.prototype.slice.call(o).forEach((function(e){if("submit"!==e.type){var t={elementData:{name:Yt(e),value:e.value,nodeName:e.nodeName},originalElement:e};e.type&&"INPUT"===e.nodeName.toUpperCase()&&(t.elementData.type=e.type),"checkbox"!==e.type&&"radio"!==e.type||e.checked||(t.elementData.value=null),n.push(t)}}))})),n}(n,a);c.forEach((function(e){var n,r=e.elementData;r.value=null!==(n=t.fieldTransform(r.value,r,e.originalElement))&&void 0!==n?n:r.value}));var u,s=c.map((function(e){return e.elementData}));e.core.track(Ne({event:{schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:Re({formId:(u={formId:null!==(i=Yt(a))&&void 0!==i?i:"",formClasses:ot(a),elements:s}).formId,formClasses:u.formClasses,elements:u.elements})}}),ke(r,a,s))}}(e,a,i,o)),t[i]=!0))}))}function Yt(e){for(var t=0,n=["name","id","type","nodeName"];t<n.length;t++){var r=n[t];if(0!=e[r]&&"string"==typeof e[r])return e[r]}return null}function Kt(e){for(;e&&e.nodeName&&"HTML"!==e.nodeName.toUpperCase()&&"FORM"!==e.nodeName.toUpperCase();)e=e.parentNode;return e&&e.nodeName&&"FORM"===e.nodeName.toUpperCase()?Yt(e):null}function en(e,t,n,r){return function(o){var i,a,c=o.target;if(c){var u=c.nodeName&&"INPUT"===c.nodeName.toUpperCase()?c.type:null,s="checkbox"!==c.type||c.checked?t.fieldTransform(c.value,c,c):null;("change_form"===n||"checkbox"!==u&&"radio"!==u)&&e.core.track(function(e){var t="",n=e.schema,r=e.type,o={formId:e.formId,elementId:e.elementId,nodeName:e.nodeName,elementClasses:e.elementClasses,value:e.value};return"change_form"===n?(t="iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",o.type=r):"focus_form"===n&&(t="iglu:com.snowplowanalytics.snowplow/focus_form/jsonschema/1-0-0",o.elementType=r),Ne({event:{schema:t,data:Re(o,{value:!0})}})}({schema:n,formId:null!==(i=Kt(c))&&void 0!==i?i:"",elementId:null!==(a=Yt(c))&&void 0!==a?a:"",nodeName:c.nodeName,type:u,elementClasses:ot(c),value:null!=s?s:null}),ke(r,c,u,s))}}}var tn={},nn={},rn={};function on(e,t,n){for(var r,o,i,a,c,u;null!==(r=t.parentElement)&&null!=r&&"A"!==(o=t.tagName.toUpperCase())&&"AREA"!==o;)t=r;var s,l=t;if(null!=l.href){var f=l.hostname||Qe(l.href),d=f.toLowerCase(),p=l.href.replace(f,d);new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript):","i").test(p)||(i=l.id,a=ot(l),c=l.target,u=rn[e.id].linkTrackingContent?l.innerHTML:void 0,p=unescape(p),e.core.track(Ne({event:{schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:Re({targetUrl:(s={targetUrl:p,elementId:i,elementClasses:a,elementTarget:c,elementContent:u}).targetUrl,elementId:s.elementId,elementClasses:s.elementClasses,elementTarget:s.elementTarget,elementContent:s.elementContent})}}),ke(n,t)))}}function an(e,t){return function(n){var r,o;r=(n=n||window.event).which||n.button,o=n.target||n.srcElement,"click"===n.type?o&&on(nn[e],o,t):"mousedown"===n.type?1!==r&&2!==r||!o?rn[e].lastButton=rn[e].lastTarget=null:(rn[e].lastButton=r,rn[e].lastTarget=o):"mouseup"===n.type&&(r===rn[e].lastButton&&o===rn[e].lastTarget&&on(nn[e],o,t),rn[e].lastButton=rn[e].lastTarget=null)}}function cn(e,t){var n=void 0===e?{}:e,r=n.options,o=n.pseudoClicks,i=n.trackContent,a=n.context;rn[t]={linkTrackingContent:i,linkTrackingContext:a,linkTrackingPseudoClicks:o,linkTrackingFilter:nt(r)}}function un(e){var t,n,r,o,i,a=document.links;for(r=0;r<a.length;r++)(null===(n=(t=rn[e]).linkTrackingFilter)||void 0===n?void 0:n.call(t,a[r]))&&!a[r][e]&&(o=e,i=a[r],rn[o].linkTrackingPseudoClicks?($e(i,"mouseup",an(o,rn[o].linkTrackingContext),!1),$e(i,"mousedown",an(o,rn[o].linkTrackingContext),!1)):$e(i,"click",an(o,rn[o].linkTrackingContext),!1),a[r][e]=!0)}var sn={},ln={};function fn(e,t){void 0===t&&(t=Object.keys(sn)),function(t,n,r){try{Ut(null!=t?t:Object.keys(n),n).forEach((function(t){t.core.track(function(e){return Ne({event:{schema:"iglu:com.snowplowanalytics.snowplow/button_click/jsonschema/1-0-0",data:Re({label:e.label,id:e.id,classes:e.classes,name:e.name})}})}(e),e.context,e.timestamp)}))}catch(e){we.error("Function failed",e)}}(t,sn)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const vn=function(e){var t=ee.getInstance().getMatchingContextPackers("").map((function(e){return function(){return{schema:e.schema,data:e.getData()}}}));M("snowplow.enableLinkClickTracking")&&function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(nn)),t.forEach((function(t){nn[t]&&(nn[t].sharedState.hasLoaded?(cn(e,t),un(t)):nn[t].sharedState.registeredOnLoadHandlers.push((function(){cn(e,t),un(t)})))}))}({pseudoClicks:M("snowplow.enableLinkClickTracking.pseudoClicks"),trackContent:M("snowplow.enableLinkClickTracking.trackContent"),context:t},[e]),M("snowplow.enableFormTracking")&&function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(tn)),t.forEach((function(t){tn[t]&&(tn[t].sharedState.hasLoaded?$t(tn[t],e):tn[t].sharedState.registeredOnLoadHandlers.push((function(){$t(tn[t],e)})))}))}(pn(pn({},M("snowplow.enableFormTracking")),{},{context:t}),[e]),M("snowplow.trackPageView")&&function(e,t){Rt(t,(function(t){t.trackPageView(e)}))}({contextCallback:function(){return ee.getInstance().getMatchingContextsAsSnowplowArray("")}},[e]),M("snowplow.enableButtonClickTracking")&&function(e,t){void 0===e&&(e={}),void 0===t&&(t=Object.keys(sn)),function(){for(var e in sn)ln[e]&&document.removeEventListener("click",ln[e])}(),t.forEach((function(t){var n,r;ln[t]=function(n){!function(e,t,n,r){for(var o,i,a=e.target;a;){if(a instanceof HTMLButtonElement||a instanceof HTMLInputElement&&"button"===a.type){if(n(a)){var c=(i=void 0,i={},"INPUT"===(o=a).tagName?i.label=o.dataset.spButtonLabel||o.value:i.label=o.dataset.spButtonLabel||o.innerText,o.id&&(i.id=o.id),o.name&&(i.name=o.name),o.classList.length&&(i.classes=Array.from(o.classList)),i);c.context=ke(r,c),fn(c,[t])}return}a=a.parentElement}}(n,t,function(e){if("function"==typeof e)return e;if("object"==typeof e){if("allowlist"in e)return function(t){return Array.from((null==t?void 0:t.classList)||[]).some((function(t){return e.allowlist.includes(t)}))};if("denylist"in e)return function(t){return!Array.from((null==t?void 0:t.classList)||[]).some((function(t){return e.denylist.includes(t)}))}}return function(){return!0}}(e.filter),e.context)};var o=function(){document.addEventListener("click",ln[t])};(null===(n=sn[t])||void 0===n?void 0:n.sharedState.hasLoaded)?o():null===(r=sn[t])||void 0===r||r.sharedState.registeredOnLoadHandlers.push(o)}))}({filter:function(e){var t;return!!(null!=e&&e.innerText||null!=e&&e.value||null!=e&&null!==(t=e.dataset)&&void 0!==t&&t.spButtonLabel)},context:t},[e])};function mn(){return!!a().navigator&&!!a().navigator.userAgent&&!!/iPad|iPhone|iPod/.test(a().navigator.userAgent)}var gn,hn=function(){function e(){Q(this,e),this.isInited=!1}return Z(e,[{key:"init",value:function(){this.isInited||a().navigator&&a().navigator.vendor&&a().navigator.vendor.indexOf("Apple")>-1&&(a()&&a().performance&&a().performance.navigation&&a().performance.navigation.type===window.performance.navigation.TYPE_BACK_FORWARD&&this.triggerCrashEvent(),this.isInited=!0)}},{key:"triggerCrashEvent",value:function(){setTimeout((function(){a().EkoAnalytics.track("possiblecrash")}),0)}}]),e}();const yn=function(){return gn||(gn=new hn),gn};const wn=function(){function e(t,n,r){Q(this,e),this.namespace=t,this.collector=n,this.snowplowOptions=r,this.trackerWasInited=!1}return Z(e,[{key:"ensureTrackerInited",value:function(){if(!this.trackerWasInited){this.trackerWasInited=!0;var e,t=(i=[],M("snowplow.enableLinkClickTracking")&&i.push({activateBrowserPlugin:function(e){nn[e.id]=e}}),M("snowplow.enableFormTracking")&&i.push({activateBrowserPlugin:function(e){tn[e.id]=e}}),M("snowplow.enableButtonClickTracking")&&i.push({activateBrowserPlugin:function(e){sn[e.id]=e}}),i);t.length>0&&(this.snowplowOptions.plugins=this.snowplowOptions.plugins||[],(e=this.snowplowOptions.plugins).push.apply(e,G(t))),n=this.namespace,r=this.collector,void 0===(o=this.snowplowOptions)&&(o={}),Ft&&function(e,t,n,r,o,i){Nt.hasOwnProperty(e)||(Nt[e]=_t(e,t,n,r,o,i),Nt[e])}(n,n,"js-".concat("3.20.0"),r,Ft,o),qt(this.namespace),vn(this.namespace),yn().init()}var n,r,o,i}},{key:"setBufferSize",value:function(e){Jt(this.namespace,e)}},{key:"track",value:function(e,t,n){this.ensureTrackerInited(),function(e,t){Rt(t,(function(t){t.core.track(function(e){var t=e.category,n=e.action,r=e.label,o=e.property,i=e.value,a=de();return a.add("e","se"),a.add("se_ca",t),a.add("se_ac",n),a.add("se_la",r),a.add("se_pr",o),a.add("se_va",null==i?void 0:i.toString()),a}(e),e.context,e.timestamp)}))}({category:e,context:t,timestamp:n||null},[this.namespace]),Wt(this.namespace)}}]),e}();var bn=o(787);const kn=function(){function e(t,n,r){Q(this,e),this.namespace=t,this.collector=n,this.snowplowOptions=r,this.snowplowOptions.eventMethod="beacon"===this.snowplowOptions.eventMethod?"post":this.snowplowOptions.eventMethod,this.trackerWasInited=!1,this.sendPayloadToCollector=this.sendPayloadToCollector.bind(this)}return Z(e,[{key:"sendPayloadToCollector",value:function(e){var t={data:[e.build()],schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4"},n="https://".concat(this.collector).concat(this.snowplowOptions.postPath);fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Connection:"keep-alive"},body:JSON.stringify(t),keepalive:!0}).catch((function(e){u.warn("Error occurred when sending fetch request:",e)}))}},{key:"ensureTrackerInited",value:function(){this.trackerWasInited||(this.trackerWasInited=!0,this.snowplowCoreInstance=(0,bn.trackerCore)(!0,this.sendPayloadToCollector),this.snowplowCoreInstance.setTrackerNamespace(this.namespace),this.snowplowCoreInstance.setTrackerVersion("js-core-eko-__VERSION__"),this.snowplowCoreInstance.setAppId(this.snowplowOptions.appId),this.snowplowCoreInstance.setPlatform("mob"))}},{key:"track",value:function(e,t,n){this.ensureTrackerInited(),this.snowplowCoreInstance.trackStructEvent(e,null,null,null,null,t,n||null)}}]),e}(),Sn=function(){function e(t,n,r){Q(this,e),this.namespace=t,this.collector=n,this.snowplowOptions=r,this.snowplowOptions.eventMethod="beacon"===this.snowplowOptions.eventMethod?"post":this.snowplowOptions.eventMethod,this.trackerWasInited=!1,this.sendPayloadToCollector="get"===this.snowplowOptions.eventMethod?this.sendPayloadToCollectorGet.bind(this):this.sendPayloadToCollectorPost.bind(this)}return Z(e,[{key:"sendPayloadToCollectorPost",value:function(e){var t={data:[e.build()],schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4"},n="https://".concat(this.collector).concat(this.snowplowOptions.postPath);fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Connection:"keep-alive"},body:JSON.stringify(t),keepalive:!0}).catch((function(e){u.warn("Error occurred when sending fetch request:",e)}))}},{key:"sendPayloadToCollectorGet",value:function(e){var t=e.build(),n="https://".concat(this.collector).concat("/i"),r=new URLSearchParams(t).toString(),o="".concat(n,"?").concat(r);fetch(o,{method:"GET",keepalive:!0}).catch((function(e){u.warn("Error occurred when sending fetch request:",e)}))}},{key:"ensureTrackerInited",value:function(){this.trackerWasInited||(this.trackerWasInited=!0,this.snowplowCoreInstance=(0,bn.trackerCore)(!0,this.sendPayloadToCollector),this.snowplowCoreInstance.setTrackerNamespace(this.namespace),this.snowplowCoreInstance.setTrackerVersion("js-core-eko-__VERSION__"),this.snowplowCoreInstance.setAppId(this.snowplowOptions.appId),this.snowplowCoreInstance.setPlatform("web"))}},{key:"track",value:function(e,t,n){this.ensureTrackerInited(),this.snowplowCoreInstance.trackStructEvent(e,null,null,null,null,t,n||null)}}]),e}();var Tn,On=o(275);function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En,xn=o(643),jn=o.n(xn),Ln=a().navigator&&"ReactNative"===a().navigator.product?kn:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?Sn:wn,Dn={},Mn=!1,_n=["dropoff"];function Nn(){var e,t;return(null===a()||void 0===a()||null===(e=a().navigator)||void 0===e?void 0:e.userAgent)&&jn()(null===a()||void 0===a()||null===(t=a().navigator)||void 0===t?void 0:t.userAgent)&&(null===a()||void 0===a()?void 0:a().parent)===a()}function Rn(){return!!En}function Un(){if(!Rn()){var e="production"===M("ekoEnv")?"":"qa",t=M("snowplow.namespace"),n="".concat(e).concat(M("snowplow.collector")),r=M("snowplow.options")||{};if(r.bufferSize=Mn?1:r.bufferSize,Nn()&&(r.eventMethod="get"),Dn.default=new Ln(t,n,r),Dn.default.ensureTrackerInited(),mn()){var o=t+"Post",i=Object.assign({},r);Nn()?i.eventMethod="get":i.eventMethod="post",i.bufferSize=1,Dn.post=new Ln(o,n,i),Dn.post.ensureTrackerInited()}En=!0}}On.jU&&document.addEventListener("visibilitychange",(function(){if(Mn="hidden"===document.visibilityState,Rn())if(Mn)Dn.default.setBufferSize(1);else{var e=M("snowplow.options.bufferSize");Dn.default.setBufferSize(e)}}));const Bn={track:function(e,t,n){Un(),function(e,t,n){try{if(Tn||(Tn=M("newrelic")),a().newrelic&&Tn&&Tn.enabled&&function(e){if(!Tn||!Tn.events)return!1;var t,n=Cn(Tn.events);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"==typeof r){if(e===r)return!0}else if(r instanceof RegExp&&r.test(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}(e)){var r=function(e){var t,n={},r=Cn(e);try{for(r.s();!(t=r.n()).done;){var o,i=t.value;if(i&&i.schema)if(i.schema.startsWith("iglu:com.helloeko/ekoanalytics/jsonschema"))n.elapsedTimeInSeconds=null===(o=i.data)||void 0===o?void 0:o.elapsedtime;else if(i.schema.startsWith("iglu:com.helloeko/space/jsonschema")){var a;n.spaceId=null===(a=i.data)||void 0===a?void 0:a.id}else if(i.schema.startsWith("iglu:com.helloeko/asset/jsonschema")){var c;n.deliverableId=null===(c=i.data)||void 0===c?void 0:c.deliverableid}else if(i.schema.startsWith("iglu:com.helloeko/instance/jsonschema")){var u;n.instanceId=null===(u=i.data)||void 0===u?void 0:u.id}else if(i.schema.startsWith("iglu:com.helloeko/delivery/jsonschema")){var s;n.env=null===(s=i.data)||void 0===s?void 0:s.environment}else if(i.schema.startsWith("iglu:com.helloeko/sharedidentifiers/jsonschema")){var l;n.pageViewId=null===(l=i.data)||void 0===l?void 0:l.pageviewid}else if(i.schema.startsWith("iglu:com.helloeko/player/jsonschema")){var f,d,p,v,m,g;n.playerengine=null===(f=i.data)||void 0===f?void 0:f.playerengine,n.playerkbps=null===(d=i.data)||void 0===d?void 0:d.playerkbps,n.playerqoe=null===(p=i.data)||void 0===p?void 0:p.playerqoe,n.playerfps=null===(v=i.data)||void 0===v?void 0:v.playerfps,n.playerbitratemultiplier=null===(m=i.data)||void 0===m?void 0:m.playerbitratemultiplier,n.playerqoestatus=null===(g=i.data)||void 0===g?void 0:g.playerqoestatus}else if(i.schema.startsWith("iglu:com.helloeko/rtperf_resource/jsonschema")){var h,y,w,b,k;n=Pn(Pn({},n),{},{resourceUrl:null===(h=i.data)||void 0===h?void 0:h.url,resourceLoadStartTime:null===(y=i.data)||void 0===y?void 0:y.starttime,resourceLoadEndTime:null===(w=i.data)||void 0===w?void 0:w.endtime,resourceLoadDuration:null===(b=i.data)||void 0===b?void 0:b.duration,resourceTransferSize:null===(k=i.data)||void 0===k?void 0:k.transfersize})}}}catch(e){r.e(e)}finally{r.f()}return n}(t),o=S(),i=n||o+1e3*r.elapsedTimeInSeconds;a().newrelic.addPageAction(e,Pn(Pn({},r),{},{ekoTimestamp:i,timeOrigin:o}))}}catch(e){u.error("[newRelicTrack] Error in sending data to new relic. ".concat(e))}}(e,t,n),function(e){return!mn()||Mn||_n.includes(e)}(e)?Dn.default.track(e,t,n):Dn.post.track(e,t,n)},ensureTrackersInited:Un,areTrackersInited:Rn};var Fn=[["configure","setPrivacyPreference"],["registerContextPacker","getPrivacyPreference","getUid","getSid","getPageViewId","reset","trackElementVisibility","stopTrackingElementVisibility"],["track"]],Vn=function(){function e(){Q(this,e)}return Z(e,[{key:"doOverriddenTrackCall",value:function(e,t,n){var r=ee.getInstance().getMatchingContextsAsSnowplowArray(e,t);r=r.map((function(e){return e.data&&e.data.elapsedtime&&(e.data.elapsedtime=k(n)),e})),Bn.track(e,r,n)}},{key:"executeDeferredQueue",value:function(e,t,n,r){var o=this;a()&&a()[t]&&Array.isArray(a()[t][n])&&Fn.forEach((function(i){a()[t][n].forEach((function(n,c){var u=n[0];if(i.includes(u)){if("track"!==u)return e.apply(void 0,G(n));var s=n[1],l=Array.from(n).slice(2),f=a()[t][r]&&a()[t][r][c];o.doOverriddenTrackCall(s,l,f)}}))}))}}]),e}();const zn=function(e){if(a()&&a().location)return new URLSearchParams(a().location.search).get(e)},Hn=function(e){return document.currentScript&&document.currentScript.getAttribute(e)};function qn(e){return M("sharedIdentifiers.".concat(e))}function Wn(e,t){var n=function(e,t){return window[t].getItem(e)}(e,t);return function(e){return e&&"string"==typeof e&&!["undefined","null","false",""].includes(e.trim())}(n)||(n=le(),window[t].setItem(e,n)),n}function Jn(e,t){var n=zn(e);try{n&&window[t].setItem(e,n)}catch(e){}return n}const Gn={getTrackingIds:function(){var e=Hn("pxid")||"";return new Promise((function(t){try{t({userId:Jn("eauid","localStorage")||qn("userId")||Wn("eauid","localStorage"),sessionId:Jn("easid","sessionStorage")||qn("sessionId")||Wn("easid","sessionStorage"),pixelId:e})}catch(n){t({userId:le(),sessionId:le(),pixelId:e})}}))}},Qn="ea-ids-response",Xn="ea-ids-request",Zn=function(){return new Promise((function(e){!function(e){window.addEventListener("message",(function t(n){var r=n.data;r.type===Qn&&(window.removeEventListener("message",t),e({userId:r.userId,sessionId:r.sessionId,pixelId:r.pixelId}))}))}(e),window.parent.postMessage({type:Xn},"*")}))},$n=function(){return zn("eko_pixel")&&"false"!==zn("eko_pixel")&&"true"!==zn("eko_pixel")&&u.warn("Invalid value for eko_pixel, should be given a boolean value"),"px"===zn("eamode")||"true"===zn("eko_pixel")};function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t){Array.isArray(e)||(e=[e]);var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(n=r.n()).done;)n.value.postMessage({type:Qn,userId:t.userId,sessionId:t.sessionId,pixelId:t.pixelId},"*")}catch(e){r.e(e)}finally{r.f()}}const er=function(e){return(Gn.ids?Gn.ids:window.parent!==window&&$n()?Zn():Gn.getTrackingIds()).then((function(t){var n;e.ids=t,function(e){window.addEventListener("message",(function(t){t.data.type===Xn&&Kn(t.source,e)}))}(t),n=window.EkoAnalytics&&window.EkoAnalytics.childRequestIdsCallback,window.removeEventListener("message",n),window.EkoAnalytics&&window.EkoAnalytics.sa&&window.EkoAnalytics.sa.length&&Kn(window.EkoAnalytics.sa,t)}))};var tr;function nr(e,t){return a()[e]&&a()[e].ids&&a()[e].ids[t]}function rr(e){return nr("EkoAnalytics",e)||nr("EkoAnalyticsPlatform",e)}const or=function(){return tr||(tr=le()),tr},ir=function(){return rr("sessionId")},ar=function(){return rr("pixelId")||""},cr=function(){return rr("userId")},ur=function(){return""};function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lr={},fr={},dr=!1;function pr(e){if(!e)throw Error("Invalid params to trackElementVisibility ".concat(e));void 0!==lr[e]?(fr[e]&&(fr[e].disconnect(),delete fr[e]),delete lr[e]):u.warn("No observer found for element with name: ".concat(e))}const vr={stopTrackingElementVisibility:pr,trackElementVisibility:function(e,t,n){if(!e||!t)throw Error("Invalid params to trackElementVisibility ".concat(e,", ").concat(t));dr||(wr({schema:"iglu:com.helloeko/elements_visibility/jsonschema/1-0-0",match:"heartbeat",getData:function(){for(var e=[],t=0,n=Object.entries(lr);t<n.length;t++){var r=sr(n[t],2),o=r[0],i=r[1];"boolean"==typeof i&&e.push({element_id:o,visible:i})}if(0!==e.length)return{elements:e}}}),dr=!0);var r="string"==typeof e?document.querySelector(e):e;if(void 0!==lr[t]&&pr(t),r){var o=(null==n?void 0:n.threshold)||.5,i=new IntersectionObserver((function(e){e.forEach((function(e){lr[t]=e.isIntersecting}))}),{threshold:o});return lr[t]=null,i.observe(r),fr[t]=i,pr.bind(null,t)}u.warn("Element not found for selector or ID: ".concat(e))}};var mr=o(126),gr=o.n(mr),hr=["sharedIdentifiers"],yr=ee.getInstance();function wr(e){try{return yr.addContextPacker(e)}catch(t){u.error({options:e})}}var br=!1;const kr={registerContextPacker:wr,track:function(e,t,n){try{var r=yr.getMatchingContextsAsSnowplowArray(t,n);return Bn.track(t,r,void 0,e)}catch(e){u.error(e)}},configure:function(e){try{var t;return br?t=_(gr()(e,hr)):(Bn.areTrackersInited()&&u.warn("Configure() called after trackers init with options:",e),t=_(e),V.resetPrivacy(),Bn.ensureTrackersInited()),br=!0,t}catch(e){u.error(e)}},setPrivacyPreference:function(e,t){try{return V.setPrivacyPreference(e,t)}catch(e){u.error(e)}},getPrivacyPreference:function(e){try{return V.getPrivacyPreference(e)}catch(e){u.error(e)}},handleMethodFromString:function(e,t){var n=(t=[].slice.call(t))[0];if(!e[n]||"function"!=typeof e[n])throw new Error("[".concat(e.name,"]:: Unknown method: ").concat(n));try{return e[t[0]].apply(e,t.slice(1))}catch(t){throw new Error("[".concat(e.name,"]:: Unknown error: ").concat(t.message,".\n").concat(t.stack))}},reset:function(e){try{yr.clearContextPackers(e),q=0,t=a().Date.now(),w=Number(t),b(),h=!0}catch(e){u.error(e)}var t},trackElementVisibility:function(e,t,n){try{return vr.trackElementVisibility(e,t,n)}catch(e){u.error(e)}},stopTrackingElementVisibility:function(e){try{return vr.stopTrackingElementVisibility(e)}catch(e){u.error(e)}}};var Sr,Tr,Or,Ir,Pr,Cr=-1,Ar=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Cr=t.timeStamp,e(t))}),!0)},Er=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},xr=function(){var e=Er();return e&&e.activationStart||0},jr=function(e,t){var n=Er(),r="navigate";return Cr>=0?r="back-forward-cache":n&&(document.prerendering||xr()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Lr=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Dr=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Mr=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_r=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Nr=function(e){var t=!1;return function(){t||(e(),t=!0)}},Rr=-1,Ur=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Br=function(e){"hidden"===document.visibilityState&&Rr>-1&&(Rr="visibilitychange"===e.type?e.timeStamp:0,Vr())},Fr=function(){addEventListener("visibilitychange",Br,!0),addEventListener("prerenderingchange",Br,!0)},Vr=function(){removeEventListener("visibilitychange",Br,!0),removeEventListener("prerenderingchange",Br,!0)},zr=function(){return Rr<0&&(Rr=Ur(),Fr(),Ar((function(){setTimeout((function(){Rr=Ur(),Fr()}),0)}))),{get firstHiddenTime(){return Rr}}},Hr=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},qr=[1800,3e3],Wr=function(e,t){t=t||{},Hr((function(){var n,r=zr(),o=jr("FCP"),i=Lr("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-xr(),0),o.entries.push(e),n(!0)))}))}));i&&(n=Dr(e,o,qr,t.reportAllChanges),Ar((function(r){o=jr("FCP"),n=Dr(e,o,qr,t.reportAllChanges),Mr((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},Jr=[.1,.25],Gr=0,Qr=1/0,Xr=0,Zr=function(e){e.forEach((function(e){e.interactionId&&(Qr=Math.min(Qr,e.interactionId),Xr=Math.max(Xr,e.interactionId),Gr=Xr?(Xr-Qr)/7+1:0)}))},$r=function(){return Sr?Gr:performance.interactionCount||0},Yr=function(){"interactionCount"in performance||Sr||(Sr=Lr("event",Zr,{type:"event",buffered:!0,durationThreshold:0}))},Kr=[],eo=new Map,to=0,no=[],ro=function(e){if(no.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Kr[Kr.length-1],n=eo.get(e.interactionId);if(n||Kr.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};eo.set(r.id,r),Kr.push(r)}Kr.sort((function(e,t){return t.latency-e.latency})),Kr.length>10&&Kr.splice(10).forEach((function(e){return eo.delete(e.id)}))}}},oo=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Nr(e),"hidden"===document.visibilityState?e():(n=t(e),_r(e)),n},io=[200,500],ao=[2500,4e3],co={},uo=[800,1800],so=function e(t){document.prerendering?Hr((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},lo=function(e,t){t=t||{};var n=jr("TTFB"),r=Dr(e,n,uo,t.reportAllChanges);so((function(){var o=Er();o&&(n.value=Math.max(o.responseStart-xr(),0),n.entries=[o],r(!0),Ar((function(){n=jr("TTFB",0),(r=Dr(e,n,uo,t.reportAllChanges))(!0)})))}))},fo={passive:!0,capture:!0},po=new Date,vo=function(e,t){Tr||(Tr=t,Or=e,Ir=new Date,ho(removeEventListener),mo())},mo=function(){if(Or>=0&&Or<Ir-po){var e={entryType:"first-input",name:Tr.type,target:Tr.target,cancelable:Tr.cancelable,startTime:Tr.timeStamp,processingStart:Tr.timeStamp+Or};Pr.forEach((function(t){t(e)})),Pr=[]}},go=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){vo(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,fo),removeEventListener("pointercancel",r,fo)};addEventListener("pointerup",n,fo),addEventListener("pointercancel",r,fo)}(t,e):vo(t,e)}},ho=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,go,fo)}))},yo=[100,300],wo={schema:"iglu:com.helloeko/webvitals/jsonschema/1-0-0",match:/^webvitals\..+/,getData:function(e){var t={};return e.id&&(t.id=e.id),isNaN(e.value)||(t.value=e.value),isNaN(e.delta)||(t.delta=e.delta),e.rating&&(t.rating=e.rating),t}};function bo(e){if(e){e.registerContextPacker(wo);var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=t.delta,o=t.value,i=t.id,a=t.rating;n&&e.track("webvitals.".concat(n.toLowerCase()),{delta:r,value:o,id:i,rating:a})};!function(e,t){t=t||{},Wr(Nr((function(){var n,r=jr("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},c=Lr("layout-shift",a);c&&(n=Dr(e,r,Jr,t.reportAllChanges),_r((function(){a(c.takeRecords()),n(!0)})),Ar((function(){o=0,r=jr("CLS",0),n=Dr(e,r,Jr,t.reportAllChanges),Mr((function(){return n()}))})),setTimeout(n,0))})))}(t),function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},Hr((function(){var n;Yr();var r,o=jr("INP"),i=function(e){oo((function(){e.forEach(ro);var t=function(){var e=Math.min(Kr.length-1,Math.floor(($r()-to)/50));return Kr[e]}();t&&t.latency!==o.value&&(o.value=t.latency,o.entries=t.entries,r())}))},a=Lr("event",i,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=Dr(e,o,io,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),_r((function(){i(a.takeRecords()),r(!0)})),Ar((function(){to=$r(),Kr.length=0,eo.clear(),o=jr("INP"),r=Dr(e,o,io,t.reportAllChanges)})))})))}(t),function(e,t){t=t||{},Hr((function(){var n,r=zr(),o=jr("LCP"),i=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-xr(),0),o.entries=[e],n())}))},a=Lr("largest-contentful-paint",i);if(a){n=Dr(e,o,ao,t.reportAllChanges);var c=Nr((function(){co[o.id]||(i(a.takeRecords()),a.disconnect(),co[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return oo(c)}),!0)})),_r(c),Ar((function(r){o=jr("LCP"),n=Dr(e,o,ao,t.reportAllChanges),Mr((function(){o.value=performance.now()-r.timeStamp,co[o.id]=!0,n(!0)}))}))}}))}(t),Wr(t),function(e,t){t=t||{},Hr((function(){var n,r=zr(),o=jr("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},c=Lr("first-input",a);n=Dr(e,o,yo,t.reportAllChanges),c&&(_r(Nr((function(){a(c.takeRecords()),c.disconnect()}))),Ar((function(){var r;o=jr("FID"),n=Dr(e,o,yo,t.reportAllChanges),Pr=[],Or=-1,Tr=null,ho(addEventListener),r=i,Pr.push(r),mo()})))}))}(t),lo(t)}}function ko(){return kr.handleMethodFromString(ko,arguments)}ko.registerContextPacker=function(e){return kr.registerContextPacker(e)},ko.track=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kr.track(ko,e,n)},ko.configure=function(e){return kr.configure(e)},ko.getUid=function(){return cr()},ko.getSid=function(){return ir()},ko.getPixelId=function(){return ar()},ko.getPageViewId=function(){return or()},ko.getAppId=function(){return ur()},ko.setPrivacyPreference=function(e,t){return kr.setPrivacyPreference(e,t)},ko.getPrivacyPreference=function(e){return kr.getPrivacyPreference(e)},ko.on=function(e,t){return kr.on(e,t)},ko.off=function(e,t){return kr.off(e,t)},ko.reset=function(e){return kr.reset(e)},ko.trackElementVisibility=function(e,t){return kr.trackElementVisibility(e,t)},ko.stopTrackingElementVisibility=function(e,t){return kr.stopTrackingElementVisibility(e,t)},window.EkoAnalyticsPlatform=ko,er(ko).then((function(){var e;!function(e){var t=[{schema:"iglu:com.helloeko/ekoanalytics/jsonschema/1-0-2",match:/.*/,getData:function(){return{eventsequence:q+=1,elapsedtime:k(),elapsedvisibletime:k(undefined)-d,documenthidden:a()&&a().document&&a().document.hidden,windoworientation:a()&&a().orientation,eaversion:"2.36.3"}}},{schema:"iglu:com.helloeko/privacy/jsonschema/1-0-0",match:/.*/,getData:function(){return{setting:V.getPrivacySetting()}}}];a()&&a().location&&t.push({schema:"iglu:com.helloeko/sharedidentifiers/jsonschema/2-0-2",match:/.*/,getData:function(){var t=e.getPageViewId&&e.getPageViewId(),n=e.getAppId&&e.getAppId(),r=e.getPixelId&&e.getPixelId();return{sessionid:e.getSid(),userid:e.getUid(),pageviewid:t,appid:n,pixelid:r}}});for(var n=0,r=t;n<r.length;n++){var o=r[n];e.registerContextPacker(H(H({},o),{},{tag:"default_context"}))}}(ko),(new Vn).executeDeferredQueue(ko,"EkoAnalytics","q","ts");var t=null===(e=window.EkoAnalytics)||void 0===e||null===(e=e.cb)||void 0===e?void 0:e.slice();window.EkoAnalytics=ko,delete window.EkoAnalyticsPlatform,null==t||t.forEach((function(e){return e()})),bo(ko),function(e){try{var t=M("heartbeat");if(!t)return;var n=function(){document.hidden||e.track("heartbeat")};n(),setInterval(n,t)}catch(e){u.error("[newRelicTrack] Error in sending data to new relic. ".concat(e))}}(ko)}));const So=ko})(),i.default})()));
//# sourceMappingURL=EkoAnalyticsPlatform.min.js.map