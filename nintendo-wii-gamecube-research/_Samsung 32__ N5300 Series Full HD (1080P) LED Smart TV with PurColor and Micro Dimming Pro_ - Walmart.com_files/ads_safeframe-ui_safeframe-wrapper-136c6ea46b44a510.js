"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4564],{862614:function(e,n,a){a.d(n,{b:function(){return r}});var t=a(760865),i=a(44451),l=a(125097),s=a(194742);function r(){var e,n;const a=(0,t.v)().enableMoatIvtSkip?"":null===(e=(0,i.S)())||void 0===e||null===(n=e.publicRuntimeConfig)||void 0===n?void 0:n.moatIvt,r=(0,l.yh)(),{0:o,1:d}=(0,s.useState)(!1);return(0,s.useEffect)(()=>{a&&r(a).then(()=>{d(!0)})},[r,a]),o}},379245:function(e,n,a){a.d(n,{t:function(){return Q}});var t={};a.r(t),a.d(t,{sponsored:function(){return O},title:function(){return _}});var i=a(487954),l=a(470656),s=a(862614),r=a(529475),o=a(843108),d=a(760865),c=a(34856),m=a(402805),p=a(802755),u=a(194742),y=a(894400),g=a(353138),h=a(388320),x=a(173941),v=a(682081),f=a(235021),b=a(620769),I=a.n(b),E=a(99447),D=a(681589),A=a(36982),L=a(898549),k=a(950968),w=a.n(k);const C=e=>{let{moduleType:n,pageType:a,baseDisplayAdPayload:t,ml:i,iframeRef:l}=e;const{moduleContext:s}=(0,D.D)(),{moduleProps:r,zone:o}=(0,y.c)(),c=(0,D.D)().platform,{0:m,1:p}=(0,u.useState)(!1),g=(0,u.useRef)(null);m&&g.current&&g.current(),(0,u.useEffect)(()=>{const e=l.current;if(!e)return;let m=null;switch(n){case"SkylineDisplayAd":m=((e,n,a,t,i,l,s)=>{const{enableHpSkCeBeacons:r}=(0,d.v)();if(!(e&&n&&"HOME"===a&&r&&"SkylineDisplayAd"===t)||!n)return null;const o="mobile"===s;return{onLinkExtras:(0,E.A$)(t,i,{moduleProps:n,zone:l||""},!1,o,!0),name:"skylineDisplayAdClick"}})(s,r,a,n,t,o,c);break;case"GalleryDisplayAd":m=((e,n,a,t,i,l,s)=>{const{hpDisplayAdOnClickEnable:r,ipDisplayAdOnClickEnable:o,galCarCeBeaconEnable:c}=(0,d.v)();if(!(e&&n&&("HOME"===a&&r||"ITEM"===a&&o||"DynamicAdContainer"===(null===n||void 0===n?void 0:n.type)&&"GalleryDisplayAd"===t&&c))||!n||"DynamicAdContainer"!==(null===n||void 0===n?void 0:n.type))return null;const m="mobile"===s;return{onLinkExtras:(0,E.A$)(t,i,{moduleProps:n,zone:l||""},!1,m,!0),name:"GalleryDisplayAd"===t?"galleryDisplayAdClick":(0,L.y)(t)}})(s,r,a,n,t,o,c);break;case"TileDisplayAd":m=((e,n,a,t,i)=>{const l=Boolean(null===t||void 0===t?void 0:t.advertiserID),{enableTileAdsCeBeacon:s}=(0,d.v)();return e&&"TileDisplayAd"===n&&s&&"search"===(null===a||void 0===a?void 0:a.toLowerCase())&&l?{onLinkExtras:(0,E.C1)(t,n,i,0,!0),name:"TileDisplayAdClick"}:null})(s,n,a,t,i)}var u;const y=null!==(u=null===m||void 0===m?void 0:m.onLinkExtras)&&void 0!==u?u:{};if(!m||0===Object.keys(y).length)return;const h=w()(n=>{(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n?void 0:n.id)&&"click"===(null===n||void 0===n?void 0:n.type)&&(A.Y2.sendBeacon({action:"onClick",context:s,name:null===m||void 0===m?void 0:m.name,payload:null===m||void 0===m?void 0:m.onLinkExtras}),p(!0))});g.current=h},[])};var P=a(992430),T=a(200421),S=a(976973),V=a(444002);const M=e=>{let{legalDisclaimerLabel:n,legalDisclaimerText:a,legalDisclaimerColor:t,legalDisclaimerUrl:l,enableDisclaimerIcon:s,legalDisclaimerStyleOverrides:r,sponsoredTextColor:o,isV2Skyline:d}=e;const{0:c,1:m}=(0,u.useState)(!1),p=s?"pointer pl1 pr0 no-underline h1":"pa0 h-auto lh-solid relative";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.Z,{className:p,onClick:()=>m(!0),variant:"tertiary",style:{color:"".concat(t||o||(d?"nearer-mid-gray":"gray")),fontSize:null!==r&&void 0!==r?r:".75rem"},"data-dca-id":"B:F8AD082C96","data-dca-intent":"__DCA_TBD__",children:s?(0,i.jsx)(V.J,{name:"InfoCircle","data-testid":"disclaimerInfoIcon"}):n}),(0,i.jsx)(S.Z,{isOpen:c,onClose:()=>m(!1),title:n,children:(0,i.jsx)(P.Z,{disclaimerText:a||"",disclaimerUrl:l})})]})};const _=()=>"Walmart Advertisement",O=()=>"Sponsored";var R=a(337996);const B=e=>"<img src=".concat(e," alt=\"\" aria-label=\"\" style=\"width:0;height:0;display:block\"/>"),U=(e,n)=>n&&e?"\n      <script>\n         document.write('".concat(B(n),"');\n      </script>\n    "):"",W=e=>{const n=e.trim().split(/(\?|#)/);if(n.length>0){const e=n[0];return e.substring(e.lastIndexOf("."))}return""},F=(e,n)=>{if(e&&n){if(".js"===W(n))return"\n      <script>\n        document.write('<scr' + 'ipt type=\"text/javascript\" src=\"".concat(n,"\"></sc' + 'ript>');\n      </script>\n    ")}return""},N=(e,n,a,t)=>{const{IMPRESSION_URLS:i=[],impTracker3PURL1:l="",impTracker3PURL2:s="",impTracker3PURL3:r="",impTracker3PURL4:o="",impTracker3PURL5:c="",viewIVT3PURL1:m="",viewIVT3PURL2:p="",clickTracker3PURL:u=""}=e,{track1PEnable:y,track3PEnable:g,measure3PImpEnable:h}=t;return"\n    ".concat("\n  <style>\n    iframe{\n      display: none;\n      border: none;\n      opacity: 0;\n    }\n  </style>","\n    ").concat(n,"\n    ").concat(((e,n)=>{const a=(0,d.v)().enableClick3PURL&&n?((e,n)=>"<span onclick=\"(function(){var img=new Image();img.src='".concat(n,"';})()\">").concat(e,"</span>"))(e,n):e;return a})(a,u),"\n    ").concat(((e,n)=>{if(e&&n&&n.length){let e="";return n.forEach(n=>{e="".concat(e).concat(B(n))}),"\n      <script>\n         document.write('".concat(e,"');\n      </script>\n    ")}return""})(y,i),"\n    ").concat(U(h,l),"\n    ").concat(U(h,s),"\n    ").concat(U(h,r),"\n    ").concat(U(h,o),"\n    ").concat(U(h,c),"\n    ").concat(F(g,m),"\n    ").concat(F(g,p),"\n    ").concat(((e,n)=>{if((0,d.v)().enable3PHumanIvtJs){const a=(0,R.p)(n),t=(0,R.a)(n),i="".concat(e).concat(a,"&").concat(t);if(".js"===W(e))return"\n      <script>\n        document.write('<scr' + 'ipt type=\"text/javascript\" src=\"".concat(i,"\"></sc' + 'ript>');\n      </script>\n    ")}return""})((0,d.v)().staticHumanIvtJs,e),"\n  ")},j=(e,n,a,t,i,l)=>{let s="",r="",o="",c="",m="",p="",u="",y="1071",g="616",h="884",x="614",v="";if("SkylineDisplayAd"===n&&"V3"!==i){if(a){switch(t){case"SEARCH":case"BROWSE":case"TOPIC":g="616",y="1056";break;case"ITEM":h="900",g="664",y="1072";break;case"THANKYOU":g="616",x="368",y="1600";break;case"SHOP":y="1056"}"V2"===i&&(c="\n            @media screen and (max-width: 566px) {\n                .skylineV2Classes {\n                    margin-right: 8px;\n                    top: 30px;\n                    left: 0px;\n                    margin-left: 125px;\n                    display: flex;\n                    justify-content: flex-start;\n                }\n            }\n            @media screen and (min-width: 567px) {\n                .skylineV2Classes {\n                    right: 0px;\n                    margin-right: 8px;\n                    top: 20px;\n                }\n            }\n            @media screen and (min-width: 1025px) {\n                .skylineV2Classes {\n                    top: ".concat(l?"26px":"20px",";\n                }\n            }\n        ")),"V2"===i&&((0,d.v)().ipSkV2DwebImgEnable&&"ITEM"===t||(0,d.v)().skV2DwebImgEnable)&&e&&(m="\n            @media screen and (min-width: 828px) {\n                .skylineV2Classes {\n                    top: ".concat(l?"26px":"20px",";\n                    right: 370px;\n                }\n            }\n            @media screen and (min-width: 1270px) {\n                .skylineV2Classes {\n                    top: ").concat(l?"26px":"20px",";\n                    right: 540px;\n                }\n            }    \n        "))}o=".skylineSponsorDisclaimerLabelMainImage {\n                    top: ".concat(l?"20px":"15px",";\n                    right: ").concat(x,"px;\n                    margin-right: 10px;\n                }\n                .skylineSponsorDisclaimerLabelWithoutMainImage {\n                    top: ").concat(l?"20px":"15px",";\n                    right: 0px;\n        }"),p="@media screen and (max-width: 480px) {\n        .skylineSponsorDisclaimerLabelWithoutMainImage {\n            top: 10px;\n            right: 0px;\n            margin-right: 8px;\n        }\n    }",u="@media screen and (max-width: ".concat(h,"px) {\n        .skylineSponsorDisclaimerLabelMainImage {\n            top: 10px;\n            right: 0px;\n            margin-right: 8px;\n        }\n    }"),r=e?"":"@media screen and (min-width: 481px) and (max-width: ".concat(g,"px) {\n              .skylineSponsorDisclaimerLabelWithoutMainImage {\n                  top: 8px;\n                  margin-right: 8px;\n              }\n          }"),s=e?"\n            @media screen and (min-width: 516px) and (max-width: 530px) {\n                .skylineSponsorDisclaimerLabelMainImage {                   \n                    right:274px;\n                }\n            }\n            @media screen and (min-width: 531px) and (max-width: 540px) {\n                .skylineSponsorDisclaimerLabelMainImage {                 \n                    right: 286px;\n                }\n            }\n            @media screen and (min-width: 541px) and (max-width: 555px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 300px;\n                }\n            }\n            @media screen and (min-width: 556px) and (max-width: 570px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 314px;\n                }\n            }\n            @media screen and (min-width: 571px) and (max-width: 585px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 328px;\n                }\n            }\n            @media screen and (min-width: 586px) and (max-width: 599px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 334px;\n                }\n            }\n            @media screen and (min-width: 600px) and (max-width: 616px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 321px;\n                }\n            }\n            @media screen and (min-width: 617px) and (max-width: 635px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 341px;\n                }\n            }\n            @media screen and (min-width: 636px) and (max-width: 660px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right: 364px;\n                }\n            }\n            @media screen and (min-width: 661px) and (max-width: ".concat(y,"px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    right:368px;\n                }\n            }"):""}return"SkylineDisplayAd"===n&&"V3"===i&&(o="@media screen and (min-width: 651px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    bottom: ".concat(l?"17px":"25px",";\n                    right: 0px;\n                    margin-right: 16px;\n                }\n                .skylineSponsorDisclaimerLabelWithoutMainImage {\n                    bottom: ").concat(l?"17px":"25px",";\n                    right: 0px;\n                    margin-right: 16px;\n                }\n            }"),p="@media screen and (max-width: 650px) {\n                .skylineSponsorDisclaimerLabelMainImage {\n                    bottom: 6px;\n                    left: 106px;\n                    margin-left: 4px;\n                }\n                .skylineSponsorDisclaimerLabelWithoutMainImage {\n                    bottom: 6px;\n                    left: 106px;\n                    margin-left: 4px;\n                    margin-bottom: 8px;\n                }\n            }"),"GalleryDisplayAd"===n&&"HOME"!==t&&(v="\n            .galleryCarouselClasses {\n                    margin-right: 0px;\n                    padding-right: 0px;\n                    max-width: 164px;\n                }\n            @media screen and (min-width: 300px) and (max-width: 719px) {\n                .galleryCarouselClasses {\n                        max-width: 164px;\n                }\n            }\n            @media screen and (min-width: 720px) and (max-width: 1197px) {\n                .galleryCarouselClasses {\n                    max-width: 229px;\n                }\n            }\n            @media screen and (min-width: 1198px) {\n                .galleryCarouselClasses {\n                    max-width: 307px;\n                }\n            }\n        "),"\n          .sponsorLabel {\n              font-size: .75rem;\n              width: 100%;\n          }\n          .searchAndBrowse {\n              max-width: 1232px;\n              margin: auto;\n          }\n          ".concat(o,"\n          ").concat(c,"\n          ").concat(m,"\n          ").concat(s,"\n          ").concat(r,"\n          ").concat(p,"\n          ").concat(u,"\n          ").concat(v,"\n          ")},H=(0,v.m)(t,"title"),Z=(0,v.m)(t,"sponsored");function z(e,n){return e||(n?"nearer-mid-gray":(0,d.v)().sponsoredLabelTextColor)}function Y(e,n,a,t){return e&&e.legalDisclaimerLabel?(0,i.jsxs)(i.Fragment,{children:[!n&&" | ",(0,i.jsx)(M,{legalDisclaimerLabel:e.legalDisclaimerLabel,legalDisclaimerText:e.legalDisclaimerText,legalDisclaimerColor:e.legalDisclaimerColor,legalDisclaimerUrl:e.legalDisclaimerUrl,enableDisclaimerIcon:n,legalDisclaimerStyleOverrides:e.legalDisclaimerStyleOverrides,sponsoredTextColor:a,isV2Skyline:t})]}):null}var G=e=>{let{styles:n,content:a,data:t,dataType:l,ml:s,id:r,title:o=H,initialHeight:c=0,baseDisplayAdPayload:m,track1PEnable:p,track3PEnable:v,measure3PImpEnable:b,safeframeURL:E,dbg:D={},legalDisclaimerProps:A,sponsorLabelHeight:L,sponsoredLabelClassOverrides:k,sponsoredTextColor:w,enableDisclaimerIconVar1:P,mainImage:T,moduleType:S,enableSearchBrowseMaxWidth:V,pageType:M,adsPerfMetrics:_}=e;var O,R;const B=(0,h.G)(),U=(0,u.useRef)(null),{zone:W}=(0,y.c)();(0,u.useRef)(0).current+=1,(0,g.r)({elementRef:U,commonDisplayAdPayload:m,track3PEnable:v,dbg:D,moduleLocation:s,adContent:(null===t||void 0===t?void 0:t.content)||{},adsPerfMetrics:_,zone:W});const F={track1PEnable:p,track3PEnable:v,measure3PImpEnable:b},G=!!(0,d.v)().safeframeTemplatesEnable&&Boolean(t&&Object.keys(t).length),J=G?"":N(m,n||"",a||"",F),K=null!==L&&void 0!==L?L:16,X=(null===m||void 0===m||null===(O=m.extendedDSPProps)||void 0===O?void 0:O.variantId)||(null===m||void 0===m||null===(R=m.extendedDSPProps)||void 0===R?void 0:R.templateId),q="SkylineDisplayAd"===S&&"V2"===X,Q=function(e,n,a){return e?n?"skylineV2Classes":a?"skylineSponsorDisclaimerLabelMainImage":"skylineSponsorDisclaimerLabelWithoutMainImage":""}(!!P,q,T),$="GalleryDisplayAd"===S?"galleryCarouselClasses":"",ee=function(e,n){return e?"flex justify-end mt1 mt2-ns":"TileDisplayAd"===n?"tr mt2-ns":"tr mt1 mt2-ns"}(B,S),ne=V?"searchAndBrowse":"";return C({moduleType:S,pageType:M,baseDisplayAdPayload:m,ml:s,iframeRef:U}),(0,i.jsxs)("div",{className:"relative sponsorLabel ".concat(ne),children:[(0,i.jsx)(f.Z,{html:J,...(G?{dataType:l,data:{...t,id:r,config:{...((null===t||void 0===t?void 0:t.config)||{}),trackingConfigs:F}}}:{}),dataAdType:s,dataTestId:"".concat(m.metaData.dfpParams.targeting.location),dataAdComponentType:"display",id:r,classNames:"w-100 v-mid bw0",title:o,initialHeight:c,safeframeURL:E,skipSSR:!0,ref:U,role:"none"}),(0,i.jsx)("style",{children:j(T||"",S,!!P,M,X,B)}),(0,i.jsx)("div",{className:I()(ee,k||"","".concat(Q," ").concat($)),style:{height:"".concat(K,"px"),color:z(w,q)},children:B?(0,i.jsx)("div",{className:"h2 z-max flex content-start pt1 pb3 nr3",children:(0,i.jsx)(x.V,{legalDisclaimerText:null===A||void 0===A?void 0:A.legalDisclaimerText,legalDisclaimerLabel:null===A||void 0===A?void 0:A.legalDisclaimerLabel,legalDisclaimerUrl:null===A||void 0===A?void 0:A.legalDisclaimerUrl,sponsoredTextColor:w,moduleLocation:s})}):(0,i.jsxs)(i.Fragment,{children:[Z,Y(A,!!P,w,q)]})})]})},J=a(155394),K=e=>(0,i.jsxs)(i.Fragment,{children:[e.topDivider&&(0,i.jsx)(J.Divider,{}),e.children,e.bottomDivider&&(0,i.jsx)("span",{className:"mb3",children:(0,i.jsx)(J.Divider,{})})]});const X=e=>{const n=(0,v.m)(t,"title");var a;return(0,i.jsx)(K,{...e,children:(0,i.jsx)("iframe",{className:"w-100 v-mid bw0 skeleton-bone br4",height:e.initialHeight,title:null!==(a=e.title)&&void 0!==a?a:n})})},q=()=>null;q.displayName="NoAdRender";const Q=(0,c.P)((0,m.k)(e=>{var n;const{track1PEnable:a,track3PEnable:t,renderEnable:c,measure3PImpEnable:m}=(0,l.Mz)(e.moduleType,e.ml,e.baseDisplayAdPayload),y=void 0!==e.isLazy&&!1===e.isLazy,g=(0,s.b)(),h=(0,r.H)(e.baseDisplayAdPayload,y),x=(0,o.E)(),v=(0,u.useMemo)(()=>!(c&&!h&&!x),[x,h,c]);if(!(0,d.v)().enableMoatIvtSkip&&!g)return(0,i.jsx)(X,{...e});if(v)return(0,i.jsx)(q,{renderEnable:c,shouldNotRender:h,adBlocked:x,...e});const{advertiserID:f,uuId:b,orderID:I}=e.baseDisplayAdPayload,{googleCreativeId:E,googleLineitemId:D}=e.baseDisplayAdPayload.metaData.dfpResponse,A={advertiserId:f,uuId:b,creativeId:E,lineItemId:D,campaignId:I,adServer:(null===(n=e.baseDisplayAdPayload.extendedDSPProps)||void 0===n?void 0:n.adServer)||"GAM"};return(0,i.jsx)(p.Bq.Provider,{value:{moduleType:e.moduleType,moduleLocation:e.ml,display:{displayTrackingOptions:A}},children:(0,i.jsx)(K,{...e,children:(0,i.jsx)(G,{...e,safeframeURL:(0,d.v)().safeframeTemplatesEnable&&e.safeframeURL||(0,d.v)().safeframeURL,track1PEnable:a,track3PEnable:t,measure3PImpEnable:m,dbg:e.dbg})})})},(e,n)=>e.baseDisplayAdPayload.uuId!==n.baseDisplayAdPayload.uuId,{fallbackCmp:X}),"SafeframeWrapper")},353138:function(e,n,a){a.d(n,{r:function(){return i}});var t=a(110864);const i=e=>{let{elementRef:n,commonDisplayAdPayload:a,track3PEnable:i,onBeacon:l,dbg:s,root:r,moduleLocation:o,adContent:d,adsPerfMetrics:c,zone:m}=e;(0,t.p)({commonDisplayAdPayload:a,target:n,track3PEnable:i,onBeacon:l,dbg:s,root:r,moduleLocation:o,templateId:null===d||void 0===d?void 0:d.templateId,adsPerfMetrics:c,zone:m})}},110864:function(e,n,a){a.d(n,{p:function(){return Z}});var t=a(760865),i=a(681589),l=a(211459),s=a(944157),r=a(120490),o=a(705770),d=a(194742),c=a(321703),m=a(950968),p=a.n(m),u=a(864181),y=a(385981),g=a(955962);var h=a(959794),x=a(325446),v=a(855840),f=a(805647),b=a(795997),I=a(854151),E=a(36982),D=a(884629),A=a(229119);const L={[u.X9.PERIODIC_UPDATE]:-1,[u.Au.AD_IMPRESSION]:0,[u.Au.UNLOAD]:1,[u.Au.CLICK]:2,[u.Au.TOUCH]:3,[u.Au.MRC_VIEWABLE]:4,[u.X9.GROUPM_VIEWABLE]:5,[u.C7.INVIEW_50_5s]:6,[u.C7.INVIEW_50_15s]:7,[u.C7.FULL_VIEWABLE]:8};var k=(e,n,a)=>{const{enableAdRequestIdPulseBeacon:i}=(0,t.v)(),l=Date.now(),s=e.trackingState;s.eventTypeCount[n]++;const r=Number(e.element.offsetHeight),o=Number(e.element.offsetWidth),[d,c]=(0,v.a)(),m=l-s.adLoadedTime,p=s.adLoadedTime,y=l,g=(0,A.AE)(e,e.startMrcViewTime,s.totalMrcViewTime,0),h=(0,A.AE)(e,e.startFullInViewOTS,s.fullInViewOTS,0),x=(0,A.HB)(e,e.startFiftyPctContTime,s.totalFiftyPctContTime,0),k=(0,A.HB)(e,e.startHundredPctContTime,s.totalHundredPctContTime,0),{adIds:w,adLocation:C,assetUrl:P,dfpTag:T,pageType:S,random:V,adUnitId:M,categoryId:_,moduleLocation:O}=e.getAdCustomInfo(),R=E.Y2.getAdsXpa(),B=null!==M&&void 0!==M?M:"0",U=null!==_&&void 0!==_?_:"0",W=(0,b.W)(),F="heropov2"===C||"heropov3"===C||"heropov4"===C||"heropov5"===C||"heropov6"===C?"HeroPOV":O,N="".concat(W,"-").concat(S,"-").concat(F,"-").concat(C),j={[D.c7]:(0,I.D)(),[D.Ze]:L[n],[D.Ag]:g,[D.$M]:P,[D.Ms]:w,[D.fD]:window.location.href,[D.ij]:window.location.href,[D.F7]:x,[D.tv]:h,[D.Hx]:r,[D.QK]:k,[D.mg]:y,[D.FD]:V,[D.n6]:c,[D.V]:d,[D.q1]:p,[D.wc]:m,[D.Bn]:s.eventTypeCount[n]-1,[D.mF]:o,[D.R0]:!0,[D.Vf]:!0,[D.Cx]:C,[D.J7]:T,[D.Dk]:S,[D.Zs]:B,[D.Q0]:U,[D.t9]:R,[D.rY]:V,[D.jz]:W,[D.qo]:p,[D.hW]:(null===a||void 0===a?void 0:a.iasTeamId)||"",...(i&&{[D.hH]:N}),[D.ld]:(0,t.v)().enableMoatIvtSkip?{}:(0,f.p)()},H=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n&&(j[e]=a)};return H(D.MX,s.groupMViewable),H(D.yJ,s.groupMViewable),H(D.Vx,s.viewabilityMRC),H(D.xk,s.publicisFullInViewOTS),H(D.GL,Boolean(e.touchOrClickTimeOffset)),H(D.P1,n===u.Au.CLICK,s.eventTypeCount[n]),{payload:j}},w=a(925385),C=a(487574),P=a(414999),T=a(153247),S=a(707337),V=a(599057),M=a(119460),_=a(285910),O=a(803522),R=a(884108);const B={5e3:u.C7.INVIEW_50_5s,15e3:u.C7.INVIEW_50_15s};var U=(e,n)=>{e.intersectionRatio>=u.TY?(n.lastInViewFiftyTime=Date.now(),n.trackingTimeoutList[M.gg]=[...n.trackingTimeoutList[M.gg],...Object.keys(B).filter(e=>!n.firedBeacons.has(e)).map(e=>window.setTimeout(()=>{((e,n)=>{e.firedBeacons.has(n)||(e.beaconUtil.fire(n,u.JY.AD_VIEWABLE),e.firedBeacons.add(n))})(n,B[e])},Math.max(0,Number(e)-n.cumulativeInViewFifty)))]):(n.cumulativeInViewFifty+=Date.now()-n.lastInViewFiftyTime,n.trackingTimeoutList[M.gg]=(0,c.Z)(n.trackingTimeoutList[M.gg]))};var W=(e,n)=>{e.intersectionRatio>=u.nJ&&!n.firedBeacons.has(u.C7.FULL_VIEWABLE)&&(n.beaconUtil.fire(u.C7.FULL_VIEWABLE,u.JY.AD_VIEWABLE),n.firedBeacons.add(u.C7.FULL_VIEWABLE))};class F extends class{onClick(){this.beaconUtil.fire(u.Au.CLICK,u.JY.AD_CLICK),this.element instanceof HTMLIFrameElement||this.element.removeEventListener("click",this.onClickHandler)}initialize(){this.beaconUtil.fire(u.Au.AD_IMPRESSION,u.JY.AD_IMPRESSION),p()(e=>{this.element.id===e.id&&"click"===e.type&&this.onClick()}),this.element instanceof HTMLIFrameElement||this.element.addEventListener("click",this.onClickHandler),(0,y.Z)(()=>{"visible"!==document.visibilityState?this.windowNotVisibleTime=Date.now():"visible"===document.visibilityState&&(this.windowVisibleTimes.push({notVisible:this.windowNotVisibleTime,visible:Date.now()}),this.windowNotVisibleTime=null),this.onVisibilityChange(document.visibilityState)})}onVisibilityChange(e){}getFullViewPercentage(){return(0,u.wf)()}getBaseTrackers(){return[g.Z]}adSizeCheck(){return Number(this.element.offsetHeight)*Number(this.element.offsetWidth)>=242500}unmount(){for(const e of Object.values(this.commonTrackingTimeoutList))(0,c.Z)(e);this.beaconUtil.fire(u.Au.UNLOAD,u.JY.AD_REMOVE)}constructor(e,n,a,t,i,l,s){this.windowVisibleTimes=[],this.windowNotVisibleTime=null,this.commonTrackingTimeoutList={[u.jI]:[]},this.element=e,this.displayAdProps=n,this.trackingState=a,this.beaconUtil=t,this.adCvValues=i,this.moduleLocation=l,this.zone=s,this.trackingState.adLoadedTime=Date.now(),this.touchOrClickTimeOffset=0,this.trackingState.isAdLarge=this.adSizeCheck(),this.onClickHandler=this.onClick.bind(this)}}{initialize(){super.initialize()}onVisibilityChange(e){this.lastObservedEntry&&("hidden"===e?this.getAllTrackers().filter(e=>e!==V.Z).forEach(e=>{e({...this.lastObservedEntry,isIntersecting:!1,intersectionRatio:0},this,()=>{})}):"visible"===e&&this.getAllTrackers().filter(e=>e!==V.Z).forEach(e=>{e(this.lastObservedEntry,this,()=>{})}))}getAdCustomInfo(){var e;const{advertiserID:n,orderID:a,adUnitID:i,metaData:l}=this.displayAdProps,s=l.dfpResponse,r=l.dfpParams,o=s.googleLineitemId,d=s.googleCreativeId,c=r.dfpTag,m=r.targeting,p=m.location,u=m.categoryId,y=m.ptype,g=n&&a&&o&&d?"".concat(n,":").concat(a,":").concat(o,":").concat(d):void 0,h=(e=>{let{desktopImage:n,mobileImage:a,desktopLogo:t,mobileLogo:i,mainImage:l,logoImage:s,desktopBrandImage:r,mobileBrandImage:o,desktopBrandLogo:d,mobileBrandLogo:c,image:m,mainShortImage:p,tabletImage:u}=e;return n||a||t||i||l||s||r||o||d||c||m||p||u})(this.displayAdProps),x=this.moduleLocation;let v="",f="";var b,I;(0,t.v)().dspProcessingEnable&&(null===(e=this.displayAdProps.extendedDSPProps)||void 0===e?void 0:e.deviceType)?v="desktop"===(null===(b=this.displayAdProps.extendedDSPProps)||void 0===b?void 0:b.deviceType)?"WMUS":"WMUS-Mobile":v=c&&c.split("/")[2]||"";(0,t.v)().displayIdentifyAdServer&&(f=(null===(I=this.displayAdProps.extendedDSPProps)||void 0===I?void 0:I.adServer)||"GAM");return{adIds:g,adLocation:p,adUnitId:i,assetUrl:h,categoryId:u,dfpTag:v,pageType:y,random:this.displayAdProps.metaData.dfpParams.targeting.sessId,adServer:f,moduleLocation:x,zone:this.zone}}unmount(){for(const e of Object.values(this.trackingTimeoutList))(0,c.Z)(e);this.beaconUtil.fire(u.Au.UNLOAD,u.JY.AD_REMOVE),(this.element instanceof HTMLVideoElement||this.element instanceof HTMLIFrameElement&&this.displayAdProps.vastXml)&&this.beaconUtil.fire(u.Bs.AD_VIDEO_REMOVE,u.jo.AD_VIDEO_REMOVE),super.unmount()}getAllTrackers(){return[...this.getTrackers(),...this.getBaseTrackers()]}getTrackers(){return[P.Z,_.Z,R.Z,O.Z,C.Z,T.Z,S.Z,V.Z,...((0,t.v)().displayCommonTrackingExtendedEvents?[W,U]:[])]}getCommonTrackers(){return[h.ZP,x.Z]}getPayload(e){return(0,t.v)().displayCommonTracking?k(this,e):(0,w.ZP)(this,e)}constructor(e,n,a,t,i,l,s){super(e,n,a,t,i,l,s),this.startMrcViewTime=0,this.startFiftyPctContTime=0,this.startHundredPctContTime=0,this.startFullInViewOTS=0,this.mrcTotalPeriodicTime=0,this.cumulativeInViewFifty=0,this.lastInViewFiftyTime=0,this.groupMTotalPeriodicTime=0,this.firedBeacons=new Set,this.lastObservedEntry=null,this.trackingTimeoutList={[M.Ik]:[],[M.VL]:[],[M.bw]:[],[M.gg]:[]},t.attachTracker(this,u.tY.moat),this.initialize()}}var N=a(767157);class j{attachTracker(e,n){this.trackers.set(n,e)}payloadCheck(e,n){let a=!0;const t=new Set([D.hW]),i=Object.keys(e),l=[];for(let s=0;s<i.length;s++){const n=i[s];void 0!==e[n]||t.has(n)||(l.push(n),a=!1)}return a||(0,s.L)({type:"BEACON_MISSING_KEY",payload:{action:n,missingKeys:l,payload:e}}),a}fire(e,n){const a={...(this.commonDisplayAdPayload.metaData.beaconDebug||{}),adSource:"S2S",ip:this.commonDisplayAdPayload.metaData.dfpParams.clientIp,s:this.adUuid,t:[],ignore:!1},i={};let l=!1;switch(e){case u.Au.AD_IMPRESSION:case u.Au.CLICK:case u.Au.TOUCH:case u.Au.MRC_VIEWABLE:case u.C7.FULL_VIEWABLE:case u.C7.INVIEW_50_15s:case u.C7.INVIEW_50_5s:case u.Au.UNLOAD:this.trackers.forEach((s,r)=>{const{payload:o}=s.getPayload(e);var d;this.payloadCheck(o,n)&&(a.t.push(r),(0,t.v)().displayCommonTracking&&(null===(d=this.commonDisplayAdPayload.iasTeamId)||void 0===d?void 0:d.length)&&a.t.push(u.tY.ias),(0,t.v)().displayCommonTracking?i.event=o:i[u.tY.moat]=o,"isEndemic"in this.commonDisplayAdPayload.metaData&&(i.isEndemic=this.commonDisplayAdPayload.metaData.isEndemic),l=!0)});break;case u.X9.GROUPM_VIEWABLE:case u.X9.PERIODIC_UPDATE:{const r=this.trackers.get(u.tY.moat);if(r){const{payload:o}=r.getPayload(e);var s;if(this.payloadCheck(o,n))a.t.push(u.tY.moat),(0,t.v)().displayCommonTracking&&(null===(s=this.commonDisplayAdPayload.iasTeamId)||void 0===s?void 0:s.length)&&a.t.push(u.tY.ias),(0,t.v)().displayCommonTracking?i.event=o:i[u.tY.moat]=o,"isEndemic"in this.commonDisplayAdPayload.metaData&&(i.isEndemic=this.commonDisplayAdPayload.metaData.isEndemic),l=!0}break}case u.Bs.AD_VIDEO_IMPRESSION:case u.Bs.AD_VIDEO_VIEWABLE:case u.Bs.AD_VIDEO_VIEWABLE_GM:case u.Bs.AD_VIDEO_QUARTILE:case u.Bs.AD_VIDEO_COMPLETE:case u.Bs.AD_VIDEO_CLICK:case u.Bs.AD_VIDEO_REMOVE:this.trackers.forEach((n,t)=>{const{payload:s}=n.getPayload(e);a.t.push(t),i[u.tY.moat]=s,l=!0})}if(!l)return;const r={mt:a,pl:i};E.Y2.sendBeacon({context:"displayWlmt",action:"ads",name:n,payload:r}),this.onBeacon&&this.onBeacon(r)}constructor(e,n,a,t){this.adUuid=e,this.commonDisplayAdPayload=n,this.trackingStates=a,this.onBeacon=t,this.trackers=new Map}}var H=a(148229);const Z=e=>{let{target:n,commonDisplayAdPayload:a,track3PEnable:c,onBeacon:m,dbg:p,root:y,moduleLocation:g,templateId:h,adsPerfMetrics:x,zone:v}=e;const f=(0,t.v)(),b=(0,i.D)(),I=f.viewableBeaconFix,E={root:y,rootMargin:"0px",threshold:[u.G1,u.Rl,u.TY,(0,u.wf)()]},D=(0,d.useMemo)(()=>(e=>{const n={};return e&&(n.moat={adLoadedTime:0,isAdLarge:!1,viewabilityMRC:!1,groupMViewable:!1,totalMrcViewTime:0,totalFiftyPctContTime:0,totalHundredPctContTime:0,publicisFullInViewOTS:!1,fullInViewOTS:0,eventTypeCount:{AD_IMPRESSION:0,CLICK:0,MRC_VIEWABLE:0,GROUPM_VIEWABLE:0,PERIODIC_UPDATE:0,TOUCH:0,UNLOAD:0,AD_VIDEO_IMPRESSION:0,AD_VIDEO_QUARTILE:0,AD_VIDEO_COMPLETE:0,AD_VIDEO_VIEWABLE:0,AD_VIDEO_VIEWABLE_GM:0,AD_VIDEO_CLICK:0,AD_VIDEO_REMOVE:0}}),n})(c),[c]),{0:A,1:L}=(0,d.useState)(n.current),k=(0,t.v)();(0,d.useEffect)(()=>{L(n.current)},[n,L]);const w=(0,d.useMemo)(()=>(0,H.P)(a),[a]),C=(0,d.useRef)(new j(w,a,D,m)),P=(0,d.useRef)(null),{0:T,1:S}=(0,d.useState)(null);(0,d.useEffect)(()=>{c&&A&&!P.current&&((0,t.v)().moatRefactorEnable?P.current=new N.Z(A,a,D.moat,C.current,k,g,v):P.current=new F(A,a,D.moat,C.current,k,g,v),S(P.current))},[k,g,a,A,c,D.moat,S,v]),(0,d.useEffect)(()=>()=>{P.current&&P.current.unmount()},[]);const V=(0,d.useCallback)((e,n,a)=>{(0,s.L)({payload:{state:n},type:"GLASS_3P_AD_UPDATE",meta:{stateChange:"".concat(e,":").concat(a),id:w}})},[w]),M=(0,d.useCallback)(e=>{if(P.current&&c){P.current.getAllTrackers().forEach(n=>{n(e,P.current,V,g)})}},[g,c,V]);(0,l.P)(n,M,E,{root:y,dbg:!0,auxData:{adType:"display",displayAd:a,dbg:p}},I?[T]:[null]);const _=(0,d.useMemo)(()=>e=>{if(P.current&&c){P.current.getCommonTrackers().forEach(n=>{n("video",e,P.current,b,x||{},V)})}},[x,b,c,V]);(0,d.useEffect)(()=>((0,t.v)().ipBr1VideoDSPEnabled&&"VIDEO1"===h&&window.addEventListener("message",e=>{try{if(e){var a;const t="string"===typeof e.data?JSON.parse(e.data):e.data;"svelte"===t.host&&t.id===(null===(a=n.current)||void 0===a?void 0:a.id)&&_(t)}}catch(t){(0,o.cM)(["error","ads","brandboxvideo"],{type:"log",message:null===t||void 0===t?void 0:t.message})}}),()=>{window.removeEventListener("message",_)}),[_,n,h]),(0,r.x)(A,u.ml,_)}}}]);