"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18482],{664718:function(e,n,t){t.d(n,{Z:function(){return x}});var i=t(487954),l=t(682081),a=t(425443),r=t(444002),o=t(620769),d=t.n(o),s=t(194742),c=t(527582),u=t(636678);const m=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var t;const i="US-B2B"===(null===(t=(0,u.B)().publicRuntimeConfig)||void 0===t?void 0:t.nxApplicationName);return i?e:n};var x=e=>{let{backButton:n,children:t,panelClose:o,panelTitle:u,shouldFocusCloseButton:x,titleId:p,customHeaderStyle:y}=e;const{isMobile:f}=(0,a.vP)(),v=(0,s.useRef)(null);return(0,s.useEffect)(()=>{x&&setTimeout(()=>{var e;null===(e=v.current)||void 0===e||e.focus()},0)},[x]),(0,i.jsxs)("div",{className:d()("flex flex-row-reverse items-start justify-between",{"bg-primary pa4 pr3 bb b--near-white":!f,"pa2 b":f},m("bg-secondary")),style:y,children:[(0,i.jsx)("button",{"aria-label":(0,l.m)(c,"closeLabel"),className:d()("bg-transparent bn dib ma0 pa2 pointer",f?"black":"white",m("white")),onClick:o,ref:v,style:{height:40,width:40},type:"button","data-dca-id":"B:8A8E4E7842","data-dca-intent":"__DCA_TBD__",children:(0,i.jsx)(r.J,{name:"Close",size:"medium"})}),(0,i.jsx)("h2",{id:p,className:d()("flex-auto lh-title",{"white f2 ma0 mt1":!f,"black f4 ma2":f},m("white")),children:u||t}),n]})}},622409:function(e,n,t){t.d(n,{Z:function(){return ue}});var i={};t.r(i),t.d(i,{backInStockEmail:function(){return V},notifyMeBtnLabel:function(){return C},notifyMeBtnText:function(){return A},notifyMeError:function(){return k},notifyMePreOrderBtnLabel:function(){return M},preOrderInStockEmail:function(){return F}});var l={};t.r(l),t.d(l,{closeDialog:function(){return $},notifyMeAcknowledgment:function(){return X},notifyMeDescription:function(){return K},notifyMePreOrderDescription:function(){return ee},notifyMeText:function(){return z},privacyLinkAriaLabel:function(){return Y},promotionalEmailCheckbox:function(){return D},promotionalEmailOffer:function(){return H},termsLinkAriaLabel:function(){return J}});var a=t(487954),r=t(186630),o=t(116161),d=t(293168);var s=t(826411),c=t(425443),u=t(179404),m=t(222830);const x=e=>{var n,t;return null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.account)||void 0===t?void 0:t.marketingPrivacy.marketingEmail.subscribed};var p=t(169110);const y="lists-email-marketing",f={type:"query",name:"getMarketingEmailPrivacyPreference",hash:"3d5825a561d5a5ce7058c6a8941de6801a966886af428ebedd6a3ea7c4b87595"},v=()=>{const e=(0,u.Z)(),n=(0,d.iC)(o._).list.values,{timeoutMs:t,loggingEnable:i}=n||{},{isMobile:l}=(0,c.vP)(),a=((e,n)=>{let{timeoutMs:t,loggingEnable:i,isMobile:l}=n;return{queryFn:()=>(0,s.qB)(e.getGqlFetch((0,p.d)(l),{timeoutMs:t})(f),{apiName:"getMarketingEmailPrivacyPreference",queryKey:[y],loggingEnable:i},!0),queryKey:[y]}})(e,{timeoutMs:t,loggingEnable:i,isMobile:l}),{data:r,isLoading:v,isFetching:b,refetch:w}=(0,m.a)({...a,config:{enabled:!1,staleTime:1/0,cacheTime:0}});return{fetchEmailMarketingPref:w,showSpinner:v||b,subscribedData:x(r)}};var b=t(784289);const w={type:"mutation",name:"updateMarketingEmailPreference",hash:"bb94a30b8c0749c71728a7b92b559186f09f4d7ed99df764f7f8c199edb1908e"},g=()=>{var e;const n=(0,u.Z)(),{isMobile:t}=(0,c.vP)(),{timeoutMs:i,loggingEnable:l}=(null===(e=(0,d.iC)(o._).list)||void 0===e?void 0:e.values)||{},{mutationFn:a}=((e,n)=>{let{timeoutMs:t,loggingEnable:i,isMobile:l}=n;return{mutationFn:n=>(0,s.qB)(e.getGqlFetch((0,p.d)(l),{disableAuthFetch:!0,timeoutMs:t})(w,{input:n}),{apiName:"updateMarketingEmailPreference",loggingEnable:i})}})(n,{timeoutMs:i,loggingEnable:l,isMobile:t}),[r]=(0,b.D)(a);return{updateMarketingEmailPreference:r}};var E=t(522037),N=t(682081),L=t(415627),h=t(200421),I=t(160511),S=t(194742);const A=()=>"Notify me",C=e=>"Notify me when back in stock: "+e.productName,k=()=>"We couldn't process your request. Please try again.",V=()=>"Got it. We'll let you know when the item is back in stock.",M=()=>"Get notified when this item is available",F=()=>"Got it. We'll let you know as soon as the item is available.";var P=t(485969),T=t(155394),j=t(297693);const _="notifyListBIS";var O=t(664718),W=t(302303),q=t(385074),U=t(438989),B=t(976973),G=t(995433),R=t(408694),Q=t(91726),Z=t(806274);const z=()=>"Notify me",D=()=>"Send me emails about new arrivals, hot items, daily savings and more.",X=e=>S.createElement(S.Fragment,[],"By signing up for our promotional emails, you acknowledge you have read and agreed to our ",function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return(e&&"object"===typeof e?e.fmt:t)(n)}(e.terms,Z.Ys((e=>e&&"object"===typeof e&&"val"in e?e.val:e)(e.terms),{other:"Terms of Use"}))," and ",function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return(e&&"object"===typeof e?e.fmt:t)(n)}(e.privacy,Z.Ys((e=>e&&"object"===typeof e&&"val"in e?e.val:e)(e.privacy),{other:"Privacy Policy"})),"."),K=()=>"We'll send you an email when it's back in stock: ",H=()=>"Want other updates?",J=()=>"Terms of Use, opens in new window",Y=()=>"Privacy Policy, opens in new window",$=()=>"Close dialog",ee=()=>"We\u2019ll email you as soon as this item is available",ne=125,te=e=>{let{children:n}=e;return(0,a.jsx)(Q.ZP,{"aria-label":(0,N.m)(l,"termsLinkAriaLabel"),href:"https://help.walmart.com/app/answers/detail/a_id/8",target:"_blank",onLinkName:"termsOfUse","data-dca-id":"L:2C882C450A",children:n})},ie=e=>{let{children:n}=e;return(0,a.jsx)(Q.ZP,{"aria-label":(0,N.m)(l,"privacyLinkAriaLabel"),href:"https://corporate.walmart.com/privacy-security/walmart-privacy-policy",target:"_blank",onLinkName:"privacyPolicy","data-dca-id":"L:CE753A2D11",children:n})},le=e=>{let{titleId:n,onClose:t,title:i}=e;return(0,a.jsx)(O.Z,{panelClose:t,titleId:n,shouldFocusCloseButton:!0,children:i})},ae=e=>(0,a.jsx)(te,{children:e}),re=e=>(0,a.jsx)(ie,{children:e}),oe=e=>{let{analyticsContext:n,analyticsContent:t,analyticsName:i,onClick:r,onClose:o,isOpen:d,itemName:s,itemImage:u,pageTitle:m,isPreOrderOOSItem:x}=e;const{0:p,1:y}=(0,S.useState)(!1),{isMobile:f}=(0,c.vP)(),v=(0,S.useRef)(null),b=(0,S.useMemo)(()=>f?(0,N.m)(l,"notifyMeText"):e=>(0,a.jsx)(le,{titleId:e.titleId,onClose:o,title:(0,N.m)(l,"notifyMeText")}),[f,o]);return(0,a.jsx)(E.ZP,{alternateObservationPoint:v,moduleContext:n,moduleViewExtras:t,moduleLinkExtras:t,name:i,pageTitle:m,shouldSuppressModuleView:!d,"data-dca-id":"M:2C2789B833","data-dca-type":"module",children:(0,a.jsx)(U.Z,{children:(0,a.jsxs)(B.Z,{closeButtonProps:{"aria-label":(0,N.m)(l,"closeDialog")},isOpen:d,actions:(0,a.jsxs)("div",{className:"flex flex-column",children:[(0,a.jsx)("p",{id:"notification-terms-id",className:"f7 gray lh-title mt0 tc",children:(0,N.m)(l,"notifyMeAcknowledgment",{terms:{fmt:ae},privacy:{fmt:re}})}),(0,a.jsx)("div",{className:"w-100",ref:v,children:(0,a.jsx)(h.Z,{"aria-describedby":"notification-terms-id",onClick:()=>{r(p),o()},isFullWidth:!0,variant:"primary",size:"medium",onLinkName:"notifyMe",onLinkExtras:{pg:{nm:n},ta:{pt:n}},"data-dca-id":"B:CBE9BBC418","data-dca-intent":"__DCA_TBD__",children:(0,N.m)(l,"notifyMeText")})})]}),"aria-labelledby":"notify-me-desc-id",desktopComponent:"panel",mobileComponent:"bottomsheet",onClose:o,position:"right",size:"medium",title:b,children:[(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsx)(G.Z,{alt:"",className:"mt2 mb4",height:ne,preload:!1,src:(0,R.P)({src:u,height:String(ne),width:String(ne)}),width:ne})}),(0,a.jsx)("p",{id:"notify-me-desc-id",className:"lh-copy f5 mt0 mb3",children:(0,a.jsx)(W.W,{lines:2,children:x?(0,N.m)(l,"notifyMePreOrderDescription"):"".concat((0,N.m)(l,"notifyMeDescription")," ").concat(s)})}),(0,a.jsx)("p",{className:"f5 mt0 mb3",children:(0,N.m)(l,"promotionalEmailOffer")}),(0,a.jsx)("div",{className:"mt3",children:(0,a.jsx)(q.Z,{checked:p,label:(0,N.m)(l,"promotionalEmailCheckbox"),onChange:()=>y(e=>!e),onLinkName:"otherUpdates"})})]})})})},de="notifyMe",se={co:{ov:de}},ce=e=>{let{analyticsDetails:n,pageType:t,pageTitle:l,analyticsContext:o,itemImageUrl:d,itemName:c,usItemId:u,isPreOrderOOSItem:m,a11yButtonLabel:p,className:y="",buttonVariant:f="tertiary",failureCallBack:b=L.Z,successCallBack:w=L.Z,showSuccessSnackBar:A=!0,idToFocus:C,...k}=e;const V=(0,S.useRef)(null),M=p||(0,N.m)(i,"notifyMeBtnLabel",{productName:c}),{0:F,1:O}=(0,S.useState)(!1),{isBackFromSignInItem:W,isLoggedIn:q,goToSignIn:U}=(0,r.xP)(),{subscribedData:B,fetchEmailMarketingPref:G,showSpinner:R}=v(),{notifyList:Q,isLoading:Z}=(e=>{let{onSuccess:n=L.Z,onError:t=L.Z,closeModal:l,showSuccessSnackBar:a,analyticsContext:o,isPreOrderOOSItem:d}=e;const{addSnack:s}=(0,T.useSnackbar)(),{setNotifyListCache:c}=(0,r.xP)(),u=(0,j.wG)();return(0,P.K)({onSuccess:e=>{let{data:t}=e;const r=t.addToNotifyList.usItemIds.filter(e=>e);if(!r.length)throw new Error("GQL returned no items");if(c(r),n(),a){const e=d?(0,N.m)(i,"preOrderInStockEmail"):(0,N.m)(i,"backInStockEmail");u({context:o,action:"message",name:_,payload:{pg:{nm:o},ta:{pt:o},ms:{tx:e,ty:_}}}),setTimeout(()=>s({message:e}),1e3)}l()},onError:e=>{t();const n=(0,N.m)(i,"notifyMeError");u({context:o,action:"error",name:_,payload:{pg:{nm:o},ta:{pt:o},er:{dt:_,ec:e.name||e.message||"",ty:"server",ms:n}}}),s({message:n}),l()}})})({onSuccess:w,onError:b,closeModal:()=>(()=>{var e;C&&(null===(e=document.querySelector("#".concat(C)))||void 0===e||e.focus()),O(!1)})(),showSuccessSnackBar:A,analyticsContext:o,isPreOrderOOSItem:m}),{updateMarketingEmailPreference:z}=g(),D=e=>{Q({include:["items"],items:[{usItemId:u}]}),e&&z({...B,all:!0,newsEmail:!0,source:t})},X=()=>{q?(V.current=u,(0,s.qB)(G(),{apiName:"getMarketingEmailPrivacyPreference",queryKey:["lists-email-marketing"],loggingEnable:!0},!0).then(e=>{let{data:n,error:t}=e;var i;"UNAUTHENTICATED"!==(null===t||void 0===t?void 0:t.message)?!1===(null===(i=x(n))||void 0===i?void 0:i.newsEmail)?O(!0):D(!1):U(u)}).catch(()=>{D(!1)}).finally(()=>{V.current=null})):U(u)};return(0,S.useEffect)(()=>{W(u)&&X()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.ZP,{className:y,moduleContext:o,moduleLinkExtras:n,name:"",pageTitle:l,shouldSuppressModuleView:!0,noSection:!0,"data-dca-id":"M:350A9E8149","data-dca-type":"module",children:(0,a.jsx)(h.Z,{...k,"aria-label":M,onClick:X,variant:f,onLinkName:de,"data-dca-id":"B:568AAC6699","data-dca-intent":"__DCA_TBD__",children:m?(0,N.m)(i,"notifyMePreOrderBtnLabel"):(0,N.m)(i,"notifyMeBtnText")})}),(Z||V.current===u&&R)&&(0,a.jsx)(I.Z,{}),(0,a.jsx)(oe,{analyticsContext:o,analyticsContent:se,analyticsName:de,isPreOrderOOSItem:m,isOpen:F,itemName:c,itemImage:d,onClose:()=>O(!1),onClick:D,pageTitle:l})]})};var ue=e=>{const{isInNotifyListCache:n}=(0,r.xP)(),{backInStockEnable:t}=(()=>{var e,n;const t=null===(e=(0,d.iC)(o._))||void 0===e||null===(n=e.list)||void 0===n?void 0:n.values,{backInStockEnable:i=!1}=t||{};return{backInStockEnable:i}})();return!t||n(e.usItemId)?null:(0,a.jsx)(ce,{...e})}}}]);