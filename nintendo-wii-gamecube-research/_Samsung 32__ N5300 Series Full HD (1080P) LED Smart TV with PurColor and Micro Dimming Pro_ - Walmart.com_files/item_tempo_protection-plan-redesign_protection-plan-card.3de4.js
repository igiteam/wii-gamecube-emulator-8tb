"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22174],{341572:function(e,t,a){a.r(t),a.d(t,{ProtectionPlanCard:function(){return j},getHeading:function(){return h},getLinkExtras:function(){return I},getNoSelectionRadioLabel:function(){return y},getServiceAriaLabel:function(){return N},showNotAvailablePanel:function(){return S}});var r=a(487954),c=a(719650),i=a(740668),n=a(639762),l=a(155394),o=a(682081),s=a(385074),d=a(444002),u=a(995433),p=a(620769),m=a.n(p),g=a(194742),v=a(501882),T=a(790580);const h=e=>{let{groups:t,enableThreeGridView:a}=e;const c=null===t||void 0===t?void 0:t.length;return(0,r.jsx)("div",{children:c>1?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Heading,{size:"small",as:"h2",UNSAFE_className:"f4",children:"".concat((0,o.m)(v,"heading"))}),(0,r.jsx)("p",{className:"ma0 ".concat(a?"f7":"f6"," o-70 mr2 lh-title mb3"),children:"".concat((0,o.m)(v,"subheading"))})]}):null})},y=(e,t)=>{if(e===T.Fn)return(0,o.m)(v,"noSelection",{noSelectionText:"help"});if(e===T.xq){const e=(0,o.m)(v,"noSelection",{noSelectionText:"acc"});return"productPage"===t?e:"".concat(e," ").concat((0,o.m)(v,"pickOnly"))}return(0,o.m)(v,"noSelection",{noSelectionText:"protection"})},I=e=>{let{serviceType:t,groupType:a,offerId:r,price:c,displayName:i,usItemId:n,pageName:l,productBaconItems:o}=e;return"productPage"===l?{li:{nm:"addOnServiceToggle"},ss:{sg:t,sr:a,sp:c,ao:r,sd:i,us:n},pr:{us:o.usItemIdProduct,dp:o.priceProduct,se:{id:o.sellerId,nm:o.sellerName}}}:"cart"===l?{ta:{ss:{sg:t,sr:a,sp:c,ao:r,sd:i,us:n},mo:"addOnServices"},pg:{nm:l}}:void 0},f=(e,t,a,r)=>t&&r.groupModuleTitle?r.groupModuleTitle:e>1?r.groupTitle:"IN_HOME_INSTALLATION"===r.groupType?r.serviceTitle:a||(0,o.m)(v,"heading"),b=e=>{let{groups:t,serviceTitle:a,serviceType:c,DetailOverlay:i,onItemSelect:l,selectedOption:s,pageName:d,isCartAccScheduling:p,productBaconItems:g,isTranche2Enabled:y,enableThreeGridView:I,enableAOSModuleAttribute:b}=e;const N="productPage"===d&&c===T.xq;return(0,r.jsxs)("div",{style:N?{marginLeft:"40px"}:{},className:m()("bg-washed-blue br3 ph3 pv2",{mb3:y}),children:[h({groups:t,enableThreeGridView:I}),null===t||void 0===t?void 0:t.map((e=>{var h;const y=null===(h=e.services)||void 0===h?void 0:h.length,{CustomImageMapper:S,customProtectionPlanHeading:P}=(0,n.Nh)();return(0,r.jsx)("div",{"data-testid":"".concat(c,"_Group"),role:"radiogroup","aria-labelledby":"".concat(d,"-").concat(e.groupType),className:"WPP"===e.groupType&&t.length>1?"mb3":"",children:(0,r.jsxs)("div",{className:m()("inline-flex items-start",{ml3:p}),children:[N?null:(0,r.jsx)(u.Z,{src:S?S[e.groupType]:T.y8[e.groupType],alt:"".concat(e.groupType," Logo"),preload:!1,width:36,height:36,className:"mr3","aria-hidden":!0,"data-testid":"".concat(e.groupType,"_Icon")}),(0,r.jsxs)("div",{className:"box_right_side",children:[(0,r.jsx)("span",{className:"mr2 mid-gray lh-title f6 b",id:"".concat(d,"-").concat(e.groupType),children:f(t.length,b,P,{groupType:e.groupType,groupTitle:e.groupTitle,groupModuleTitle:e.groupModuleTitle,serviceTitle:a})}),i&&(0,r.jsx)(i,{content:e.shortDescription||"",logoImageUrl:e.assetUrl||"",title:b&&e.groupModuleTitle?e.groupModuleTitle:e.groupTitle,groupType:e.groupType,serviceType:c}),1===t.length&&y>1&&"WPP"===e.groupType?(0,r.jsx)("p",{className:"ma0 ".concat(I?"f7":"f6"," o-70 mr2 lh-title"),children:"".concat((0,o.m)(v,"subheading"))}):null,x({services:e.services,groupType:e.groupType,serviceType:c,onItemSelect:l,selectedOption:s,pageName:d,isItemPageTireInstallation:N,productBaconItems:g})]})]})},"".concat(d,"-").concat(e.groupType))}))]})},x=e=>{let{services:t,groupType:a,serviceType:c,onItemSelect:i,selectedOption:n,pageName:o,isItemPageTireInstallation:d,productBaconItems:u}=e;return null===t||void 0===t?void 0:t.map(((e,t)=>{var p,g;const v={"aria-labelledby":"meta-data-".concat(t)},T=e.displayName;return(0,r.jsxs)("div",{"data-testid":e.displayName,children:[(0,r.jsx)(s.Z,{"data-dca-type":"item_tempo_add_on_services:protection_plan_card:checkbox","data-dca-intent":"select","data-dca-name":"ItemBuyBoxCoverPlanCheckbox",label:T,value:T,name:"".concat(o,"-").concat(c,"-").concat(e.offerId),onChange:t=>{i({offerId:e.offerId,currentPrice:e.currentPrice,groupType:a,displayName:T,usItemId:e.usItemId,checked:t.target.checked})},checked:e.offerId===n,className:m()("w-100 mt2",{ml0:!d}),onLinkName:"addOnServiceToggle",onLinkExtras:I({serviceType:c,groupType:a,price:(null===(p=e.currentPrice)||void 0===p||null===(g=p.price)||void 0===g?void 0:g.toString())||"",offerId:e.offerId,displayName:T,usItemId:e.usItemId,pageName:o,checked:e.offerId===n,productBaconItems:u}),...e.serviceMetaData&&v}),e.serviceMetaData&&(0,r.jsxs)("div",{id:"meta-data-".concat(t),className:"f6 gray",style:d?{marginLeft:"32px"}:{marginLeft:"62px",marginTop:"2px"},children:[(0,r.jsx)(l.VisuallyHidden,{children:e.displayName}),e.serviceMetaData]})]},e.offerId)}))},N=e=>{let{serviceTitle:t,selectedSubtext:a,serviceSubTitle:r,serviceType:c}=e;return a?c===T.xq?"".concat(t," ").concat((0,o.m)(v,"selected")," ").concat(a):t+a:t+r},S=(e,t,a,c)=>{const i="productPage"===t;return e?(0,r.jsxs)("div",{className:m()("flex mb3",{"flex-column mt1":i,"justify-between ":!i}),style:i?{marginLeft:"40px"}:{marginLeft:0},children:[c&&(0,r.jsx)("div",{className:m()("ma0 f6 black lh-copy",{ml3:a}),children:c}),(0,r.jsx)("div",{id:"find-nearby-store",children:(0,r.jsx)(e,{})})]}):null},P=e=>(0,r.jsx)(d.J,{size:"medium",name:T.TC.TIRE_INSTALLATION,className:m()("mr3",{nt3:!e}),"aria-hidden":!0,"data-testid":"TIRE_INSTALLATION_Icon"}),j=e=>{var t,a;const{serviceData:n,selectCallback:l,selectedServices:o,detailOverlay:s,pageName:d,isAccScheduling:u,findStoreOverlay:p,enableAOSModuleAttribute:v}=e,{serviceType:h,serviceTitle:y,groups:I}=n,{0:f,1:x}=(0,g.useState)("".concat(h+T.OZ.VALUE)),N=h===T.xq&&Boolean(null===I||void 0===I||null===(t=I[0])||void 0===t?void 0:t.unavailabilityReason),j=null===I||void 0===I||null===(a=I[0])||void 0===a?void 0:a.unavailabilityReason,O=Boolean("cart"===d&&u),A=(0,c.e0r)(),_=(0,c.WCA)(),L=(0,c.cRU)(),k=(0,c.O3v)(),{isTranche2Enabled:E=!1}=(0,i.l)(),M=(0,c.e4c)()||!1;(0,g.useEffect)((()=>{if(o&&(null===I||void 0===I?void 0:I.length))for(let e=0;e<I.length;e++){const t=I[e],a=(null===t||void 0===t?void 0:t.groupType)||"";if(o[a]){x(o[a]||"");break}e===I.length-1&&x("".concat(h+T.OZ.VALUE))}}),[o,I]);const C={usItemIdProduct:A,sellerId:_,sellerName:L,priceProduct:k};return(0,r.jsxs)("section",{"data-testid":"".concat(h,"_SERVICE"),className:m()("protection-plan-section",{"mt3 bt b--near-white":O}),children:[h===T.xq&&"productPage"===d&&I&&P(N),N&&S(p,d,O,j),!N&&(0,r.jsx)(r.Fragment,{children:b({groups:I,serviceTitle:y,serviceType:h,DetailOverlay:s,onItemSelect:e=>{let{offerId:t,currentPrice:a,groupType:r,displayName:c,usItemId:i,checked:n}=e;const o=t.includes(T.OZ.VALUE)||!n?"":t;x(t),l([{offerId:o||"",serviceType:h,currentPrice:a||null,groupType:r,displayName:c,usItemId:i}])},selectedOption:f,pageName:d,isCartAccScheduling:O,productBaconItems:C,isTranche2Enabled:E,enableThreeGridView:M,enableAOSModuleAttribute:v})})]})};t.default=j}}]);