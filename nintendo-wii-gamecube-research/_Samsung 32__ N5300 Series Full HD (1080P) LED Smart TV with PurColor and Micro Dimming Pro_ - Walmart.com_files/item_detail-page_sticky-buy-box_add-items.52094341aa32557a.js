"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58905],{904874:function(e,t,s){s.r(t),s.d(t,{default:function(){return a.Z}});var a=s(928787)},928787:function(e,t,s){var a=s(487954),i=s(561720),n=s(896249),d=s(631300),l=s(719650),r=s(639762),o=s(79436),c=s(838816),m=s(729357),u=s(155394),g=s(779280),p=s(293168),h=s(425443),x=s(297693),y=s(786653),I=s(632017),v=s(620769),T=s.n(v),L=s(194742);t.Z=e=>{let{displayCompact:t,registryBtn:s,hideLinks:v,shouldHideAddToRegistry:b}=e;var f,E;const{0:A,1:C}=(0,L.useState)({message:"",type:""}),{enableMWebRedesignPhase2:N,enablePersonalizationGiftCards:k,enableHideAddToRegistryButton:j,enableGiftCardsVariableLoad:D}=(0,n.uL)(),R=(0,p.iC)(g.w),{enableLMPPickupEnhancement:P}=(null===(f=R.marketplace)||void 0===f?void 0:f.values)||{},{isMobile:M}=(0,h.vP)(),w=M&&N,_=(0,l.e0r)(),B=(0,r.iB)(),F=(0,l.yWi)(),S=(0,l.$1F)(),G=(0,l.d9x)(),O=(0,l.ZQf)()||"",W=(0,l.ijb)(),H=(0,l.xdh)(),Z=(0,l.e4c)(),V=(0,l.pLE)(),z=null===(E=(0,d.b)())||void 0===E?void 0:E.AddToListsButtonComponent,J=k&&"THIRD_PARTY_EGIFT_CARD"===(null===B||void 0===B?void 0:B.itemTypeV2)&&"DIGITAL"===(null===B||void 0===B?void 0:B.fulfillmentType)||D&&"THIRD_PARTY_EGIFT_CARD_WITH_RANGE"===(null===B||void 0===B?void 0:B.itemTypeV2)&&"DIGITAL"===(null===B||void 0===B?void 0:B.fulfillmentType),{pr:Y}=(0,i.Fl)(""),q=P&&V,{announceAssertive:Q}=(0,u.useA11yAnnouncement)();(0,L.useEffect)((()=>{A.message&&Q(A.message)}),[Q,A.message]);const{getOrgContext:U}=(0,r.Nh)();if(t)return null;const $={usItemId:_,quantity:1,itemType:S,itemName:O,itemImage:G,itemPrice:(null===W||void 0===W?void 0:W.price)||0},K=(0,m.AP)({id:F,usItemId:$.usItemId,price:$.itemPrice,analyticsName:"addToList",selectLinkName:"listClick",addItemsExtraAnalytics:J?Y:{},addLsExtras:{co:{rmid:(0,y.Pi)("referrerModuleId")||void 0}}}),X=(0,m.AP)({usItemId:$.usItemId,analyticsName:"addToRegistry",selectLinkName:"registryClick",addItemsExtraAnalytics:J?Y:{},addLsExtras:{co:{rmid:(0,y.Pi)("referrerModuleId")||void 0}}}),ee="addToList"===A.type?K:X,te=w?void 0:{flex:1};return v?null:(0,a.jsxs)(a.Fragment,{children:[!q&&(0,a.jsx)(u.Divider,{"data-testid":"ip-add-items-divider"}),(0,a.jsxs)("div",{className:T()("ph3 ph0-l",{mv3:!Z,mt3:Z,mb1:q}),children:[A.message&&(0,a.jsx)(x.tp,{context:ee.context,action:"error",name:ee.analyticsName,payload:ee.onError(A.message),children:(0,a.jsx)(I.Z,{id:"alert",role:"alert",children:A.message,variant:"error",UNSAFE_className:"mb3"})}),(0,a.jsxs)("div",{className:T()("flex",{"justify-center":w}),children:[(0,a.jsx)("div",{className:T()("br tc",{"b--near-white":!w,"pr4 b--lighter-gray":w}),style:te,children:(0,a.jsx)(o.w,{setError:C,itemDetails:$,analyticsDetails:K,isMWebRedesign:w,isEarlyAccessItem:!!H,AddToListsButtonComponent:z})}),!j&&!U&&!b&&s&&(0,a.jsx)("div",{className:T()("tc",{pl4:w,ml3:!w}),style:te,children:(0,a.jsx)(c.d,{setError:C,itemDetails:$,analyticsDetails:X,isMWebRedesign:w})})]})]})]})}},79436:function(e,t,s){s.d(t,{w:function(){return y}});var a=s(487954),i=s(972864),n=s(167695),d=s(116161),l=s(522037),r=s(293168),o=s(682081),c=s(444002),m=s(595042),u=s(563861),g=s.n(u),p=s(194742),h=s(403464);const x=g()((()=>Promise.all([s.e(69902),s.e(31351),s.e(63372),s.e(65667),s.e(61004),s.e(8467),s.e(4154),s.e(50234),s.e(25394),s.e(2638),s.e(89487),s.e(76908),s.e(23154),s.e(42710),s.e(48156)]).then(s.bind(s,953397))),{loadableGenerated:{webpack:()=>[953397]},ssr:!1}),y=e=>{let{analyticsDetails:t,isMWebRedesign:s,itemDetails:u,setError:g,isEarlyAccessItem:y,AddToListsButtonComponent:I,CustomButtonComponent:v}=e;const{0:T,1:L}=(0,p.useState)(!1),b=(0,p.useRef)(null),{dealsListEnable:f}=(0,r.iC)(d._).list.values||{},E=f&&y,{authState:{isLoggedIn:A}}=(0,i.Eu)(),{signIn:C}=(0,n.z)();(0,p.useEffect)((()=>{!A&&T&&C()}),[T,A]);const N=()=>{g({message:"",type:"addToList"}),L(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ZP,{alternateObservationPoint:b,moduleContext:t.context,name:t.analyticsName,pageTitle:t.pageTitle,shouldSuppressModuleView:!0,"data-dca-id":"M:49B826A285","data-dca-type":"module",children:v?(0,a.jsx)(v,{onClick:N}):(0,a.jsx)(m.C,{"data-dca-intent":"select","data-dca-name":"ItemAddToListButton",onClick:N,className:s?"dark-gray":"",onLinkName:t.analyticsName,onLinkExtras:t.addItemsLabelClick(),"data-dca-id":"B:0426566227",children:I?(0,a.jsx)(I,{"data-dca-id":"B:0F929ACFFA","data-dca-intent":"select"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.J,{"aria-hidden":!0,className:"mr3 black fl",name:"Heart",style:{width:"16px",height:"16px"}}),(0,o.m)(h,"addList")]})})}),A&&(0,a.jsx)(x,{analyticsDetails:t,itemDetails:u,setError:g,isModalOpen:T,setIsModalOpen:L,showImageTile:!E})]})}},838816:function(e,t,s){s.d(t,{d:function(){return x}});var a=s(487954),i=s(972864),n=s(522037),d=s(682081),l=s(194742);var r=()=>{const{0:e,1:t}=(0,l.useState)(!1),{0:s,1:a}=(0,l.useState)(!1),{0:i,1:n}=(0,l.useState)({id:"",name:"",type:"",ownerName:"",maxItemsReached:!1});return{isOpen:s,onExit:()=>{a(!s),t(!1)},selectList:n,selectedList:i,setIsOpen:a,setShouldToggle:t,shouldToggle:e}},o=s(444002),c=s(595042),m=s(563861),u=s.n(m),g=s(403464),p=s(167695);const h=u()((()=>s.e(10842).then(s.bind(s,170269))),{loadableGenerated:{webpack:()=>[170269]},ssr:!1}),x=e=>{let{analyticsDetails:t,isMWebRedesign:s,itemDetails:m,setError:u}=e;const{authState:{isLoggedIn:x}}=(0,i.Eu)(),{signIn:y}=(0,p.z)(),{isOpen:I,onExit:v,selectList:T,selectedList:L,setShouldToggle:b,shouldToggle:f}=r();(0,l.useEffect)((()=>{!x&&f&&y()}),[x,f]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.ZP,{moduleContext:t.context,name:t.analyticsName,pageTitle:t.pageTitle,shouldSuppressModuleView:!0,"data-dca-id":"M:F296628586","data-dca-type":"module",children:(0,a.jsxs)(c.C,{"data-dca-intent":"select","data-dca-name":"ItemAddToRegistryButton",onClick:()=>{b(!0)},className:s?"dark-gray":"",onLinkName:t.analyticsName,onLinkExtras:t.addItemsLabelClick(),"data-dca-id":"B:5266980D43",children:[(0,a.jsx)(o.J,{"aria-hidden":!0,className:"mr3 black fl",name:"Gift",style:{width:"16px",height:"16px"}}),(0,d.m)(g,"addReg")]})}),x&&(0,a.jsx)(h,{analyticsDetails:t,isOpen:I,itemDetails:m,onExit:v,selectList:T,selectedList:L,setError:u,setShouldToggle:b,shouldToggle:f})]})}}}]);