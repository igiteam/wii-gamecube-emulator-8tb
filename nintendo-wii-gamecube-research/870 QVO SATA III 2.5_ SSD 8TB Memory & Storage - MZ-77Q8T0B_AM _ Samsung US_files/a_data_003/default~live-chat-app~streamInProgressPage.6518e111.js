((self||this)["webpackJsonp@sprinklrjs/chat-web-client"]=(self||this)["webpackJsonp@sprinklrjs/chat-web-client"]||[]).push([[16],{1001:function(e,t,n){"use strict";var r=n(31),a=n.n(r);t.a=new class{constructor(){var e=this;this.queue=void 0,this.buffer=void 0,this._isFlushingInProgress=void 0,this._isReFlushPending=void 0,this.getQueue=()=>this.queue,this.getBufferQueue=()=>this.buffer,this.isFlushingInProgress=()=>this._isFlushingInProgress,this.setIsFlushingInProgress=e=>{this._isFlushingInProgress=e},this.isReFlushPending=()=>this._isReFlushPending,this.setIsReFlushPending=e=>{this._isReFlushPending=e},this.addCmdToQueue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a()(n)||e.push(...n)},this.move=(e,t)=>{e.forEach((()=>{this.addCmdToQueue(t,this.popNextCmd(e))}))},this.isEmpty=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return a()(t)},this.popNextCmd=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.queue;return t.shift()},this.queue=[],this.buffer=[],this._isFlushingInProgress=!1,this._isReFlushPending=!1}}},1002:function(e,t,n){var r=n(1310),a=n(124);e.exports=function(e,t){return null!=e&&a(e,t,r)}},1005:function(e,t,n){var r=n(1315);e.exports=b,e.exports.parse=o,e.exports.compile=function(e,t){return c(o(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,c="",l=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],p=n[1],b=n.index;if(c+=e.slice(i,b),i=b+d.length,p)c+=p[1];else{var f=e[i],E=n[2],O=n[3],v=n[4],S=n[5],_=n[6],C=n[7];c&&(r.push(c),c="");var A=null!=E&&null!=f&&f!==E,T="+"===_||"*"===_,y="?"===_||"*"===_,g=n[2]||l,I=v||S;r.push({name:O||o++,prefix:E||"",delimiter:g,optional:y,repeat:T,partial:A,asterisk:!!C,pattern:I?u(I):C?".*":"[^"+s(g)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&r.push(c),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",d(t)));return function(t,a){for(var o="",c=t||{},s=(a||{}).pretty?i:encodeURIComponent,u=0;u<e.length;u++){var l=e[u];if("string"!==typeof l){var d,p=c[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var b=0;b<p.length;b++){if(d=s(p[b]),!n[u].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===b?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[u].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');o+=l.prefix+d}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",c=0;c<e.length;c++){var u=e[c];if("string"===typeof u)i+=s(u);else{var p=s(u.prefix),b="(?:"+u.pattern+")";t.push(u),u.repeat&&(b+="(?:"+p+b+")*"),i+=b=u.optional?u.partial?p+"("+b+")?":"(?:"+p+"("+b+"))?":p+"("+b+")"}}var f=s(n.delimiter||"/"),E=i.slice(-f.length)===f;return a||(i=(E?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=o?"$":a&&E?"":"(?="+f+"|$)",l(new RegExp("^"+i,d(n)),t)}function b(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(b(e[a],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},1006:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},1036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(191);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},1046:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return I}));var r=n(50),a=n.n(r),o=n(31),i=n.n(o),c=n(862),s=n.n(c),u=n(609),l=n.n(u),d=n(11),p=n.n(d),b=n(15),f=n.n(b),E=n(54),O=n.n(E),v=n(206),S=n.n(v),_=n(336),C=n(310);const A=e=>e?f()(e,((e,t,n)=>"filters"===n?(e[n]=S()(t,(e=>(null!==e&&void 0!==e&&e.filter&&(e.filter=Object(_.a)(e.filter)),e))),e):(e[n]=A(t),e)),e):e,T=(e,t)=>{const n=[];return a()(e,((e,r)=>{"filters"===r?a()(e,(e=>{let{filter:r,value:a}=e;i()(r)||i()(a)||n.push({field:r.field,filterType:r.fieldType||r.filterType,filters:r.filters,values:r.values,details:{...r.details,path:t,value:a}})})):n.push(...T(e,t?`${t}.${r}`:r))})),n},y=e=>{let{styles:t,passedStyleFilters:n}=e;const r=s()(t);return a()(n,(e=>{e.details&&l()(r,e.details.path,{...p()(r,e.details.path),...e.details.value})})),r},g=e=>{let{otherConfigs:t,passedFilters:n}=e;return n.reduce(((e,t)=>{let{value:n}=t;return O()(e,n)}),s()(t))},I=e=>Object(C.d)(Object(C.c)(e))},1206:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var a=n(191),o=a.useLayoutEffect,i=function(e){var t=Object(a.useRef)(e);return o((function(){t.current=e})),t},c=function(e,t){"function"!==typeof e?e.current=t:e(t)},s=function(e,t){var n=Object(a.useRef)();return Object(a.useCallback)((function(r){e.current=r,n.current&&c(n.current,null),n.current=t,t&&c(t,r)}),[t])},u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},l=function(e){Object.keys(u).forEach((function(t){e.style.setProperty(t,u[t],"important")}))},d=null;var p=function(){},b=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],f=!!document.documentElement.currentStyle,E=function(e,t){var n=e.cacheMeasurements,o=e.maxRows,c=e.minRows,u=e.onChange,E=void 0===u?p:u,O=e.onHeightChange,v=void 0===O?p:O,S=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var _=void 0!==S.value,C=Object(a.useRef)(null),A=s(C,t),T=Object(a.useRef)(0),y=Object(a.useRef)(),g=function(){var e=C.current,t=n&&y.current?y.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,b.reduce((function(e,t){return e[t]=n[t],e}),{})),a=r.boxSizing;return""===a?null:(f&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){y.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),d||((d=document.createElement("textarea")).setAttribute("tabindex","-1"),d.setAttribute("aria-hidden","true"),l(d)),null===d.parentNode&&document.body.appendChild(d);var a=e.paddingSize,o=e.borderSize,i=e.sizingStyle,c=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;d.style[t]=i[t]})),l(d),d.value=t;var s=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(d,e);d.value="x";var u=d.scrollHeight-a,p=u*n;"border-box"===c&&(p=p+a+o),s=Math.max(p,s);var b=u*r;return"border-box"===c&&(b=b+a+o),[s=Math.min(b,s),u]}(t,e.value||e.placeholder||"x",c,o),a=r[0],i=r[1];T.current!==a&&(T.current=a,e.style.setProperty("height",a+"px","important"),v(a,{rowHeight:i}))}};return Object(a.useLayoutEffect)(g),function(e){var t=i(e);Object(a.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(g),Object(a.createElement)("textarea",r({},S,{onChange:function(e){_||g(),E(e)},ref:A}))},O=Object(a.forwardRef)(E);t.a=O},1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{let{initialMessages:t,createCase:n,conversationContext:r,silent:a,assignToUser:o,additional:i}=e;return e=>({type:"@conversation/NEW_CONVERSATION_OPEN",payload:{initialMessages:t,createCase:n,assignToUser:o,silent:a,conversationContext:r,additional:i},promise:e})}},1310:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},1315:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},200:function(e,t,n){"use strict";var r=n(191),a=n(639);t.a=function(){return Object(r.useContext)(a.a)}},209:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(196),a=n(191),o=n(221),i=n.n(o),c=n(1046);function s(){const e=Object(r.d)(c.b);return Object(a.useMemo)((()=>i()(e,"settings")),[e])}},214:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"K",(function(){return b})),n.d(t,"u",(function(){return f})),n.d(t,"r",(function(){return E})),n.d(t,"C",(function(){return O})),n.d(t,"B",(function(){return v})),n.d(t,"E",(function(){return S})),n.d(t,"y",(function(){return _})),n.d(t,"x",(function(){return C})),n.d(t,"v",(function(){return A})),n.d(t,"w",(function(){return T})),n.d(t,"z",(function(){return y})),n.d(t,"A",(function(){return g})),n.d(t,"q",(function(){return I})),n.d(t,"m",(function(){return h})),n.d(t,"p",(function(){return R})),n.d(t,"I",(function(){return N})),n.d(t,"G",(function(){return L})),n.d(t,"H",(function(){return P})),n.d(t,"J",(function(){return m})),n.d(t,"D",(function(){return j})),n.d(t,"l",(function(){return D})),n.d(t,"b",(function(){return U})),n.d(t,"a",(function(){return M})),n.d(t,"s",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"t",(function(){return B})),n.d(t,"n",(function(){return F})),n.d(t,"o",(function(){return V})),n.d(t,"f",(function(){return K})),n.d(t,"c",(function(){return k})),n.d(t,"F",(function(){return G}));var r=n(231),a=n(331),o=n(304),i=n(222);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{payload:e,type:r.i,promise:t}},s=(e,t)=>{let{cursor:n,size:a}=t;return t=>({payload:{conversationId:e,cursor:n,size:a},type:r.q,promise:t})},u=e=>t=>({payload:e,type:r.G,promise:t}),l=e=>t=>({payload:e,type:r.m,promise:t}),d=e=>t=>({payload:e,type:r.l,promise:t}),p=e=>({type:r.n,payload:e}),b=e=>t=>({type:r.p,payload:e,promise:t}),f=e=>t=>({payload:{conversationId:e},type:r.t,promise:t}),E=e=>({type:r.O,payload:{chatMessage:e,conversationId:i.a.getConversationId(e)}}),O=e=>({type:r.bb,payload:e}),v=e=>({type:r.J,payload:e}),S=e=>t=>({type:r.hb,payload:e,promise:t}),_=e=>({type:r.F,payload:e}),C=e=>{let{action:t,conversationId:n,callback:i}=e;const c=Object(o.a)(t.actionId,t.attachment),s=Object(o.c)(t);return(e=>({type:r.D,payload:e}))({type:a.c,payload:{contextId:n,actionId:c.externalCallParams,actionPayload:s},callback:i})},A=e=>{let{action:t,conversationId:n}=e;const r=Object(o.a)(t.actionId,t.attachment);return _({type:a.a,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},T=e=>{let{action:t,conversationId:n}=e;const r=Object(o.a)(t.actionId,t.attachment);return _({type:a.b,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},y=e=>{let{id:t,conversationId:n,messageId:r}=e;return _({type:a.f,payload:{id:t,contextId:n,sprMsgId:r}})},g=e=>{let{id:t,conversationId:n,messageId:r}=e;return _({type:a.h,payload:{id:t,contextId:n,sprMsgId:r}})},I=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(o.a)(n,t);return{type:r.Y,payload:{url:a.url,target:a.target},promise:e}}},h=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(o.a)(n,t);return{type:r.u,payload:{phoneNumber:a.phoneNumber},promise:e}}},R=e=>({type:r.db,payload:e}),N=()=>({type:r.fb,payload:{}}),L=()=>({type:r.cb,payload:{}}),P=()=>({type:r.gb,payload:{}}),m=e=>t=>({type:r.c,payload:Object.assign(Object.assign({},e),{actionParams:Object.assign(Object.assign({},e.actionParams),{actionTypes:Object(o.b)(e.actionParams)})}),promise:t}),j=e=>({type:r.ab,payload:e}),D=e=>t=>({type:r.R,payload:e,promise:t}),U=e=>({type:r.A,payload:e}),M=e=>({type:r.x,payload:e}),w=(e,t)=>({type:r.K,payload:{chatMessage:e,conversationId:i.a.getConversationId(e),alternateUserIds:t}}),x=(e,t)=>n=>({type:r.v,payload:{conversationId:e,disclaimerStatus:t},promise:n}),B=(e,t)=>({type:r.L,payload:{chatMessageId:t,conversationId:e}});function F(e,t){return{type:r.V,payload:{conversationId:e,lastReadMessageId:t}}}const V=e=>{let{conversationId:t,messageId:n,buttonId:a,attachment:i}=e;return e=>{const c=Object(o.a)(a,i);return{type:r.X,payload:{conversationId:t,messageId:n,url:c.url},promise:e}}},K=e=>({type:r.k,payload:e});function k(e){return{type:r.Z,payload:e}}const G=e=>t=>({type:r.H,payload:e,promise:t})},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(191),a=n(343),o=n(196);function i(e){const t=Object(o.c)();return Object(r.useMemo)((()=>Object(a.b)(e,t)),[e,t])}},223:function(e,t,n){"use strict";var r=n(191),a=n(205);t.a=()=>{const e=Object(a.a)();return Object(r.useMemo)((()=>e.otherConfigs.settings),[e])}},226:function(e,t,n){"use strict";t.a={POST_BACK:"POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ACCOUNT_LINK:"ACCOUNT_LINK",CLIENT_ONLY:"CLIENT_ONLY",RUN_GW:"RUN_GW",RUN_KB:"RUN_KB",DIAL:"DIAL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",NEW_CONVERSATION:"NEW_CONVERSATION",PERSONAL_SHOPPER:"PERSONAL_SHOPPER",CART:"CART",ADD_TO_SPRINKLR_CART:"ADD_TO_SPRINKLR_CART",FEEDBACK_SUBMIT:"FEEDBACK_SUBMIT",FEEDBACK_CANCEL:"FEEDBACK_CANCEL",UPDATE_CONVERSATION_CONTEXT:"UPDATE_CONVERSATION_CONTEXT"}},229:function(e,t,n){"use strict";var r=n(191),a=n(321),o=n.n(a),i=n(6),c=n.n(i),s=n(11),u=n.n(s),l=n(200),d=n(426);t.a=()=>{const{locale:e,language:t}=Object(l.a)();return Object(r.useCallback)(((n,r)=>{const a=u()(n,"langVsTranslatedFieldValues");if(!c()(a))return u()(n,r);const i=u()(a,e)||o()(a,((t,n)=>Object(d.c)(n)===e))||u()(a,t)||o()(a,((e,n)=>Object(d.b)(n)===t));return u()(i,r)||u()(n,r)}),[e,t])}},243:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(191),a=n.n(r),o=n(210),i=n.n(o),c=n(1036),s=n.n(c),u=n(192);const l={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=a.a.createContext({notification:void 0,setNotification:i.a}),p=e=>{const[t,n]=Object(r.useState)(void 0),a=s()(),o=Object(r.useCallback)((e=>{a()&&n(e)}),[a]),i=Object(r.useMemo)((()=>({notification:t,setNotification:o})),[t,o]);return Object(u.jsx)(d.Provider,{value:i},e.children)};t.c=d},247:function(e,t,n){"use strict";var r=n(191),a=n(243);t.a=function(){return Object(r.useContext)(a.c)}},254:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"l",(function(){return f})),n.d(t,"n",(function(){return E})),n.d(t,"j",(function(){return O}));const r="unreadCountChanged",a="externalEventTriggered",o="externalCallback",i="loaded",c="loadCompleted",s="closed",u="availabilityChanged",l="promptActionTriggered",d="mediaShown",p="mediaClosed",b="eventTriggered",f="registerDeviceTriggered",E="unregisterDeviceTriggered",O="onPermissionSeeked"},271:function(e,t,n){"use strict";var r=n(828);const a=new(n(851).a);a.on((e=>{const{topic:t,payload:n={},callback:a}=e;t&&Object(r.a)({topic:t,payload:{response:{data:n.data,error:n.error,errorPayload:n.errorPayload},request:n.request,shouldLogEvent:n.shouldLogEvent},callback:a})})),t.a=function(e){a.emit(e)}},294:function(e,t,n){"use strict";t.a={TEXT_POST_BACK:"TEXT_POST_BACK",START_VIDEO_CALL:"START_VIDEO_CALL",START_AUDIO_CALL:"START_AUDIO_CALL",VIDEO_CALL:"VIDEO_CALL",AUDIO_CALL:"AUDIO_CALL",REJOIN_CALL:"REJOIN_CALL",ACCEPT_CO_BROWSE:"ACCEPT_CO_BROWSE",DENY_CO_BROWSE:"DENY_CO_BROWSE",FORM_POST_BACK:"FORM_POST_BACK",SECURE_FORM_POST_BACK:"SECURE_FORM_POST_BACK",APPOINTMENT_POST_BACK:"APPOINTMENT_POST_BACK",FETCH_APPOINTMENT_TIME_SLOTS:"FETCH_APPOINTMENT_TIME_SLOTS",RESERVE_APPOINTMENT_TIME_SLOT:"RESERVE_APPOINTMENT_TIME_SLOT",LOCATION_POST_BACK:"LOCATION_POST_BACK",CONTACT_DETAILS_POST_BACK:"CONTACT_DETAILS_POST_BACK",FEEDBACK_POST_BACK:"FEEDBACK_POST_BACK",SURVEY_POST_BACK:"SURVEY_POST_BACK",SURVEY_QUESTION_POST_BACK:"SURVEY_QUESTION_POST_BACK",EXTERNAL:"EXTERNAL",OPEN_URL:"OPEN_URL",ATTACH_MEDIA_POST_BACK:"ATTACH_MEDIA_POST_BACK",OPEN_AGENT_PRESENT_URL:"OPEN_AGENT_PRESENT_URL",ACCOUNT_LINK:"ACCOUNT_LINK",DIAL:"DIAL",RUN_GW:"RUN_GW",RUN_KB:"RUN_KB",CHANGE_LOCALE_POST_BACK:"CHANGE_LOCALE_POSTBACK",PERSONAL_SHOPPER:"PERSONAL_SHOPPER",CART:"CART",ADD_TO_SPRINKLR_CART:"ADD_TO_SPRINKLR_CART",NATIVE_ELEMENT_CLICK:"NATIVE_ELEMENT_CLICK",CANCEL_FORM_POST_BACK:"CANCEL_FORM_POST_BACK"}},304:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return I}));var r=n(50),a=n.n(r),o=n(321),i=n.n(o),c=n(226),s=n(204),u=n(294),l=n(331);const d=e=>t=>t.type===e,p=e=>t=>t.id===e,b=(e,t)=>i()(e,t),f=(e,t)=>b(e.buttons,t),E=(e,t)=>f(t,p(e)),O=(e,t)=>{const n=e.cardAttachmentList;let r;return a()(n,(e=>{const n=f(e,t);if(n)return r=n,!1})),r},v=(e,t)=>O(t,p(e)),S={[c.a.POST_BACK]:(e,t)=>{const n=e;return n.makeExternalCall?[l.c,n.postBackHandlerType]:[n.postBackHandlerType]},[c.a.EXTERNAL]:(e,t)=>{const n=t.attachment;if(n.type===s.b.PROGRESS_BAR){return["CANCEL"===t.actionId?l.b:l.a]}return e.disablePostback?[l.a]:n.type===s.b.FORM?[u.a.FORM_POST_BACK,l.a]:[u.a.TEXT_POST_BACK,l.a]},[c.a.CLIENT_ONLY]:(e,t)=>t.attachment.type===s.b.VIDEO_CHAT?[t.actionId]:t.attachment.type===s.b.APPOINTMENT?"FETCH_SLOTS"===t.values.type?[u.a.FETCH_APPOINTMENT_TIME_SLOTS]:"RESERVE_SLOT"===t.values.type?[u.a.RESERVE_APPOINTMENT_TIME_SLOT]:[u.a.APPOINTMENT_POST_BACK]:[],[c.a.OPEN_URL]:(e,t)=>t.attachment.type===s.b.CO_BROWSE_INVITE?[u.a.OPEN_AGENT_PRESENT_URL]:[u.a.OPEN_URL]},_=(e,t)=>(null===e||void 0===e?void 0:e.cancel)&&(null===e||void 0===e?void 0:e.cancel.id)===t?e.cancel:e.submit,C={[s.b.CONTACT_DETAILS_FORM]:(e,t)=>_(t,e),[s.b.FORM]:(e,t)=>_(t,e),[s.b.SECURE_FORM]:(e,t)=>_(t,e),[s.b.FEEDBACK_FORM]:(e,t)=>t.submit,[s.b.PROGRESS_BAR]:(e,t)=>({id:"",title:"",type:c.a.EXTERNAL,params:t.action}),[s.b.PERSISTENT_MENU]:(e,t)=>f(t,p(e)),[s.b.CARD]:(e,t)=>f(t,p(e)),[s.b.RICH_TEXT_CAROUSEL]:v,[s.b.PRODUCT_CARD]:(e,t)=>f(t,p(e)),[s.b.PRODUCT_SHOWCASE_CARD]:(e,t)=>f(t,p(e)),[s.b.INFO_CARD]:(e,t)=>f(t,p(e)),[s.b.PRODUCT_BANNER]:(e,t)=>((e,t)=>{if(e.buttons){const n=b(e.buttons,t);if(n)return n}return O(e,t)})(t,p(e)),[s.b.PRODUCT_LIST]:(e,t)=>f(t,p(e)),[s.b.CO_BROWSE_INVITE]:(e,t)=>f(t,p(e)),[s.b.QUICK_SELECT_CARD]:E,[s.b.QUICK_SELECT_PILLS]:E,[s.b.CAROUSEL]:v,[s.b.APPOINTMENT]:()=>({type:c.a.CLIENT_ONLY,id:"",title:""}),[s.b.VIDEO_CHAT]:()=>({type:c.a.CLIENT_ONLY,title:"",id:""}),[s.b.SURVEY]:(e,t)=>t.surveyButton,[s.b.SURVEY_QUESTION]:(e,t)=>f(t,p(e)),[s.b.SPRINKLR_ENTITIES]:(e,t)=>b(t.response.results,p(e)),[s.b.COMMERCE]:e=>({id:e,title:"",type:e})};function A(e,t){const n=C[t.type];if(n)return n(e,t)}function T(e){const t=A(e.actionId,e.attachment);if(t)return((e,t)=>{const n=S[e.type];return n?n(e,t):[e.type]})(t,e)}const y=e=>{switch(e.type){case s.b.CARD:return!!f(e,d(c.a.EXTERNAL));case s.b.CAROUSEL:return!!O(e,d(c.a.EXTERNAL));case s.b.FORM:return e.submit.type===c.a.EXTERNAL;default:return!1}},g={[s.b.SECURE_FORM]:e=>e.values.originalData},I=e=>{const t=g[e.attachment.type];if(t)return t(e)}},331:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p}));const r="CALLBACK_ACTION",a="ACTION_START",o="ACTION_STOP",i="MSG_PUBLISHED",c="PROGRESS_PUBLISHED",s="MSG_PUBLISH",u="EVENT_PUBLISH",l="PROGRESS_PUBLISH",d="SESSION_PROCESS_START",p="SESSION_PROCESS_STOP"},356:function(e,t,n){"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e?t:n}n.d(t,"a",(function(){return r}))},389:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const r="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/EXISTING_CONVERSATION_OPEN"},390:function(e,t,n){"use strict";n.d(t,"w",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"v",(function(){return i})),n.d(t,"q",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"z",(function(){return p})),n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return f})),n.d(t,"a",(function(){return E})),n.d(t,"p",(function(){return O})),n.d(t,"C",(function(){return v})),n.d(t,"r",(function(){return S})),n.d(t,"A",(function(){return _})),n.d(t,"B",(function(){return C})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return T})),n.d(t,"s",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"d",(function(){return I})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return R})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return L})),n.d(t,"h",(function(){return P})),n.d(t,"g",(function(){return m}));const r="NEW_MESSAGE",a="CHAT_USER_START_TYPING",o="CHAT_USER_STOP_TYPING",i="NEW_CONVERSATION",c="EXTERNAL_EVENT",s="MESSAGE_UPDATED",u="CHAT_USER_UPDATED",l="CONVERSATION_UPDATED",d="MESSAGE_STREAM",p="UI_CONTROL",b="CO_BROWSE_STATUS",f="CO_BROWSE",E="ADD_TO_CART",O="EXECUTE_ENDPOINT",v="USER_SESSION_EXPIRED",S="LIVE_CHAT_ASSIGNMENT_CHANGED",_="UNIVERSAL_PRODUCT_SUGGESTED",C="UNIVERSAL_PRODUCT_SUGGESTION_REMOVED",A="PRODUCT_CART_DELETED",T="PRODUCT_CART_UPDATED",y="MESSAGE_READ",g="VIDEO_CALL_TOGGLE",I="VIDEO_CALL_STARTING",h="VIDEO_CALL_ENDED",R="VIDEO_CALL_DECLINED",N="VIDEO_CALL_MISSED",L="VIDEO_CALL_OFFER_ACCEPTED",P="VIDEO_PARTICIPANT_UPDATED",m="VIDEO_CALL_PARTICIPANT_LEFT"},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={INCORRECT_PAYLOAD:"INCORRECT_PAYLOAD",NETWORK_FAILURE:"NETWORK_FAILURE",CHAT_UNAVAILABLE:"CHAT_UNAVAILABLE"}},466:function(e,t,n){"use strict";var r=n(1005),a=n.n(r),o={},i=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=o[n]||(o[n]={});if(r[e])return r[e];var c=[],s={re:a()(e,c,t),keys:c};return i<1e4&&(r[e]=s,i++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,a=r.path,o=r.exact,i=void 0!==o&&o,s=r.strict,u=void 0!==s&&s,l=r.sensitive,d=void 0!==l&&l;if(null==a)return n;var p=c(a,{end:i,strict:u,sensitive:d}),b=p.re,f=p.keys,E=b.exec(e);if(!E)return null;var O=E[0],v=E.slice(1),S=e===O;return i&&!S?null:{path:a,url:"/"===a&&""===O?"/":O,isExact:S,params:f.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}}},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));const r="@commerce/ADD_TO_CART",a="@commerce/UPDATE_CART",o="@commerce/REMOVE_FROM_CART"},639:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne})),n.d(t,"c",(function(){return ie})),n.d(t,"b",(function(){return oe}));var r=n(197),a=n(191),o=n.n(a),i=n(196),c=n(952),s=n(15),u=n.n(s),l=n(11),d=n.n(l),p=n(527),b=n.n(p),f=n(321),E=n.n(f),O=n(210),v=n.n(O),S=n(263),_=n.n(S),C=n(217),A=n(205),T=n(209),y=n(247),g=n(494),I=n(868),h=n(223),R=n(228),N=n(207),L=n(425);var P=n(0),m=n(13),j=n(359),D=n(280),U=n(426),M=n(347),w=n.n(M),x=n(50),B=n.n(x),F=n(2),V=n(3),K=n(522);const k=Object(U.a)(),G=e=>{var t;let{locale:n,reactIntlLocale:r}=e;return null!==(t=K.a[n])&&void 0!==t&&t.numberingSystem?r.concat("-u-nu-",K.a[n].numberingSystem):r};var H=n(259),Y=n(243),W=n(814),z=n(271),X=n(254),$=n(245),q=n(662),Q=n(202),J=n(424);var Z=n(192);const ee=Object(U.a)(),te=[L.c],ne=o.a.createContext({locale:ee,language:Object(U.b)(ee),defaultLocale:ee,direction:H.a.LTR,localeDataLoading:!0,changeLocale:v.a}),re={onLocaleDataLoaded:e=>({type:L.b,payload:e})},ae=e=>E()(((e,t)=>b()(u()(t,((t,n)=>{const r=d()(e,`${n}.actionsToShowByVariant`),a=Object(P.B)();return[...t,...a&&(d()(r,a)||d()(r,m.a))||j.a]}),[]),"type"))(e,["allScreens","homeScreen","conversationScreen"]),{type:D.a.CHANGE_LOCALE}),oe=e=>{const t=Object(i.d)(N.h),n=Object(R.c)(t),r=Object(A.a)(),o=Object(T.a)(),s=Object(h.a)(),u=(null===n||void 0===n?void 0:n.locale)||(e=>{const t=(null===e||void 0===e?void 0:e.defaultLocale)||k,n=(null===e||void 0===e?void 0:e.supportedLocales)||[],r=Object(F.a)().locale,a=Object(V.b)(),o=[...n,t],i=r?[r,...a]:a;let c=t;return B()(i,(e=>w()(o,e)?(c=e,!1):w()(o,Object(U.b)(e))?(c=Object(U.b)(e),!1):null)),c})(r),[l,d]=Object(a.useState)({localeDataLoading:!0,localeData:void 0}),p=Object(a.useRef)(!1),{setNotification:b}=Object(y.a)(),{onLocaleDataLoaded:f}=Object(C.a)(re),E=r.defaultLocale||ee,O=null===s||void 0===s?void 0:s.externalLocaleData,{errorNotificationMessage:v,successNotificationMessage:S}=ae(o)||{},L=Object(g.a)({externalLocaleData:O}),P=Object(a.useCallback)((async e=>{let{locale:t,shouldSyncWithBackend:r=!0,userInitiated:a=!0,promise:o}=e;a&&d((e=>({...e,localeDataLoading:!0})));try{const{localeData:e}=await L(t);await(e=>{let{locale:t,shouldSyncWithBackend:n,chatUser:r,onLocaleDataLoaded:a,localeData:o={},promise:i}=e;return Object($.a)(void 0,void 0,void 0,(function*(){var e,c,s,u;let l=t;try{if(r&&n){const n=yield Object(q.c)(Object.assign(Object.assign({},r),{locale:t}));if(n.data.locale===r.locale)throw new Error(J.a.INCORRECT_PAYLOAD);(null===(e=null===n||void 0===n?void 0:n.data)||void 0===e?void 0:e.locale)&&(l=n.data.locale)}a({locale:l,data:null!==(c=null===o||void 0===o?void 0:o.messages)&&void 0!==c?c:{}}),null===(s=null===i||void 0===i?void 0:i.resolve)||void 0===s||s.call(i,{locale:l})}catch(d){throw null===(u=null===i||void 0===i?void 0:i.reject)||void 0===u||u.call(i,d.message===J.a.INCORRECT_PAYLOAD?J.a.INCORRECT_PAYLOAD:J.a.NETWORK_FAILURE),d.message!==J.a.INCORRECT_PAYLOAD&&Object(Q.b)(d),d}}))})({locale:t,shouldSyncWithBackend:r,chatUser:n,onLocaleDataLoaded:f,localeData:e,promise:o}),r&&a&&S&&b({message:S,type:Y.a.SUCCESS}),e&&d((t=>({...t,localeData:e})))}catch(i){r&&a&&v&&b({message:v,type:Y.a.FAILURE})}finally{d((e=>({...e,localeDataLoading:!1})))}}),[L,f,S,v,n]),m=Object(a.useCallback)((e=>{const{payload:{locale:t},promise:n}=e;P({locale:t,userInitiated:!1,promise:n})}),[P]);Object(I.a)(te,m),p.current||(p.current=!0,P({locale:u,shouldSyncWithBackend:!1}));const j=Object(a.useMemo)((()=>{var e;const{language:t,direction:n}=Object(g.b)(u);return{...null!==(e=l.localeData)&&void 0!==e?e:{},defaultLocale:E,locale:u,language:t,direction:n,localeDataLoading:l.localeDataLoading,changeLocale:P}}),[E,u,P,l]);return Object(a.useEffect)((()=>{!j.localeDataLoading&&_()(j.reactIntlLocale)&&(async()=>{await Object(W.b)(),Object(z.a)({topic:X.b,payload:{error:!0,errorPayload:{type:"LOCALE_LOAD_FAILED"}}})})()}),[j]),_()(j.reactIntlLocale)?null:Object(Z.jsx)(ne.Provider,{value:j},Object(Z.jsx)(c.a,{defaultLocale:E,locale:G({locale:j.locale,reactIntlLocale:j.reactIntlLocale}),messages:j.messages},e.children))},ie=e=>function(t){return Object(Z.jsx)(ne.Consumer,null,(n=>Object(Z.jsx)(e,Object(r.a)({},t,{intlContext:n}))))};ne.Consumer},662:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(245),a=n(445),o=n.n(a),i=n(256);const c="/livechat/conversation";function s(e){return Object(r.a)(this,void 0,void 0,(function*(){return(yield Object(i.c)(`${c}/chatUsers`,e)).data}))}const u=e=>Object(r.a)(void 0,void 0,void 0,(function*(){return yield Object(i.c)(`${c}/chatUser`,o()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale","customUser"]))}));function l(){return Object(r.a)(this,void 0,void 0,(function*(){return(yield Object(i.c)("/livechat/user/fetch/current-user")).data}))}},738:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const r="@user/UPDATE_USER_SETTINGS",a="@user/UPDATE_COOKIE_CONSENT"},739:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={CONVERSATION:"CONVERSATION",PROMPT:"PROMPT"}},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(389);const a=(e,t)=>({type:r.a,payload:e,promise:t})},814:function(e,t,n){"use strict";n.d(t,"b",(function(){return Ot})),n.d(t,"a",(function(){return St}));var r=n(737),a=n(279),o=n(858),i=n(859),c=n(1001),s=n(654),u=n(256),l=n(232);const d=new s.a((async e=>(await Object(u.c)("/livechat/logging/log",e)).data),{batch:!0,adapter:e=>{const{message:t}=e;return{message:t,category:"LIVE_CHAT",logTime:Object(l.a)()}}});var p=n(424),b=n(283),f=n.n(b),E=n(31),O=n.n(E),v=n(425);const S="APP_AVAILABLE",_="APP_IN_SESSION";var C=n(2),A=n(35);function T(e,t){const n=Object(A.a)(t);if(O()(n))return;const r=f()(Object(C.a)(),{userContext:{$merge:n}});Object(C.e)(r),e({type:v.d,payload:n})}T.dependecies=[_];var y=n(202),g=n(738);function I(e,t){new Promise(((n,r)=>{e({type:g.b,payload:t,promise:{resolve:n,reject:r}})})).catch((e=>{Object(y.b)(e)}))}I.dependecies=[_];var h=n(265),R=n(32);function N(e){e({type:h.f,payload:R.a})}function L(e,t){new Promise(((t,n)=>{e({type:h.k,payload:R.a,promise:{resolve:t,reject:n}})})).then((e=>{null===t||void 0===t||t({data:e})})).catch((e=>{null===t||void 0===t||t({error:e})}))}function P(e,t,n){new Promise(((n,r)=>{e({type:h.o,payload:null!==t&&void 0!==t?t:R.a,promise:{resolve:n,reject:r}})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}N.dependecies=[_],L.dependecies=[_],P.dependecies=[S];var m=n(0),j=n(388),D=n.n(j),U=n(210),M=n.n(U),w=n(828);const x=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:r,newSubscriber:a}=e;return Object(w.b)(M.a,{topic:t,subscriber:a}),n.push({legacySubscriber:r,newSubscriber:a}),n},B=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:r}=e;const a=D()(n,(e=>{let{legacySubscriber:t}=e;return t===r}));return-1!==a&&(Object(w.c)(M.a,{topic:t,subscriber:n[a].newSubscriber}),n.splice(a,1)),n};var F=n(254);function V(e){Object(m.Q)()&&e({type:h.b,payload:R.a})}V.dependecies=[S];let K=[];var k=n(11),G=n.n(k);let H=[];let Y=[];var W=n(214),z=n(739);function X(e,t){e(Object(W.c)({type:z.a.PROMPT,item:t}))}X.dependecies=[_,S];var $=n(863);function q(e,t){e(Object($.a)(t.id))}q.dependecies=[_];let Q=[];var J=n(1),Z=n.n(J),ee=n(6),te=n.n(ee),ne=n(271),re=n(1220),ae=n(356);const oe="sendExternalEvent",ie="openNewConversation",ce="updateConversationContext",se="getAvailableAgents",ue="openExistingConversation",le="addFilterToEvaluate",de="removeFilterToEvaluate";var pe=n(49);const be=e=>{var t;const n=null===(t=e.additional)||void 0===t?void 0:t.actionType;return n&&Object.prototype.hasOwnProperty.call(pe.b,n)?pe.b[n]:void 0};function fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Z()(t)?t:G()(t,"initialMessages");new Promise(((r,a)=>{var o;e(Object(re.a)({initialMessages:n,conversationContext:G()(t,"conversationContext"),assignToUser:G()(t,"assignToUser"),createCase:!!G()(t,"autoInitiateConversation"),additional:!Z()(t)&&te()(t)?{...t.additional,externalCaseId:t.id,actionType:be(t),sourceType:(null===(o=t.additional)||void 0===o?void 0:o.sourceType)||pe.c.SDK}:void 0,silent:!!G()(t,"silent")})({resolve:r,reject:a}))})).then((e=>{let{conversationResponse:n}=e;const{id:r,caseNumber:a}=n;Object(ne.a)({topic:ie,payload:{data:{conversationId:r,...Object(ae.a)(!!a,{caseNumber:a})},request:t}})})).catch((e=>{Object(ne.a)({topic:ie,payload:{error:e,request:t}})}))}fe.dependecies=[_,S];var Ee=n(466),Oe=n(308),ve=n(5);function Se(e,t){const n=Object(Oe.b)(),r=Object(Ee.a)(n.location.pathname,{path:"/conversation/:conversationId",exact:!0,strict:!0});0===n.index||Object(m.z)()===ve.c&&r&&"all"!==r.params.conversationId&&!n.location.search.includes("preview=1")?t(!1):(n.goBack(),t(!0))}Se.dependecies=[S];var _e=n(263),Ce=n.n(_e),Ae=n(231);function Te(e,t){new Promise(((n,r)=>{Ce()(t.payload)?r(p.a.INCORRECT_PAYLOAD):e({type:Ae.E,payload:t,promise:{resolve:n,reject:r}})})).then((e=>{let{messagePayload:n}=e;Object(ne.a)({topic:oe,payload:{data:{id:n.id,conversationId:n.message.conversationId,messageId:n.message.id},request:t}})})).catch((e=>{Object(ne.a)({topic:oe,payload:{error:e,request:t}})}))}Te.dependecies=[_,S];var ye=n(860);function ge(e,t){const n={...t,context:Object(A.a)(t.context)};new Promise(((r,a)=>{const o=t.conversationId;ye.a.info({chatConversationId:o,message:`${o}: updateConversationContext SDK called`,additionalDetails:{params:n}}),e({type:Ae.o,payload:n,promise:{resolve:r,reject:a}})})).then((e=>{Object(ne.a)({topic:ce,payload:{data:e,request:{...n,conversationId:n.conversationId||e.conversationId},shouldLogEvent:!0}})})).catch((e=>{Object(ne.a)({topic:ce,payload:{error:e,request:n,shouldLogEvent:!0}})}))}function Ie(e,t){const n=Object(A.a)(t);if(O()(n))return;const r=f()(Object(C.a)(),{clientContext:{$merge:n}});Object(C.e)(r),e({type:Ae.f,payload:{context:n}})}ge.dependecies=[_],Ie.dependecies=[S];let he=[];let Re=[];let Ne=[];let Le=[];function Pe(e){Object(m.Q)()&&e({type:h.i,payload:R.a})}function me(e){Object(m.Q)()&&e({type:h.h,payload:R.a})}Pe.dependecies=[_],me.dependecies=[S];let je=[];var De=n(610);function Ue(e,t){e({type:De.c,payload:t})}function Me(e,t){e({type:De.b,payload:t})}Ue.dependecies=[_],Me.dependecies=[_];var we=n(82),xe=n.n(we),Be=n(558);Be.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const Fe={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},Ve=Object.assign(Object.assign({},Fe),{deviceToken:{type:"string",presence:!0}});function Ke(e,t){if(t.appVersion=xe()(t.appVersion),n=t,Object(Be.a)(n,Ve))throw Object(a.a)("Invalid device registration payload",t),new Error(p.a.INCORRECT_PAYLOAD);var n;return Object(u.c)("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(p.a.NETWORK_FAILURE)}))}Ke.dependecies=[_];let ke=[];function Ge(e,t){if(t.appVersion=xe()(t.appVersion),n=t,Object(Be.a)(n,Fe))throw Object(a.a)("Invalid device unregistration payload",t),new Error(p.a.INCORRECT_PAYLOAD);var n;return Object(u.c)("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(p.a.NETWORK_FAILURE)}))}Ge.dependecies=[_];let He=[];let Ye=[];var We=n(744),ze=n(390);function Xe(e,t){const{type:n,...r}=t;switch(n){case ze.w:{const t=r.cId;new Promise(((n,r)=>{e(Object(We.a)({conversationId:t},{resolve:n,reject:r}))})).catch((e=>{Object(y.b)(e)}));break}}}Xe.dependecies=[_,S];var $e=n(34),qe=n.n($e);const Qe=e=>{tt(M.a,e)};let Je=null,Ze=Qe;function et(e,t){qe()(t)&&(Ze=t)}function tt(e,t){Je&&(Je(t),Je=null)}Object(w.b)(M.a,{topic:F.j,subscriber:e=>{let{response:t}=e;const{data:n={}}=t||{},{callBack:r,permissions:a}=n;Je=r,Ze(a)}});const nt=(e,t,n)=>{e({type:h.a,payload:{id:t.id,filters:t.filters,cb:n}})};nt.dependecies=[_];const rt=(e,t)=>{e({type:h.p,payload:{id:t.id}})};rt.dependecies=[_];const at=e=>{Object(u.c)("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(ne.a)({topic:se,payload:{data:e.data}})})).catch((()=>{Object(ne.a)({topic:se,payload:{error:p.a.NETWORK_FAILURE}})}))};at.dependecies=[_];var ot=n(465);function it(e,t){new Promise(((n,r)=>{const a=te()(t)?t:{conversationId:t};a.externalCaseId&&a.conversationId?r(ot.a.NOT_ACCEPTABLE):e(Object(We.a)(a,{resolve:n,reject:r}))})).then((e=>{let{conversationId:n}=e;Object(ne.a)({topic:ue,payload:{data:{conversationId:n},request:t}})})).catch((e=>{Object(ne.a)({topic:ue,payload:{error:e,request:t}})}))}it.dependecies=[_,S];var ct=n(1006);var st=n(522),ut=n(426);function lt(e,t,n){new Promise(((n,r)=>{(e=>!(!e||"string"!==typeof e)&&!(!st.a[e]&&!st.a[Object(ut.b)(e)]))(t)?e({type:v.c,payload:{locale:t},promise:{resolve:n,reject:r}}):r(p.a.INCORRECT_PAYLOAD)})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}lt.dependecies=[_,S];var dt=n(17);function pt(e,t,n){new Promise(((n,r)=>{var a;O()(t)?r(p.a.INCORRECT_PAYLOAD):(null===t||void 0===t?void 0:t.ANALYTICS)!==(null===(a=Object(C.a)().cookieConsent)||void 0===a?void 0:a.ANALYTICS)?e({type:g.a,payload:{cookieConsent:t},promise:{resolve:n,reject:r}}):n({})})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}pt.dependecies=[_];const bt={updateUserContext:[T],updateUserSettings:[I],open:[P],close:[V],onUnreadCountChange:[function(e,t){H=x({topic:F.m,legacySubscriberMap:H,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(G()(n,"count"))}})}],offUnreadCountChange:[function(e,t){H=B({topic:F.m,legacySubscriberMap:H,legacySubscriber:t})}],onExternalEvent:[function(e,t){Y=x({topic:F.g,legacySubscriberMap:Y,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){Y=B({topic:F.g,legacySubscriberMap:Y,legacySubscriber:t})}],onClose:[function(e,t){K=x({topic:F.d,legacySubscriberMap:K,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){K=B({topic:F.d,legacySubscriberMap:K,legacySubscriber:t})}],enable:[Pe],disable:[me],onAvailabilityChange:[function(e,t){Ye=x({topic:F.c,legacySubscriberMap:Ye,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}})}],offAvailabilityChange:[function(e,t){Ye=B({topic:F.c,legacySubscriberMap:Ye,legacySubscriber:t})}],subscribeToUpdate:[w.b],unsubscribeToUpdate:[w.c],[le]:[nt],[de]:[rt],openNewPrompt:[X],clearPrompt:[q],onPromptAction:[function(e,t){Q=x({topic:F.k,legacySubscriberMap:Q,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){Q=B({topic:F.k,legacySubscriberMap:Q,legacySubscriber:t})}],[ie]:[fe],[oe]:[Te],clearSession:[N],getSessionToken:[L],[ce]:[ge],updateClientContext:[Ie],updateThemeMode:[function(e,t,n){new Promise(((n,r)=>{const a=Object(C.a)().skin===dt.a;!t||!m.a.includes(t)||a&&"DARK"===t?r(p.a.INCORRECT_PAYLOAD):(Object(C.e)({themeMode:t}),e({type:h.v,payload:{themeMode:t},promise:{resolve:n,reject:r}}))})).then((e=>{null===n||void 0===n||n({data:e})})).catch((e=>{null===n||void 0===n||n({error:e})}))}],updateCookieConsent:[pt],onShowMedia:[function(e,t){Ne=x({topic:F.i,legacySubscriberMap:Ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){Ne=B({topic:F.i,legacySubscriberMap:Ne,legacySubscriber:t})}],onCloseMedia:[function(e,t){Le=x({topic:F.h,legacySubscriberMap:Le,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){Le=B({topic:F.h,legacySubscriberMap:Le,legacySubscriber:t})}],onEvent:[function(e,t){je=x({topic:F.e,legacySubscriberMap:je,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){je=B({topic:F.e,legacySubscriberMap:je,legacySubscriber:t})}],[se]:[at],[ue]:[it],updateWidget:[function(e,t){const n=t.details.status;ct.a[n]?e({type:h.w,payload:t}):(Object(a.a)("Invaild status code",n),Object(ne.a)({topic:h.w,payload:{data:t,error:p.a.INCORRECT_PAYLOAD}}))}],updateLocale:[lt],updateCart:[Ue],removeFromCart:[Me],registerDevice:[Ke,function(e,t){Object(ne.a)({topic:F.l,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){ke=x({topic:F.l,legacySubscriberMap:ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){ke=B({topic:F.l,legacySubscriberMap:ke,legacySubscriber:t})}],unregisterDevice:[Ge,function(e,t){Object(ne.a)({topic:F.n,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){He=x({topic:F.n,legacySubscriberMap:He,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){He=B({topic:F.n,legacySubscriberMap:He,legacySubscriber:t})}],onLoad:[function(e,t){he=x({topic:F.a,legacySubscriberMap:he,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){he=B({topic:F.a,legacySubscriberMap:he,legacySubscriber:t})}],onLoadComplete:[function(e,t){Re=x({topic:F.b,legacySubscriberMap:Re,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){Re=B({topic:F.b,legacySubscriberMap:Re,legacySubscriber:t})}],goBack:[Se],onNotification:[Xe],onSeekPermission:[et],offSeekPermission:[function(e){et(0,Qe)}],grantPermission:[tt]},ft=[le,de,oe],Et=async()=>{if(!c.a.isEmpty()){const[e,...t]=c.a.popNextCmd();await St(c.a.getBufferQueue(),e,...t),await Et()}},Ot=async()=>{c.a.isFlushingInProgress()?c.a.setIsReFlushPending(!0):(c.a.setIsFlushingInProgress(!0),await Et(),c.a.setIsFlushingInProgress(!1),c.a.isEmpty(c.a.getBufferQueue())||c.a.move(c.a.getBufferQueue(),c.a.getQueue()),c.a.isReFlushPending()&&(c.a.setIsReFlushPending(!1),await Ot()))};async function vt(e,t,n){if(!t)return;for(var o=arguments.length,i=new Array(o>3?o-3:0),c=3;c<o;c++)i[c-3]=arguments[c];const s=[r.a.emit.bind(r.a),...i];try{const r=await t(...s);n&&n(void 0,r),ft.includes(e)&&d.info({message:`SDK ${e} called with params ${JSON.stringify(i)}`})}catch(u){Object(a.a)(u),n&&n(u)}}async function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.getQueue(),t=arguments.length>1?arguments[1]:void 0;const n=bt[t]&&bt[t][0],r=bt[t]&&bt[t][1],a=n&&n.dependecies&&n.dependecies.includes(S),s=n&&n.dependecies&&n.dependecies.includes(_);for(var u=arguments.length,l=new Array(u>2?u-2:0),d=2;d<u;d++)l[d-2]=arguments[d];if(s||a)return a&&!s?Object(o.b)()?void(r&&r(p.a.CHAT_UNAVAILABLE)):Object(o.a)()?void c.a.addCmdToQueue(e,[t,...l]):void vt(t,n,r,...l):s&&!a?Object(i.c)()||Object(i.b)()?void(r&&r(p.a.CHAT_UNAVAILABLE)):Object(i.d)()?void c.a.addCmdToQueue(e,[t,...l]):void vt(t,n,r,...l):void(Object(i.c)()||Object(i.b)()||Object(o.b)()?r&&r(p.a.CHAT_UNAVAILABLE):Object(i.d)()||Object(o.a)()?c.a.addCmdToQueue(e,[t,...l]):vt(t,n,r,...l));vt(t,n,r,...l)}},828:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return A}));var r=n(388),a=n.n(r),o=n(50),i=n.n(o),c=n(34),s=n.n(c),u=n(250),l=n.n(u),d=n(279),p=n(860),b=n(254),f=n(1002),E=n.n(f);const O=[b.c,b.m,b.b],v=(()=>{const e={};return{shouldStoreInCache:e=>O.includes(e),shouldCallSubscriberOnSubscribe:t=>O.includes(t)&&(t=>E()(e,t))(t),setCache:(t,n)=>{e[t]=n},getCache:t=>e[t]}})(),S={};function _(e,t){const{topic:n,subscriber:r}=t;if(l()(n)&&s()(r)){const e=S[n];S[n]=e?[...e,r]:[r]}v.shouldCallSubscriberOnSubscribe(n)&&r(v.getCache(n))}function C(e,t){const{topic:n,subscriber:r}=t;if(l()(n)&&s()(r)){const e=S[n],t=a()(e,(e=>e===r));-1!==t&&(e.splice(t,1),S[n]=e)}}function A(e){let{topic:t,payload:n,callback:r}=e;const a=S[t];if(n.shouldLogEvent){var o,c,s,u;const e=null===n||void 0===n||null===(o=n.request)||void 0===o?void 0:o.conversationId;p.a.info({chatConversationId:e,message:`${e?`${e} : `:""}${null!==n&&void 0!==n&&null!==(c=n.response)&&void 0!==c&&c.error?"Error":"Success"} event published - ${t}`,additionalDetails:{params:null===n||void 0===n?void 0:n.request,result:(null===n||void 0===n||null===(s=n.response)||void 0===s?void 0:s.error)||(null===n||void 0===n||null===(u=n.response)||void 0===u?void 0:u.data),subscriberCount:(null===a||void 0===a?void 0:a.length)||0}})}v.shouldStoreInCache(t)&&v.setCache(t,n),i()(a,((e,t)=>{try{e(n,r)}catch(a){Object(d.a)(a)}}))}},858:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));const r="AVAILABLE",a="UN_AVAILABLE",o="PENDING";let i=o;const c=e=>{i=e?r:a},s=()=>i===a,u=()=>i===o},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));const r={PENDING:"PENDING",SUCCESS:"SUCCESS",FAIL:"FAIL",EXPIRED:"EXPIRED"};let a=r.PENDING;const o=e=>{a=e},i=()=>a===r.PENDING,c=()=>a===r.FAIL,s=()=>a===r.EXPIRED},860:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(245),a=n(654),o=n(256),i=n(232),c=n(852);const s=new a.a((e=>Object(r.a)(void 0,void 0,void 0,(function*(){return(yield Object(o.c)("/livechat/logging/log/event",e)).data}))),{batch:!0,adapter:e=>{const{message:t,chatConversationId:n,additionalDetails:r={}}=e;return{logMessage:t,logTime:Object(i.a)(),additionalDetails:Object.assign(Object.assign({},r),{clientId:c.a.get()}),chatConversationId:n}}})},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(864);function a(e){return{type:r.a,payload:{itemId:e}}}}}]);