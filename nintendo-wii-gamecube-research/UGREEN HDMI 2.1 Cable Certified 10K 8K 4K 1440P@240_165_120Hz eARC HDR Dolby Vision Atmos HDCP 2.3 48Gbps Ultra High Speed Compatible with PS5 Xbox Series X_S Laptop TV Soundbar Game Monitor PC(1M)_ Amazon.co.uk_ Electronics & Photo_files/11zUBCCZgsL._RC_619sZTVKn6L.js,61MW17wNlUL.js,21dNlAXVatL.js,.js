(function(c){var l=window.AmazonUIPageJS||window.P,f=l._namespace||l.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):l;b.guardFatal?b.guardFatal(c)(b,window):b.execute(function(){c(b,window)})})(function(c,l,f){c.when("A","imageBlockUtils").register("ImageBlockModel",function(b,d){function n(b,a,q,e,m,h){d.isDefined(b)&&(g.type=b);d.isDefined(a)&&(g.index=a);d.isDefined(q)&&(g.thumbnailIndex=q);d.isDefined(e)&&(g.variant=e);d.isDefined(m)&&(g.color=
m);g.shoppableScene=h||null}function k(b){n("image",0,0,"MAIN",b||m.landingAsinColor||m.defaultColor,null)}function e(a){a=a.data;h=b.copy(g);n(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function t(a){e(a);a=b.copy(a);a.data=b.copy(g);p.dispatch("updateView",a)}function c(){h=b.copy(g);k(g.color)}function a(a){r=a}var m,p,g={},h={},l,f,r=!0;return function(d,u){p=u;m=d;p.register("updateSelection",t);p.register("updateModel",e);p.register("resetModel",c);p.register("updateTwisterHoverState",
a);this.init=function(){k()};this.getCurrentItem=function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(h)};this.setCurrentEvent=function(a){l=a};this.getCurrentEvent=function(){return l};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(a){m.title=a};this.setToPreviousItem=function(){n(h.type,h.index,h.thumbnailIndex,h.variant,h.color,h.shoppableScene)};this.setToCurrentItem=function(a){n(a.type,
a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)};this.getShouldUpdateOnTwisterHover=function(){return r}}});"use strict";c.when("imageBlockUtils").register("ImageBlockState",function(b){return function(d,c,k){this.getImageHash=function(e){var c=k.getCurrentItem();e=b.getIndexForVariant(c.color,e||"MAIN",d);return b.getImageHash(c.color,e,d)};this.onImageUpdateForTwister=function(b){c.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";
c.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(b,c,n,k,e){var d={};return function(f){var a=this;a.dispatch=function(a,c){a=d[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(l,c)})};a.register=function(a,b){k.isDefined(d[a])||(d[a]=[]);"function"===typeof b&&d[a].push(b)};a.model=new c(f,a);a.view=new n(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";c.when("jQuery",
"ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,d,f,k){b=b.extend(!0,{},f,k);b.isMediaBlock&&!b.lazyLoadExperienceDisabled&&(b.colorToAsin={},b.landingAsinColor="initial",b.visualDimensions=[]);var e=new d(b);c.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(D){var p=window.AmazonUIPageJS||window.P,V=p._namespace||p.attributeErrors,Y=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):p;Y.guardFatal?Y.guardFatal(D)(Y,window):Y.execute(function(){D(Y,window)})})(function(D,p,V){D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(g,c,e,da,n,F,G){function J(f,h,d,b,a){if(!e.isjQueryObjDefined(f.find(".a-button-selected"))){var r=
H.getCurrentItem();if(!b||"chromeless-video"!==r.type||!l.autoplayVideo){b=0;l.twisterInteractionSimplificationEnabled||"image"!==r.type||(b=Math.max(e.getIndexForVariant(r.color,r.variant,l),0));var m=0;e.isDefined(l.heroImage[r.color])&&(m=l.heroImage[r.color].length);a=b-(h>=l.maxAlts?l.maxAlts-a-m:0);h=0<=a?h+a:b+m;h>=d&&(b=0,h=m);d=e.getImageHash(r.color,b,l);-1!==d&&(U.dispatch("updateModel",{data:{index:b,thumbnailIndex:h,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=
f.find(".item").get(h),e.selectGivenThumbnail(c(d),f))}}}function k(c){if(!l.useChildVideos)return e.lazyLoadingRequired(H.getCurrentItem(),H,l)?void 0:l.videos;if(l.colorToVideo[c])return l.colorToVideo[c];var h=l.colorToAsin[c];if(h&&h.asin){var d={};d.params={asin:h.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(d.success=function(b){videosOnTwisterRefresh(b)},da.load(VIDEO_AJAX_ENDPOINT,d));
return l.colorToVideo&&l.colorToVideo[c]}}function L(f,h,d,b){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&d)return f;b=k(h);var a=e.isDefined(b)&&0<b.length&&l.alwaysIncludeVideo?1:0;h=l.colorImages&&l.colorImages[h];b=f;var r=0;e.isDefined(h)&&(c.each(h,function(b,d){if(r>=l.maxAlts-a&&f<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var h=c(".thumbItemUnrolled");h[f]?h[f].querySelector("img").src=d.thumb:
c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(f+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(f+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(f+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:f,variant:d.variant,shoppableScene:d.shoppableScene},d.thumb,S,"imageThumbnail");f++}r++}),F.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(c,F,H),J(S,b,f,d,a));return f}function C(c,h){l.useIV&&e.isDefined(h.hiRes)&&c.css("cursor","pointer")}function t(f,h){if("image"===f.type&&O){var d=c("#image-canvas-caption #canvasCaption"),b=l.staticStrings,a=l.colorImages,r=f.color,m=f.index,t=!0;var k='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e";e.isShoppableScenesEnabled()&&
f.shoppableScene?k=b.clickSceneTagsToShopProducts:h&&l.useIV?(k='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e",t=!0):a[r]&&a[r][m].hiRes&&l.useHoverZoom?(l.useHoverZoomIpad?k=b.touchToZoom:l.useClickZoom&&(k=b.clickToZoom),l.hoverZoomIndicator&&(k="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+k)):l.useIV&&(k='\x3ca href\x3d"#"\x3e'+b.clickForFullView+"\x3c/a\x3e",t=!0);d.html(k);t&&(f=c("#image-canvas-caption #canvasCaption a"),g.declarative.create(f,"iv-open-caption-click"))}}
function B(f,h){var d="a-dynamic-image";if(!l.acEnabled){var b;c.each(f.main,function(a,d){e.isDefined(b)||(b=parseFloat(d[1]/d[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=b}var a=e.getMaxDimensionsOfMainImage(f.main,K,l),r=a[0],m=a[1];a=c("\x3cdiv\x3e\x3c/div\x3e");r={"max-height":r,"max-width":m};a.addClass(d).css(r).attr({"data-old-hires":f.hiRes,"data-a-manual-replacement":"true",onload:h}).data("a-dynamic-image",f.main);return a}function u(c,h,d){var b=
"desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&uet("bb",b,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+c);d=R.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.addClass("celwidget").attr("cel_widget_id",b);d.children("span").css("display","inline-block");U.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:h.shoppableScene,imageSource:h.hiRes||h.large||h.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),
$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(a,b){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:h.shoppableScene})}),b.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],
{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return d}function v(c,h,d){d=B(c,d);c=e.isShoppableScenesEnabled()&&c.shoppableScene?u(h,c,d):R.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");c.addClass("image item itemNo"+h+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":h+1});c.find(".placeHolder").replaceWith(d);R.find(".list").append(c);
g.loadImageManually(d);return c}function M(c){var h=K.css("height");null!==h&&c.find(".imgTagWrapper").css("height",h);c.addClass("selected");l.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function P(f,h,d,b){if(2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||b||"unavailable"===f.type){if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){d=e.getImageHash(f.color,f.index,l);if(-1===d)return h={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},e.lazyLoadingRequired(f,H,l)||(U.dispatch("updateModel",h),e.showUnavailable(f.color)),-1;b=R.find(".item.itemNo"+f.thumbnailIndex);e.isjQueryObjDefined(b)||(b=v(d,f.thumbnailIndex,h));M(b);U.dispatch("loadMagnifier");t(f);C(b,d);g.trigger("dp:image-block:update",d)}}else{f=l.colorImages&&l.colorImages[d];h=c(".unrolledImg");d=k(d);var a=e.isDefined(d)&&0<d.length&&l.alwaysIncludeVideo?1:0;h.length>l.maxAlts&&h.each(function(a){a>=l.maxAlts&&c(this).remove()});e.isDefined(f)&&
c.each(f,function(b,d){b<l.maxAlts-a+l.additionalNumberOfImageAlts&&b>=l.maxAlts-a&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(b+a)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(b+a)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function I(c){if(!l.twisterInteractionSimplificationEnabled){var f=H.getCurrentItem().color;l.colorImages[f]||(l.colorImages[f]=c);c={type:"updatedData",data:H.getCurrentItem()};
U.dispatch("updateView",c);(f=l.colorToAsin[f])&&f.asin&&D.register(e.rankedImagesReadyEvent(f.asin))}}function T(){var f=R.find(".item .imgTagWrapper"),h=e.getContainerHeight(K,l.holderRatio,l.holderMaxHeight);0<h&&(K.height(h),f.height(h));R.find("img.a-dynamic-image").each(function(){var d=c(this);d.data("a-manual-replacement")&&g.loadDynamicImage(this);var b=d.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,K,l);d.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function f(f){t(H.getCurrentItem(),
"mouseenter"===f.type)}var m,l,H,U,S,R,K,x,O=(n=g.state("imageBlockStateData"))?!n.shouldRemoveCaption:!0;return function(t,h,d,b){m=this;l=t;H=h;U=b;g.on("triggerImageAjax",I);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];m.render=function(a,b,d,f,h,m,t,g){R=d;S=f;K=h;x=l.twisterInteractionSimplificationEnabled&&"swatchClick"===g?0:L(b,a,m,g);m||(b=H.getCurrentItem(),e.lazyLoadingRequired(b,H,l)&&U.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=H.getCurrentItem();d=!m;e.lazyLoadingRequired(b,
H,l)||(c("#imageBlock").css("opacity","1"),R.css("opacity","1"),e.spinner(R,!1),l.isMediaBlock||(R.find("li").removeClass("selected"),O&&c("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),d&&R.find(".list .item").remove()));P(H.getCurrentItem(),t,a,m);return x};m.update=function(a){};l.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");U.register("imageHover",f);U.register("resize",T)}});"use strict";D.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",
function(g,c,e){var p,n,F,G;return function(c,k,L,C){p=this;n=c;F=C;p.render=function(c,k,u,v,F,P,I){G=v;p=this;u=n.maxAlts;v=k;F=n.colorImages[c]?n.colorImages[c].length:0;F+=e.getVideosCount(c,n);c=n.heroImage[c];P=0;c&&(P=c.length);c=F+P;c>u&&(u=c-u,c=G.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),u+="+",v={type:"ingress",index:0,thumbnailIndex:k,variant:""},c.find("#altIngressText").append(u),g.declarative.create(c,"thumb-action",
v),G.append(c),v=k++);return v};p.update=function(c){"ingress"===c.data.type&&"click"===c.type&&F.dispatch("imageClick",c)}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,c,e,p){function n(f,m,l,g){if(!e.isjQueryObjDefined(f.find(".a-button-selected"))){var k=v.getCurrentItem();if(!g||"chromeless-video"!==k.type||!u.autoplayVideo){g=0;if("hero-image"===k.type){g=G(k.color,k.variant);if(-1===g)return;g=-1!==g?g:0}var t=m+g;
t>=l&&(g=0,t=m);m=p.getHeroImageHash(u,k.color,g);-1!==m&&(M.dispatch("updateModel",{data:{index:g,thumbnailIndex:t,variant:m.variant,type:"hero-image"}}),m=f.find(".item").get(t),e.selectGivenThumbnail(c(m),f))}}}function F(f,m,l){if("hero-video"===v.getCurrentItem().type)return f;m=u.heroImage&&u.heroImage[m];var g=f;e.isDefined(m)&&(c.each(m,function(c,m){f<u.maxAlts&&(e.createThumbnail({type:"hero-image",index:c,thumbnailIndex:f,variant:m.variant},m.thumb,P,"imageThumbnail"),f++)}),n(P,g,f,l));
return f}function G(f,m){var l=u.heroImage;if(1>l.length||!e.isDefined(l[f])||!e.isDefined(m))return-1;var g=-1;c.each(l[f],function(c,f){f.variant===m&&(g=c)});return g}function J(){if(I.length&&u.repositionHeroImage){var c=p.getHeroDimParams(u,v.getCurrentItem());if(e.isDefined(c)){var m=e.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";I.css({"background-position":m,"background-size":c.width+"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"",
"-ms-filter":""})}}}function k(c,m,l,g){if(I.length&&c&&m){if("function"===typeof l||g){var f=new Image;f.onload=g?function(){I.css("background-image",'url("'+c+'")')}:l;f.src=c}l=m[1];f=m[0];g||I.css({"background-image":'url("'+c+'")'});if(u.repositionHeroImage&&(m=p.getHeroDimParams(u,v.getCurrentItem(),m),e.isDefined(m))){l=m.width;f=m.height;var k=e.isDefined(m.xPos)?m.xPos+"px "+m.yPos+"px ":"center "+m.yPos+"px "}I.css({"background-position":k,"background-size":l+"px "+f+"px ","max-width":l+
"px ","min-height":f+"px ",filter:"","-ms-filter":""})}}function L(f,e,l,g){f=p.getHeroImageHash(u,f,e);if(-1===f)return-1;e=c.map(f.main,function(c,f){return f})[0];k(e,f.main[e],l,g)}function C(c,e,l){if("hero-image"!==c.type)return-1;var f=G(c.color,v.getCurrentItem().variant);f=-1!==f?f:0;if(-1===p.getHeroImageHash(u,c.color,f))return-1;var m=v.getCurrentItem();c.thumbnailIndex=m.thumbnailIndex;c.type=m.type;c.variant=m.variant;c.index=f;t(c,e,l)}function t(c,e,l){var f=p.getHeroImageHash(u,c.color,
c.index);var m=c&&T&&g.equals(c,T)?!0:!1;T||(T=c);if(!m&&c||e)L(c.color,c.index,e,l),T=c;I.removeClass("hide-background");g.trigger("dp:image-block:update",f)}var B,u,v,M,P,I,T={};return function(f,m,l,g){B=this;u=f;v=m;M=g;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];B.render=function(f,e,m,l,g,k,t){P=l;I=c("#heroImage");f=F(e,f,k);C(v.getCurrentItem(),t,k);return f};B.update=function(c){var f=c.data;"ingress"!==f.type&&I.addClass("hide-background");"swatchHover"===c.type?c.captured||
(f.type=v.getCurrentItem().type,-1!==C(f)&&(c.captured=!0)):"hero-image"===f.type&&(t(f),"click"!==c.type&&u.usePeekHover||e.selectGivenThumbnail(c.$declarativeParent,P))};M.register("resize",J)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,c,e,D,n,F){function G(c){P?c.css("cursor","url('"+t.staticImages.zoomIn+"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),
c.css("cursor","zoom-in"))}function J(c){var f=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(e.isDefined(f)){f=f[1].split("_");for(var l=0;l<f.length;l++){var g=f[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(g)&&(c[g[1]]=parseInt(g[2],10))}}return c}function k(f,m){function l(){if(m.useClickZoom){var a=m.offsetInClickZoom;a=[Math.min(1,Math.max(0,A[0]-(Q[0]+a))/(Q[2]-2*a)),Math.min(1,Math.max(0,A[1]-(Q[1]+a))/(Q[3]-2*a))]}else a=z&&z.updatePosition();if(a&&y&&y.detailSize){var b=[y.detailSize[0]-
y.rect.width,y.detailSize[1]-y.rect.height];g.capabilities.rtl?y.detailImage.get(0).style.right=-(a[0]*b[0])+"px":y.detailImage.get(0).style.left=-(a[0]*b[0])+"px";y.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function k(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function B(a){var b=q?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";A=q?[b.pageX,b.pageY]:[a.pageX,a.pageY];if(g.capabilities.rtl){var d=c(p).width();A=q?[d-b.pageX,b.pageY]:[d-a.pageX,a.pageY]}}
function u(b){B(b);m.useClickZoom?b=[Q[0],Q[1],Q[0]+Q[2],Q[1]+Q[3]]:(b=z?z.offset:f.offsetParent().offset(),b=t.acEnabled?[b.left,b.top,a.width()+b.left,a.height()+b.top]:[w[0]+b.left,w[1]+b.top,w[0]+w[2]+b.left,w[1]+w[3]+b.top]);return A[0]<b[0]||A[1]<b[1]||A[0]>=b[2]||A[1]>=b[3]||t.acEnabled&&!k(f)?!0:!1}function v(a){q&&a.preventDefault();T=u(a)?!1:!0}function M(a){q&&a.preventDefault();u(a)?(I||(m.fadeMagnifier?ba||(ba=!0,ca=setTimeout(function(){x(!0)},500)):m.useClickZoom||x(),ia&&(ia=!1,clearTimeout(ma))),
I=!1):(ia||(ia=!0,ma=setTimeout(function(){D.postCountMetric("dppc_hoverZoomOpened");n.isEnabled&&F.logHoverZoomRequestServed(n)},1E3)),m.fadeMagnifier&&ba&&(ba=!1,clearTimeout(ca)),I||l())}function x(a){a&&b.suppressMagnifier(!0);if(Z){y&&y.hide();z&&(z.destroy(),z=null);I&&L();Z=!1;q?(f.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier");N();if(a)f.one("click.magnifier touchstart.magnifier",
function(a){C(a,!0)});c(document).unbind("keydown.magnifier")}}function C(e,h){h&&b.suppressMagnifier(!1);T||(I=!1);if(!(Z||E||I)){0===ja&&(D.postCountMetric("dppc_hoverTime",new Date-(p.ue&&p.ue.t0||0)),ja=1);W[da]||(D.postCountMetric("dppc_hoverMain"),W[da]=1);da&&(B(e),y?y.refit().show():y=new fa,m.useClickZoom||(z=z||new X),Q=y.getWindowSize(),l());Z=!0;q?(f.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",M).bind("touchend.magnifier",x),c(document).trigger("engaged.magnifier")):
(t.acEnabled?a.unbind("mousemove.magnifier"):f.unbind("mousemove.magnifier"),c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",M));if(h&&(e=c("#zoomWindow"),0<e.length))e.one("click.magnifier touchend.magnifier",function(a){x(!0)});c(document).bind("keydown.magnifier",d)}}function N(){m.useHoverZoom&&(q?f.bind("touchstart.magnifier touchmove.magnifier",C):(t.acEnabled?k(f)&&a.bind("mousemove.magnifier",C):f.bind("mousemove.magnifier",C),c(document).bind("mousemove.magnifierCursor",
v)))}function h(a){return[a.position().left,a.position().top,a.width(),a.height()]}function d(a){if("key"in a?"Escape"===a.key||"Esc"===a.key:27===a.keyCode)I=!0,x(!0)}var b=this,a=f.offsetParent(),r={detailImageUrl:f.attr("data-old-hires"),location:"over",locationElement:f,prelaod:"ready",zIndex:50,offsetInClickZoom:50};m=c.extend(r,m);m.adjustment=[10,0,-10,0];var y=null,z=null,A=null,w=h(f),Q=null,aa={"null":1,"":1,undefined:1},Z=!1,E=!1,da=m.detailImageUrl,q=m.useHoverZoomIpad||0,ja=0,W={},X=
function(){function a(a){var b=Math.round(Math.min(f.width(),y.rect.width/a));a=Math.round(Math.min(f.height(),y.rect.height/a));q.css({width:b,height:a});d=[b,a]}var b=this,d=[0,0],e=(y.detailSize&&y.detailSize[0]||5E8)/w[2],h=(y.detailSize&&y.detailSize[1]||5E8)/w[3];e=h>e?h:e;c("#magnifierLens").remove();var q=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});m.generalImageUrls.zoomLensBackground&&q.css({backgroundImage:"url("+m.generalImageUrls.zoomLensBackground+")"});t.showMagnifierOnHover?
G(q):q.css("cursor","pointer");b.updatePosition=function(){var a=[w[2]-d[0],w[3]-d[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(A[0]-d[0]/2-w[0]-b.offset.left)/a[0])),e=0>=a[1]?.5:Math.max(0,Math.min(1,(A[1]-d[1]/2-w[1]-b.offset.top)/a[1])),f=w[0]+Math.round(c*a[0]);a=w[1]+Math.round(e*a[1]);q.get(0).style.left=f+"px";q.get(0).style.top=a+"px";return[c,e]};b.destroy=function(){q.remove()};b.offset=f.offsetParent().offset();a(e);b.updatePosition();q.appendTo(f.parent());y.detailImage[0].complete||y.detailImage.load(function(){var d=
y.detailImage.width()/w[2];a(d);b.updatePosition()})};X.preload=function(){b.preload(m.generalImageUrls.lensBackgroundUrl)};var fa=function(){function a(){var a={};if("over"===m.location){a=m.useClickZoom;var b={},q=c("#leftCol"),l=c("#centerCol"),r=c("#rightCol"),k=c("#hover-zoom-end"),ka=c("#actionPanelContainer"),va=e.isjQueryObjDefined(q)?q.outerHeight():l.outerHeight();b.top=e.isjQueryObjDefined(q)?q.offset().top:l.offset().top;b.bottom=va+b.top;b.right=e.isjQueryObjDefined(r)?r.offset().left:
ka.offset().left;b.left=a?0:q.offset().left+q.outerWidth();e.isjQueryObjDefined(k)&&k.offset().top>b.bottom&&(b.bottom=k.offset().top);a=b}else"right"===m.location&&(a=f.offset(),a={left:a.left+f.outerWidth(),top:a.top,right:a.left+f.outerWidth()+400,bottom:a.top+400});m.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(m.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(p).scrollTop()+c(p).height());a.left+=h[0];a.top+=h[1];a.right+=h[2];a.bottom+=h[3];a.width=a.right-a.left;a.height=
a.bottom-a.top;m.enhancedHoverOverlay&&e.isDefined(p.pageXOffset)&&(b=c(p).width(),a.width=b-a.left+p.pageXOffset-18,a.height-=14);g.css({left:a.left,top:a.top,width:a.width,height:a.height});d.rect=a;return d}function b(a){var b=new Image;d.detailSize=[0,0];b.onload=function(){d.detailSize=[b.width,b.height];l()};b.src=a.attr("src");if(0<b.width&&0<b.height)d.detailSize=[b.width,b.height];else if(m.detailImageSize)d.detailSize=m.detailImageSize;else{a=J(b.src);var c=w[2]/w[3];a.SS||a.AA?(a=a.SS||
a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?d.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(d.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var d=this,h=m.adjustment;c("#zoomWindow").remove();var q={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:m.zIndex};m.enhancedHoverOverlay&&(q.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",q.border="1px solid #949494",q.borderColor="rgb(148,148,148)");var g=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(q);
m.fadeMagnifier&&g.fadeIn(200);m.useClickZoom&&(P?g.css("cursor",'url("'+m.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));d.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();g.append(a);c(document).trigger("updated.magnifier");d.detailImage=a;b(d.detailImage)};d.refit=function(){a();b(d.detailImage);return d};m.fadeMagnifier?(d.show=
function(){g.fadeIn(200);return d},d.hide=function(){g.fadeOut(200);return d}):(d.show=function(){g.show();return d},d.hide=function(){g.hide();return d});d.destroy=function(){g.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(da);a();g.appendTo(document.body)},ba=!1,ca,ia=!1,ma;b.preload=function(a){a=c.makeArray(a);for(var d=a.length,e=0;e<d;e++)a[e]instanceof Array?b.preload(a[e]):"string"===typeof a[e]&&a[e]&&!aa[a[e]]&&(aa[a[e]]=
new Image,aa[a[e]].src=a[e])};b.changeImage=function(a,d){Z&&x();da=d;f.attr("src",a);b.preload(a);w=h(f);d&&("immediately"===m.preload?b.preload(d,!0):c(p).ready(function(){b.preload(d)}),y?y.updateImage(d):f.attr("data-old-hires",d))};b.destroy=function(){t.acEnabled?a.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");z&&z.destroy();z=null;
y&&y.destroy();y=null};b.detailImage=function(){return y.detailImage};b.suppressMagnifier=function(a){E=a};b.isEngaged=function(){return Z};b.engageMagnifier=C;b.disengageMagnifier=x;f[0].complete?N():f.one("load",N);b.preload(f.attr("src"));p.performance&&performance.now&&p.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(m.preload){var na=m.detailImageUrl;r=function(){b.preload(na,!0);m.useClickZoom||X.preload()};var ha=m.preload;ha.constructor!==Array&&(ha=[ha]);for(var la=
0;la<ha.length;la++)if("immediately"===ha[la])r();else if(c(p)[ha[la]])c(p)[ha[la]](r);else c(p).bind(ha[la],r)}return b}function L(){if(t.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:t.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:t.useHoverZoomIpad,useHoverZoom:t.useHoverZoom,useClickZoom:t.useClickZoom,fadeMagnifier:t.fadeMagnifier,zoomOutIcon:t.staticImages.zoomOutCur,enhancedHoverOverlay:t.enhancedHoverOverlay||t.atfEnhancedHoverOverlay};
v&&(v.destroy(),v=V);var g=M.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(g)?t.useClickZoom?(g.one("click.loadmagnifier touchstart.loadmagnifier",function(c){v=new k(g,f);v.engageMagnifier(c,!0)}),P?g.css("cursor",'url("'+t.staticImages.zoomInCur+'"), auto'):(g.css("cursor","-webkit-zoom-in"),g.css("cursor","-moz-zoom-in"),g.css("cursor","zoom-in"))):v=new k(g,f):n.isEnabled&&F.logHoverZoomApplicability(c,n)}}var C,
t,B,u,v,M,P=navigator.userAgent.match(/msie|trident/i),I=!1,T=!1;return function(c,e,g,k){C=this;t=c;B=e;n.refToModel=B;u=k;C.render=function(c,e,f,g,l,m){M=f;v&&(v.destroy(),v=V)};C.update=function(c){};u.register("loadMagnifier",L);u.register("resize",L)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,c,e,D){function n(c,g,n){c=(c=n?n:e.getColorFromState(g.getState().hovered_variations,k))&&""!==c?c:k.defaultColor;c={color:c};k.isMediaBlock&&
(c.thumbnailIndex=L.getCurrentItem().thumbnailIndex);C.dispatch("updateView",{type:"swatchHover",data:c});D.postCountMetric("swatchHover")}function F(g,n,u,v){v=g=(g=v?v:e.getColorFromState(n.getState().selected_variations,k))&&""!==g?g:k.defaultColor;k.twisterInteractionSimplificationEnabled&&"initial"===g&&(v=e.getTwisterColorFromState(n.getState().selected_variations));v===L.getCurrentItem().color||k.colorToAsinCached&&k.colorToAsinCached[v]?"function"===typeof u&&u():(k.isMediaBlock&&(c("#mediaBlock_feature_div").removeClass("js-feature-refresh-overlay").css("opacity",
""),k.asinToColor=k.asinToColor||{},k.asinToColor[n.getState().current_asin]=g),!k.twisterInteractionSimplificationEnabled||k.colorToAsinCached&&k.colorToAsinCached[v]||((n=document.querySelector("#altImages \x3e ul"))&&n.classList.add("js-feature-refresh-overlay"),k.colorToAsinCached=k.colorToAsinCached||{},k.colorToAsinCached[v]=!0),n={color:g},k.twisterInteractionSimplificationEnabled&&("initial"!==g?(n.type="image",n.index=0,n.thumbnailIndex=0):k.isMediaBlock&&"image"!==L.getCurrentItem().type&&
(n.type="image",n.index=0,n.thumbnailIndex=0)),C.dispatch("updateSelection",{type:"swatchClick",data:n,onload:function(){if(!k.twisterInteractionSimplificationEnabled){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",c)}u()}}),D.postCountMetric("swatchClick"))}function G(e){if(e){var g=null!=e.requestedAsinColor?e.requestedAsinColor:k.defaultColor;k.isMediaBlock&&(g=k.asinToColor[e.asin]||g);var n={altImagesData:!0,
videosData:!0},p={},t;for(t in e)e.hasOwnProperty(t)&&!n[t]&&(p[t]=e[t]);k=c.extend(!0,k,p);k.colorImages[g]="initial"!==g&&k.colorImages[g]&&0<k.colorImages[g].length?k.colorImages[g].slice(0,1).concat(e.altImagesData.slice(1)):e.altImagesData;k.colorToVideo[g]=e.videosData;e={color:g};k.isMediaBlock&&(e.type="image",e.index=0,e.thumbnailIndex=0);e={type:"updatedData",data:e};C.dispatch("updateModel",e);C.dispatch("updateView",e)}}var J,k,L,C;return function(c,e,p,v){J=this;k=c;L=e;C=v;k.asinToColor=
k.asinToColor||{};g.on("image-block-twister-swatch-hover",n);g.on("image-block-twister-swatch-click",F);g.on("twisterRefreshData",G);J.render=function(c,e,g,k,f){};J.update=function(c){}}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,c,e,da,n,F,G){function J(a,f,g,l){if(!e.isjQueryObjDefined(a.find(".a-button-selected"))){var q=d.getCurrentItem();if(!l||"chromeless-video"!==
q.type||!h.autoplayVideo)if(l=0,h.twisterInteractionSimplificationEnabled||"image"!==q.type||(l=Math.max(t(q.color,q.variant),0)),!(q.thumbnailIndex>=h.maxAlts&&0!=l)){var m=f+l;m>=g&&(l=0,m=f);f=e.getImageHash(q.color,l,h);-1!==f&&(b.dispatch("updateModel",{data:{index:l,thumbnailIndex:m,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),f=a.find(".item").get(m),e.selectGivenThumbnail(c(f),a))}}}function k(a,b,f,g){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&
f)return a;var q=h.colorImages&&h.colorImages[b];b=a;2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||a>=q.length||a>=h.maxAlts)&&c(this).remove()});e.isDefined(q)&&(c.each(q,function(b,d){if(a<h.maxAlts)if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){a++;var f=c(".thumbItemUnrolled");f[b]?f[b].querySelector("img").src=d.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else b=
{type:"image",index:b,thumbnailIndex:a,variant:d.variant,shoppableScene:d.shoppableScene},d=e.createThumbnail(b,d.thumb,y,"imageThumbnail"),"T1"!==h.desktopCollapsibleThumbnailsExperience&&"T2"!==h.desktopCollapsibleThumbnailsExperience||e.updateImageThumbnailOverlay(d,b,q),a++}),F.isEnabled&&G.logAltImgRequestPlacedOnThumbnails(c,F,d),J(y,b,a,f));return a}function L(a,b){h.useIV&&e.isDefined(b.hiRes)&&a.css("cursor","pointer")}function C(a,b){if("image"===a.type&&V){var d=c("#image-canvas-caption #canvasCaption"),
f=h.staticStrings,q=h.colorImages,l=a.color,m=a.index,r=!1;if(e.isShoppableScenesEnabled()&&a.shoppableScene)var k=f.clickSceneTagsToShopProducts;else b&&h.useIV?(k='\x3ca href\x3d"#"\x3e'+f.clickForFullView+"\x3c/a\x3e",r=!0):q[l]&&q[l][m].hiRes&&h.useHoverZoom?(h.useHoverZoomIpad?k=f.touchToZoom:h.useClickZoom?k=f.clickToZoom:(k='\x3ca href\x3d"#"\x3e'+f.clickForFullView+"\x3c/a\x3e",r=!0),h.hoverZoomIndicator&&(k="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+k)):h.useIV&&(k=
'\x3ca href\x3d"#"\x3e'+f.clickForFullView+"\x3c/a\x3e",r=!0);d.html(k);r&&(a=c("#image-canvas-caption #canvasCaption a"),g.declarative.create(a,"iv-open-caption-click"))}}function t(a,b){return e.getIndexForVariant(a,b,h)}function B(a,b,d){var c=b.thumbnailIndex,e=h.colorToAsin[b.color]&&h.colorToAsin[b.color].asin;b="altImageHover"===d&&w&&w.altImageIdx===c&&w.asin===e&&"swatchClick"===w.event?!0:"swatchHover"===d?w&&w.asin===e&&w.event===d:w&&w.altImageIdx===c&&w.asin===e&&w.event===d;if(!b){var f=
"#",g=a.find(".imgTagWrapper img").get(0);g&&(f=g.src);a=new Image;a.onload=function(){if(g){g.src=f;var a=g.width,b=g.height,h=g.naturalWidth,q=g.naturalHeight;try{var l=(Math.abs(a/h*q-b)/b).toFixed(2);.01<l&&(p.ue&&((("landing"!==d||Z||E)&&"swatchClick"!==d||p.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===d||"swatchClick"===d)?p.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==d||E?"altImageHover"!==d||Z||(p.ue.count("imageBlock-PC-hi_res_alt_image_distortion",
1),Z=!0):(p.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),E=!0)),p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},p.ueLogError("swatchHover"===d?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+d+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+c+" Event:"+d+" Diff:"+l.toString()+"]"},a)))}catch(oa){p.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},
p.ueLogError(oa,a))}}};"#"!==f&&(a.src=f);w.altImageIdx=c;w.asin=e;w.event=d}}function u(a,b){var d="a-dynamic-image";if(!h.acEnabled){var f;c.each(a.main,function(a,b){e.isDefined(f)||(f=parseFloat(b[1]/b[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=f}var g=e.getMaxDimensionsOfMainImage(a.main,A,h),l=g[0],q=g[1];g=c("\x3cdiv\x3e\x3c/div\x3e");l={"max-height":l,"max-width":q};g.addClass(d).css(l).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",
onload:b}).data("a-dynamic-image",a.main);return g}function v(){g.on("a:image:load:swatchHoverImage",function(a){n.postCountMetric("mainImageUpdateOnTwisterSwatchHover")})}function M(a,d,c){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",e,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=z.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":e,
"data-csa-c-slot-id":e,"data-csa-c-type":"widget","data-csa-c-asin":h.mediaAsin,"data-csa-c-physical-id":d.shoppableScene.physicalId,"data-product-line":d.shoppableScene.productLine});c.children("span").css("display","inline-block");b.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:d.shoppableScene,imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in p&&(new MutationObserver(function(b,
c){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:d.shoppableScene})}),c.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&
uet("cf",e,{wb:1});return c}function P(a,b,d){d=u(a,d);a=e.isShoppableScenesEnabled()&&a.shoppableScene?M(b,a,d):z.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);h.isMediaBlock?z.find(".desktop-media-mainView").append(a):z.find(".list").append(a);
g.loadImageManually(d);g.trigger("dp:image-block:imageBlockImageLoad",b);return a}function I(a){var b=A.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function T(a){if(a.isUserGenerated){var b=d.getPreviousItem(),c=a.variant;e.isDefined(c)&&b.thumbnailIndex!==a.thumbnailIndex&&(F.isEnabled&&G.logAltImgRequestServed(F),n.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(n.postCountMetric("IGImageSelectedVariant:"+c),n.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function f(a,f,l,k,r){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||k||"unavailable"===a.type){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){(q=e.isDefined(f))&&n.postCountMetric("mainImageUpdateOnTwisterVariationClick");l=e.getImageHash(a.color,a.index,h);if(-1===l)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
e.lazyLoadingRequired(a,d,h)||(b.dispatch("updateModel",f),e.showUnavailable(a.color)),-1;k=z.find(".item.itemNo"+a.thumbnailIndex);if(h.isMediaBlock&&"swatchClick"===r||!h.isMediaBlock&&!e.isjQueryObjDefined(k))k=P(l,a.thumbnailIndex,f),q?(E=Z=!1,B(k,a,"swatchClick")):B(k,a,"altImageHover");if(h.isMediaBlock&&"swatchClick"===r||!m(k,l,a))I(k),L(k,l);b.dispatch("loadMagnifier");C(a);T(a);g.trigger("dp:image-block:update",l);x(!1)}}else if(a=h.colorImages&&h.colorImages[l],c(".unrolledImg").each(function(a){c(this).remove()}),
e.isDefined(a)){c.each(a,function(a,b){if(a<h.maxAlts){var d=c(".unrolledImg");d[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=d.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});g.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var q=e.isDefined(f);q&&(n.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
f());x(!1)}}function m(a,b,d){if(!h.isMediaBlock)return!1;var c=a.find("div.a-image-wrapper.a-manually-loaded.a-dynamic-image").first();c.length&&(b=e.getMaxDimensionsOfMainImage(b.main,A,h),c.css({"max-height":b[0],"max-width":b[1]}),g.loadImageManually(c),g.trigger("dp:image-block:imageBlockImageLoad",d.thumbnailIndex));d=A.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses);return!0}function l(a){var b=
0;h.twisterInteractionSimplificationEnabled||(b=Math.max(t(a.color,d.getCurrentItem().variant),0));b=e.getImageHash(a.color,b,h);if(-1===b)return e.lazyLoadingRequired(a,d,h)||e.showUnavailable(a.color),-1;var c=z.find(".swatchHoverExp"),f=u(b);h.isMediaBlock&&f.attr({"data-a-image-name":"swatchHoverImage"});c.find(".imgTagWrapper").html(f);g.loadImageManually(f);n.postCountMetric("mainImageUpdateOnTwisterVariationHover");I(c);B(c,a,"swatchHover");g.trigger("dp:image-block:update",b);x(!0)}function H(a,
b){e.lazyLoadingRequired(a,d,h)||(c("#imageBlock").css("opacity","1"),z.css("opacity","1"),e.spinner(z,!1),h.isMediaBlock||(z.find("li").removeClass("selected"),V&&c("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),b&&z.find(".list .item").remove()))}function U(a){e.lazyLoadingRequired(a,d,h)&&b.dispatch("updateModel",{data:{type:"lazy-loaded"}})}function S(){var a=z.find(".item .imgTagWrapper"),b=e.getContainerHeight(A,h.holderRatio,h.holderMaxHeight);0<b&&(A.height(b),a.height(b));
z.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&g.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=e.getMaxDimensionsOfMainImage(b,A,h);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function R(a){C(d.getCurrentItem(),"mouseenter"===a.type)}function K(){if("function"===typeof p.markFeatureRender){var a={hasComponents:!0,components:[{name:"thumbnail"}]};p.markFeatureRender("imageblock",a)}"function"===typeof p.markFeatureInteractive&&(a=
{hasComponents:!0,components:[{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]},p.markFeatureInteractive("imageblock",a))}function x(a){var b=a?c("#main-image-container .swatchHoverExp .imgTagWrapper img"):c("#main-image-container .list.maintain-height .image.selected .imgTagWrapper img");if(b.length){var d=g.state("imageBlockStateData");if(d&&d.isElongatedImageView){d=b.width();var e=b.height();if(d&&e)d/=e,.615<=d&&.635>=d?b.removeClass("no-border-radius"):b.addClass("no-border-radius");
else g.on("a:image:load",function(){x(a)})}}}function O(){g.on("a:image:load:mbAltImage",function(a){a=a.$imageElement.data("mb-pv-slot-index");p.logContentLoadedMarker&&p.logContentLoadedMarker(a)})}var N,h,d,b,a,r,y,z,A,w={},Q,aa=null,Z=!1,E=!1,V=(da=g.state("imageBlockStateData"))?!da.shouldRemoveCaption:!0;g.on("triggerImageAjax",function(a){if(!h.twisterInteractionSimplificationEnabled){var c=d.getCurrentItem().color;h.colorImages[c]||(h.colorImages[c]=a);a={type:"updatedData",data:d.getCurrentItem()};
b.dispatch("updateView",a);(c=h.colorToAsin[c])&&c.asin&&D.register(e.rankedImagesReadyEvent(c.asin))}});return function(g,m,w,t){N=this;h=g;d=m;b=t;h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];N.render=function(a,b,e,g,l,m,r,n){z=2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment?e:c(".unrolledScrollBox");y=g;A=l;h.twisterInteractionSimplificationEnabled&&"swatchClick"===n?Q=0:(Q=h.isMediaBlock?b:k(b,a,m,n),h.twisterInteractionSimplificationEnabled&&"updatedData"===
n&&((e=document.querySelector("#altImages \x3e ul"))&&"undefined"!==typeof e.classList&&e.classList.remove("js-feature-refresh-overlay"),K()));m?0===b&&B(z.find(".item.itemNo0"),d.getCurrentItem(),"landing"):U(d.getCurrentItem());H(d.getCurrentItem(),!m);b=r;h.twisterInteractionSimplificationEnabled&&(b=function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",a);"function"===typeof r&&r()});2===h.unrolledImageBlockTreatment||
3===h.unrolledImageBlockTreatment?"swatchClick"===n&&h&&h.colorImages?(aa=h.colorImages[a],f(d.getCurrentItem(),b,a,m)):"updatedData"===n&&h&&h.colorImages&&h.colorImages[a]!==aa&&(aa=h.colorImages[a],f(d.getCurrentItem(),b,a,m)):f(d.getCurrentItem(),b,a,m,n);return Q};e.isImageBlockGridViewHoverDelayEnabled()?N.update=function(b){var c=b.data;d.setCurrentEvent(b);"ingress"!==c.type&&"swatchHover"!==b.type&&(d.setToPreviousItem(),"mouseenter"===b.type?(r&&clearTimeout(r),r=setTimeout(function(){d.setToCurrentItem(c);
H(b.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===b.type?r&&clearTimeout(r):"click"===b.type&&(d.setToCurrentItem(c),H(b.data,!1)));"swatchHover"===b.type?("ingress"!==c.type&&H(b.data,!1),c.color===d.getCurrentItem().color?f(d.getCurrentItem(),null,c.color,!0):b.captured||-1===l(c)||(b.captured=!0)):"image"===c.type&&(c.interaction=b.type,c.isUserGenerated=!0,"mouseenter"===b.type?(n.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+Q),a&&clearTimeout(a),a=setTimeout(function(){f(c,
null,c.color,!0);h.usePeekHover||e.selectGivenThumbnail(b.$declarativeParent,y)},e.getHoveringDelayTimer())):"mouseleave"===b.type?a&&clearTimeout(a):"click"===b.type&&(f(c,null,c.color,!0),e.selectGivenThumbnail(b.$declarativeParent,y),n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+Q)))}:N.update=function(a){var b=a.data;d.setCurrentEvent(a);"ingress"!==b.type&&H(a.data,!1);"swatchHover"===a.type?b.color===d.getCurrentItem().color?
f(d.getCurrentItem(),null,b.color,!0):a.captured||-1===l(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&n.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+Q),f(b,null,b.color,!0),h.usePeekHover&&"click"!==a.type||(h.isMediaBlock||e.selectGivenThumbnail(a.$declarativeParent,y),"click"===a.type&&(n.postCountMetric("dpcc_imageThumbClicked_total"),n.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+Q))))};h.overrideAltImageClickAction&&
e.addTag("clickEnabledOnAltImages");b.register("imageHover",R);b.register("resize",S);h.isMediaBlock&&(v(),O())}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(g,c,e,p){function n(e,g){e=c("\x3cimg src\x3d'"+(g?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:g?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(g?"active-tag":"inactive-tag");return e}function F(e){var k=
c("\x3cspan\x3e");g.each(e.tags,function(e){var f=c("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});f.append(n(e,!1));f.append(n(e,!0));f.bind("mouseenter",function(){G(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});g.declarative.create(f,"scenes-show-details-tags-ib",{tagId:e.link});k.append(f)});return k.children()}function G(c){c.addClass("mirai-scene-dot-pulsate");g.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},
4E3)}function J(c,e){c.css({display:"none"});e.css({display:"inline-block"})}function k(c,e,g){c.eq(g).css({display:"inline-block"});e.eq(g).css({display:"none"})}function L(c){D.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){g.trigger("mirai:scene-details-change",{physicalId:c})})}function C(){var e=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),g=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),
k=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");k.html(u.staticStrings.shoppableSceneViewProductsButton);return e.append(g).append(k)[0].outerHTML}function t(c){function e(){c.$tagPlaceholder.replaceWith(f);var e=f.find(".mirai-scene-tag.active-tag"),g=f.find(".mirai-scene-tag.inactive-tag");k(e,g,0);G(f.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));M=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+
c.index,{wb:1});v=!0;p.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(c.shoppableScene){var n=c.$viewProductsButton.find(".a-button-text");if(0===n.children().length){n.append(C());g.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:c.shoppableScene.tags[0].link});var f=F(c.shoppableScene),m=f.find(".mirai-scene-tag.active-tag"),l=f.find(".mirai-scene-tag.inactive-tag"),t=c.shoppableScene.physicalId,v=!1;g.on("mirai:index:change",function(c){c.scenePhysicalId===
t&&(c=c.selectedIndices[0],J(m,l),k(m,l,c),G(f.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),M=!0)});g.on("mirai:scene-details-change",function(c){c.physicalId!==t||M||(J(m,l),k(m,l,0),G(f.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),M=!0)});g.on("mirai:no-products-active",function(c){c.scenePhysicalId===t&&J(m,l)});g.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===t&&(J(m,l),k(m,l,0))});g.on("a:image:load:shoppable-scene:"+c.index,function(){v||
(e(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});g.on("shoppable-scene-image-loaded",function(f){f.index!=c.index||v||(e(),p.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});D.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){g.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});g.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}
var B,u,v,M=!1;return function(c,g,k,f){B=this;u=c;v=f;e.isShoppableScenesEnabled()?(v.register("initialize-shoppable-scene",t),B.render=function(c,e,f,g,k,n,p){},B.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?L(c.data.shoppableScene.physicalId):M=!1)}):(c=function(){},B.render=c,B.update=c)}});D.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:
function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};D.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(g,c,e,D,n,F,G,J){function k(d){return null!==d&&"undefined"!==typeof d}function L(d){var b=0;c.each(d,function(a,d){a=parseInt(d[1],10);a>b&&(b=a)});return b}function C(d){var b=0;c.each(d,function(a,d){a=parseInt(d[0],
10);a>b&&(b=a)});return b}function t(d,b,a){b=b.width();if(a.naturalMainImageSize)return b;d=L(d);0<d&&(b=Math.min(b,d));return b}function B(d,b,a){b=b.height();if(a.naturalMainImageSize)return b;d=C(d);0<d&&(b=Math.min(b,d));return b}function u(d){var b;c.each(d,function(a,d){k(b)||(b=d[1]/d[0])});return b||1}function v(d){if(d){if(0<d.indexOf(".m3u8"))return"application/x-mpegURL";if(0<d.indexOf(".mp4"))return"video/mp4"}return""}function M(d,b){b=b.find("img");k(b[d])&&c(b[d]).click()}function P(d,
b){R[d]=b?b:R[d];return R[d]}function I(d,b,a){a=a||S;a=a.colorImages;if(1>a.length||!k(a[d])||!k(b))return-1;var e=-1;c.each(a[d],function(a,d){d.variant===b&&(e=a)});return e}function T(d,b,a){a=a||S;a=a.colorImages;return!(k(a)&&k(a[d])&&k(a[d][b])&&k(a[d][b].main))||1>c.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}function f(d,b,a,c){c.parent().css("z-index",2);0!==a&&0!==b&&(b/=a,c.css("width",""),c.css("height",""),d>b?c.css("width",b/d*100+"%"):c.css("height",d/b*100+"%"))}function m(d,
b){var a;if(a=d.useIV)a=d.colorImages&&d.colorImages[b]&&0<d.colorImages[b].length?!0:!1;d=a;F.isEnabled&&(F.IVApplicaple=d,G.logImmersiveViewApplicability(c,F));return d}function l(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var H="#imageBlock .variationUnavailable",U,S=c.extend(!0,{},D,n);S.isMediaBlock&&(H="#imageBlock .mediaUnavailableExp");S.isMediaBlock&&!S.lazyLoadExperienceDisabled&&(S.colorToAsin=
{},S.landingAsinColor="initial",S.visualDimensions=[]);var R={},K=0,x=0,O=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,N={},h={};return{isDefined:k,isDefinedAndEmpty:function(d){return k(d)&&"object"===("undefined"===typeof d?"undefined":Y(d))&&0===Object.keys(d).length},isUndefinedOrEmpty:function(d){return k(d)?"object"===("undefined"===typeof d?"undefined":Y(d))&&0===Object.keys(d).length:!0},isDefinedAndNotEmpty:function(d){return k(d)?"object"===("undefined"===typeof d?"undefined":Y(d))&&0<Object.keys(d).length:
!1},isjQueryObjDefined:function(d){return 0!==d.length},getAspectRatio:u,getMaxHeightOfMainImage:B,getMaxWidthOfMainImage:t,getMaxDimensionsOfMainImage:function(d,b,a){if(a.acEnabled)return[b.height(),b.width()];var c=B(d,b,a);b=t(d,b,a);d=u(d);a=b/d;b=Math.min(b,c*d);c=Math.min(c,a);return[c,b]},getContainerHeight:function(d,b,a){var c=d.get(0);d=0;if(k(c)){d=Math.min(c.offsetWidth/b,a);var e;b=S.mainImageHeightPartitions;a=S.mainImageMaxSizes;if(k(a)&&k(b)){var f=0,g=p.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight;for(c=0;c<b.length;c++)g>b[c]&&(f=c+1);a.length>=f&&(e=a[f])}k(e)&&(d=Math.min(e[1],d))}return d},getColorFromState:function(d,b){if(d){b=b||S;var a="";c.each(b.visualDimensions,function(b,c){d[c]&&(a+=" "+d[c])});return a&&a.substring(1)}},createThumbnail:function(d,b,a,c){var e=a.find(".template").clone().removeClass("template").addClass("item"),f=document.createElement("img");f.src=b;e.find(".placeHolder").replaceWith(f);(b=d.heroVideoVariant)&&"hero-image"===d.type&&
d.variant===b&&e.addClass("heroImageThumbnail");k(c)&&e.addClass(c);l()&&e&&(c=document.createElement("div"),c.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(c,f));g.declarative.create(e,"thumb-action",d);e.attr&&(e.attr("data-ux-click",""),d.type&&d.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos"),e.attr("data-csa-c-posy",d.thumbnailIndex+
1),f.alt="Product Video"):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover"),e.attr("data-csa-c-posy",d.thumbnailIndex+1),f.alt="Product Image"));a.append(e);return e},updateImageThumbnailOverlay:function(c,b,a){c.find(".textMoreImages").append(a.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(c,b){c=c.find(".a-button");var a=c.find(".a-button-input");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
b.find(".a-button-input").attr("aria-checked","false");c.addClass("a-button-selected").addClass("a-button-focus");a.attr("aria-checked","true")},loadMediaIntoAiry:function(c,b,a,e){c&&c.getMediaSourceInfo()!==b.url&&(e?c.loadMedia?(U={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web",title:b.title,altText:b.altText},c.loadMedia(U)):c.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):
c.loadMedia?c.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):c.setInitialData({videoUrl:b.url,mimeType:v(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId,title:b.title,altText:b.altText}))},showUnavailable:function(d){d&&(S.isMediaBlock&&c("#imageBlock .canvas").find("li").removeClass("selected"),
c("#imageBlock .unvailableVariation").html(d),c(H).show())},hideUnavailable:function(){c(H).hide()},fadeToThumbnail:function(c,b,a){b.fadeTo(500,0,function(){M(c,a);b.fadeTo(500,1)})},toggleVideoCaption:function(c){c&&c.toggle()},selectThumbnail:M,spinner:function(d,b){var a=c("#imageBlock .a-spinner").parent();0===a.length&&(a=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),d.append(a),a.css({position:"absolute",left:"50%",top:"50%",
transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?a.show():a.hide();return a},rankedImagesReadyEvent:function(c){return"ranked-images-ready-for-"+c},ajaxState:P,getIndexForVariant:I,getImageHash:T,lazyLoadingRequired:function(c,b,a){b=Math.max(I(c.color,b.getCurrentItem().variant,a),0);b=-1!==T(c.color,b,a);
c=a.colorToAsin[c.color]&&a.colorToAsin[c.color].asin;c=!c||"success"!==P(c);return!a.lazyLoadExperienceDisabled&&!b&&c},lazyLoadOnHoverEnabled:function(c){return!c.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:f,repositionVideoBanner:function(c,b,a,e){setTimeout(function(){var a=c.width()/c.height();f(a,16,9,b)},e||0)},getVideosCount:function(c,b){return b.useChildVideos&&b.colorToVideo[c]?b.colorToVideo[c].length:b.videos?b.videos.length:0},getVideoHash:function(c,b,a){if(a.useChildVideos){if(!k(a.colorToVideo))return-1;
c=a.colorToVideo[c]}else c=a.videos;return k(c)&&k(c[b])&&k(c[b].url)?c[b]:-1},isImmersiveViewEnabled:m,playVideoInImmersiveView:function(c,b){return m(c,b)&&c.useTabbedImmersiveView},useTabbedImmersiveView:function(c){return c.useTabbedImmersiveView},getMediaSourceInfo:function(){return k(U)?U.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(c,b,a){var d=a.marketPlaceID,e=a.languageCode;a={videoURL:a.url,imageURL:a.slateUrl};a:{if(c)if(c.colorToAsin&&c.colorToAsin[b]&&c.colorToAsin[b].asin){c=
c.colorToAsin[b].asin;break a}else if(c.mediaAsin){c=c.mediaAsin;break a}c=""}return{requester:"DetailPageTablet",marketplaceID:d,clientPrefix:"ImageBlock_tablet",locale:e,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:a,product:{contentID:c,contentIDType:"ASIN"}}},addTag:function(c){p.ue&&p.ue.tag&&p.ue.tag(c)},isShoppableScenesEnabled:function(){return J.isEnabled&&0<c(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:l,isImageBlockGridViewHoverDelayEnabled:function(){return 0<
c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return K},updateThumbnailHoverDelay:function(c){if(k(c)){K=0;var b=c.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var a=x;c=c.closest("ul").attr("class");c===V?a=!1:(c=O.exec(c),null===c||3!==c.length?a=!1:(c=c[2],a=Math.floor(a/c)>Math.floor(b/c)));a&&(K=100);x=b}}},setDimensionIngressData:function(c,b,a){N[c]=
b;h[c]=a},isDimensionIngressEnabled:function(c){return!!N[c]},getDimensionVariantList:function(c){return h[c]},logError:function(c,b,a,e){p.ueLogError&&p.ueLogError(e,{logLevel:c,attribution:b,message:a})},getTwisterColorFromState:function(d){if(d){var b="",a=Object.keys(d).sort();c.each(a,function(a,c){d[c]&&(b+=" "+d[c])});return b&&b.substring(1)}},customerId:""}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(g,c,e,da,n,F){function G(b,d,f,g){!a.autoplayVideo||la||a.useChromelessVideoPlayer?!e.isjQueryObjDefined(b.find(".a-button-selected"))&&(f=r.getCurrentItem(),!g||a.prioritizeVideos||"chromeless-video"===f.type&&a.autoplayVideo)&&(g=e.getVideoHash(f.color,0,a),-1===g||f.thumbnailIndex>=a.maxAlts-1||(d+=0,y.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=b.find(".item").get(d),e.selectGivenThumbnail(c(d),
b))):(e.selectGivenThumbnail(b.find("img:last"),b),e.fadeToThumbnail(b.find("img").length-1,Q,b))}function J(c){if(!a.twisterInteractionSimplificationEnabled){var b=r.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[b]){var d=function(){if(c){a.colorToVideo[b]=c;var d={type:"updatedData",data:r.getCurrentItem()};y.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():D.when(e.rankedImagesReadyEvent(a.colorToAsin[b].asin)).execute(function(){d()})}}}function k(c){if(!a.useChildVideos)return e.lazyLoadingRequired(r.getCurrentItem(),
r,a)?void 0:a.videos;if(a.colorToVideo[c])return a.colorToVideo[c];var b=a.colorToAsin[c];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){J(a)},da.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[c]}}function L(c){var b=g.$("#main-video-container");0<b.length&&(b.find(".ive-video-thumbnail").addClass("aok-hidden"),
b.find(".videoTagWrapper").addClass("aok-hidden"));E&&null===c&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(E.hide(),A.parent().css("z-index",-1),w&&w.hide())}function C(c,b,d){b=Q.width()/Q.height();var f=parseInt(c.videoWidth,10),g=parseInt(c.videoHeight,10);e.updateAspectRatio(b,f,g,A);if(E&&"unrolled-video-add"!==d)E.show(),e.loadMediaIntoAiry(E,c,Y,a.tabletWeb);else if(a.tabletWeb)E=W;else{if("unrolled-video-add"===d){E=W;return}if(null===W||W===V)ea=setInterval(function(){E=
W;E!==V&&null!==E&&(E.show(),e.loadMediaIntoAiry(E,c,Y,a.tabletWeb),t(),T(E),clearInterval(ea),ea=null)},500);else if(E=W,E!==V&&null!==E){E.show();e.loadMediaIntoAiry(E,c,Y,a.tabletWeb);t();T(E);return}}t();T(E)}function t(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(e.useTabbedImmersiveView(a)){g.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden");g.$("#main-video-container").find(".videoTagWrapper").removeClass("aok-hidden");if(1<e.getVideosCount(r.getCurrentItem().color,
a)&&w){if(e.isDefined(aa)){w.show();return}aa=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.clickForFullView);w.find("#videoCaption").append(aa);g.declarative.create(aa,"videoIngressClick",q)}e.playVideoInImmersiveView(a,r.getCurrentItem().color)&&(g.declarative.create(A,"videoIngressClick",q),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else w&&(w.find("#videoCaption").text(a.staticStrings.playVideo),
w.show())}function B(b,d){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===d){var f=e.getVideoHash(b.color,b.index,a);if(-1===f)return-1;if(a.isMediaBlock&&(q={type:b.type,index:b.index,thumbnailIndex:b.thumbnailIndex,variant:b.variant},"updatedData"!==Z)){var g=c("#main-image-container").find(".item.itemNo"+b.thumbnailIndex).find(".a-list-item");e.isjQueryObjDefined(g)&&(g.find("#video-outer-container").length||c("#main-image-container").find("#video-outer-container").detach().appendTo(g))}"chromeful-video"===
b.type&&C(f,b.thumbnailIndex+1,d)}}function u(a){ha||(ha=!0,n.postCountMetric("chromeless-video"===a?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}function v(b,c,d){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===d)return 0;c=k(c);e.isDefined(c)&&(R(x),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-a.imageBlockRenderingStartTime));return b}function M(b,f,l,m){if(a.twisterInteractionSimplificationEnabled&&"swatchClick"===
m)return b=0;if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&l)return b;var ka=k(f);f=b;m=c(".unrolledImg");var p=e.isDefined(ka)&&0<ka.length&&a.alwaysIncludeVideo?1:0;e.isDefined(ka)&&0<ka.length&&!a.alwaysIncludeVideo&&b===a.maxAlts&&n.postCountMetric("IBVideoDrop");m.length>a.maxAlts&&m.each(function(b){b>=a.maxAlts&&c(this).remove()});p&&b===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):
z.find(".item:last").remove(),b--);e.isDefined(ka)&&(c.each(ka,function(f,g){if(b<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+l+" thumbIndex"+f+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
b+'" class\x3d"videoIndex'+f+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||P(c(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{l=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:l,index:f,thumbnailIndex:b,variant:g.variant};q={type:"video-ingress",index:f,thumbnailIndex:b,variant:g.variant};e.useTabbedImmersiveView(a)&&("chromeful-video"===
l&&(oa+=" videoBlockIngress  videoBlockDarkIngress",g.thumb=g.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(oa+=" a-align-top"));e.isImageBlockGridViewDisplayEnabled()&&(oa+=" videoImageBlockGridView");e.createThumbnail(k,g.thumb,z,oa);2===a.dp60VideoPosition&&P(z,a.dp60VideoPosition);e.useTabbedImmersiveView(a)&&(I(z.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),k=ka.length,null!==a.totalVideoCount&&a.totalVideoCount!==V&&(k=a.totalVideoCount),f=1<k?"multiple-videos":
"one-video",(k=1<k?k+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo)&&z.find(".videoBlockIngress").append(z.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(f));ua=e.useTabbedImmersiveView(a)?ka.map(function(a){return a.mediaObjectId}).join(","):g.mediaObjectId;g=n.buildNexusMetric("ib.thumbnailRender",b+1,g.mediaObjectId,g.rankingStrategy,e.customerId,g.groupType,fa,X,ba,ca,ua);f=h(a,r.getCurrentItem().color);f!==g.pageAsin&&(g.pageAsin=f,g.pageUrl=d(f));
n.emitNexusMetric(g);u(l)}b++}if(e.useTabbedImmersiveView(a))return!1}),G(z,f,b,l),R(x),a.imageBlockRenderingStartTime&&n.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-a.imageBlockRenderingStartTime));return b}function P(b,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=b.children(".thumbTypeimage");b=b.children(".thumbType"+e);f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);b=
c(".unrolledScrollBox .list-unrolled");f=b.children(".unrolledImg.imgMedia");b=b.children(".unrolledImg.videoMedia");f&&b&&f[d-1]&&c(f[d-1]).before(b[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),
f&&b&&f[d-1]&&c(f[d-1]).before(b[0])}function I(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function T(b){a.autoplayVideo&&b&&!la&&(w&&e.toggleVideoCaption(w),b.setVolume(0),b.show(),b.play(),la=!0)}function f(b){if("click"===b.$event.type||"keypress"===b.$event.type&&13===b.$event.keyCode){E&&E.pause();b.data=q;b.clickTimeStamp=b.$event.timeStamp;var d="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";y.dispatch("imageClick",
b);n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=n.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,e.customerId,a.videos[0].groupType,fa,X,ba,ca);n.emitNexusMetric(b);n.postCountMetric(d);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}}function m(a){null!==E&&E!==V&&(E.frame&&E.frame.remove(),E=null,W.frame&&W.frame.remove(),
W=null);W=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");W.hide=function(){W.pause();g.$("#main-video-container").find(".vse-player-container").hide()};W.show=function(){g.$("#main-video-container").find(".vse-player-container").show()};W.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}function l(b,d,l,k,m,n){L(n);A=null!==n?c("#unrolledImgNo"+n.thumbnailIndex):k.find("#main-video-container");za&&(w=null!==n?"":A.parent().find("#video-canvas-caption"));
Q=null!==n?c(".unrolledScrollBox"):c("#main-image-container");null===n&&e.isImageBlockGridViewDisplayEnabled()&&(A.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));fa=p.location.href;b=r.getCurrentItem().color;!0===m?X=a.mediaAsin:(X=a.colorToAsin[b]&&a.colorToAsin[b].asin,X=e.isDefined(X)?X:a.mediaAsin);a.useChromelessVideoPlayer||A.addClass("chromeful-container");null!==n?B(n,"unrolled-video-add"):B(r.getCurrentItem(),"");e.useTabbedImmersiveView(a)&&g.declarative("videoIngressClick",
["click","keypress"],f);if(-1!==q&&null!==n){b=r.getCurrentItem().color;var q=e.getVideoHash(b,n.index,a);e.useTabbedImmersiveView(a)||(m={requester:"MediaBlockSoftlines",marketplaceID:q.marketPlaceID,clientPrefix:"mbSoftlines"+n.thumbnailIndex,locale:q.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:q.url,imageURL:q.slateUrl},product:{contentID:h(a,b),contentIDType:"ASIN"}},F.get(g,"#unrolledImgNo"+n.thumbnailIndex,m,
function(){g.$("#unrolledImgNo"+n.thumbnailIndex).find(".vse-player-container").show()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}}function H(a){var b=g.$("#main-video-container");if(b&&b.length){var d=b.find(".videoTagWrapper");d&&d.length||(d=g.$("\x3cdiv\x3e",{"class":"videoTagWrapper"}),b.append(d));b=d.find(".ive-video-thumbnail");b&&b.length||(b=g.$("\x3cimg\x3e",{"class":"a-image-wrapper a-lazy-loaded a-manually-loaded ive-video-thumbnail",style:"max-height: 100%; max-width: 100%",
alt:""}),d.append(b));a&&a.slateUrl&&(b.attr({src:a.slateUrl,"data-a-image-source":a.slateUrl}),b.removeClass("aok-hidden"),d.removeClass("aok-hidden"),d=c("#main-video-container .ive-video-thumbnail"),g.loadImageManually(d),g.$("#main-video-container").find(".ive-video-thumbnail").removeClass("aok-hidden"),d=document.querySelector("#main-video-container .videoTagWrapper img.ive-video-thumbnail"))&&(d.setAttribute("tabindex","0"),d.setAttribute("alt",a.title),d.setAttribute("role","button"),d.setAttribute("type",
"submit"))}}function U(a,b){function d(){var a=Math.floor((z.width()-1)/l);return f?a-1:a}function e(a){a=d();b.slice(a).hide();b.slice(0,a).show();b.find(".textMoreImages").remove();b.removeClass("overlayRestOfImages");b.find("img").each(function(){c(this).parent().attr("aria-hidden","true")});if(a<b.length){var e=a-1;a=b.eq(e);b.eq(e).find("img").parent().attr("aria-hidden","false");e=b.length-e;e=c("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");a.find("img").after(e);a.addClass("overlayRestOfImages")}}
var f=0!=z.find(".item.videoThumbnail").length,g=b.eq(0).width(),h=b.eq(1).position().left-b.eq(0).position().left-g,l=g+h;e();a.register("resize",e)}function S(a){var b=z.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==V&&c.decode().then(function(){U(a,b)})}}function R(a){try{if(!a)return!1;sa=a;pa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ra&&ra.disconnect();0<pa.length&&(ra=new IntersectionObserver(K,
a));pa.forEach(function(a){ra.observe(a)})}catch(va){n.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function K(a){sa(a,wa,xa,pa,ya)}function x(a,b,d,e,f){try{c.each(a,function(a,g){var h=c(e).index(g.target);g.isIntersecting?qa[h]||(qa[h]=setTimeout(function(){b=b.slice();b.push(h);d=b.sort(function(a,b){return a-b});var a=O(d,f);if(0!==a.length&&0!==d.length){var c=r.getCurrentItem().color;c=k(c);N(c,a);delete qa[h]}},1E3)):(clearTimeout(qa[h]),delete qa[h],b=b.filter(function(a){return a!==
h}),d=b.sort(function(a,b){return a-b}))})}catch(Ba){n.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function O(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function N(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===pa.length?a[0]:a[c])b=n.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,e.customerId,c.groupType,p.location.href,X,ba,ca),n.emitNexusMetric(b)})}catch(Aa){n.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function h(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}function d(a){fa=p.location.href;return fa.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+a)}var b,a,r,y,z,A,w,Q,aa,Z,E,Y,q,ja,W,X,fa,ba,ca,ia,ma,na,ha=!1,la=!1,oa="videoThumbnail",ea=null,ra=null,xa,ya=[],pa,wa=[],sa=null,ta=g.state("imageBlockStateData"),za=ta?!ta.shouldRemoveCaption:!0,qa={},ua;return function(d,f,k,p){b=this;a=d;r=f;y=p;Y=a.airyConfig;
ba=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;e.customerId=e.customerId||a.customerId||"";a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ia="tablet",ca="applicationType.ImageBlock.vse_ib_tablet_web"):g.capabilities.tablet?(ia="tablet",g.capabilities.isAmazonApp&&(ca="applicationType.ImageBlock.vse_ib_tablet_app")):(ia="desktop",ca="desktop_web.ImageBlock.vse_ib_iv");b.render=function(b,d,f,k,m,n,p,q){p=g.$("#main-video-container");
0<p.length&&(p.find(".ive-video-thumbnail").addClass("aok-hidden"),p.find(".videoTagWrapper").addClass("aok-hidden"));a.isMediaBlock&&(aa=V,Z=q);if(null!==ea||a.twisterInteractionSimplificationEnabled&&"swatchClick"===q)clearInterval(ea),ea=null,A&&A.parent&&A.parent().css("z-index",-1),w&&w.hide&&w.hide();if(!a.twisterInteractionSimplificationEnabled||"swatchClick"!==q){p=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){z=c("ul.regularAltImageViewLayout");ja=M(d,b,n,q);
p=[];d=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(q=0;q<d.length;q++){var t=d[q].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",u=Number(d[q].classList[2].slice(10)),x=c(".thumbItemUnrolled").index(d[q]);p.push({color:b,thumbnailIndex:x,type:t,varient:"MAIN",index:u})}for(q=0;q<p.length;q++)l(b,f,k,m,n,p[q])}else z=k,ja=a.isMediaBlock?v(d,b,q):
M(d,b,n,q),l(b,f,k,m,n,null),k=r.getCurrentItem().color,m=e.getVideoHash(k,0,a),-1!==m&&(b=function(){g.$("#main-video-container").find(".vse-player-container").hide()},f=function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()},a.tabletWeb?(k=e.getNilgiriServiceAjaxRequest(a,k,m),F.get(g,"#main-video-container",k,b,f)):e.useTabbedImmersiveView(a)||(k={requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines",locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",
alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,imageURL:m.slateUrl},product:{contentID:h(a,k),contentIDType:"ASIN"}},F.get(g,"#main-video-container",k,b,f)));a.collapsibleThumbnails&&S(y);return ja}};b.setupIntersectionObserverToWatchVideoThumbnail=R;b.emitMultipleImpressionMetric=N;e.isImageBlockGridViewHoverDelayEnabled()?b.update=function(b){var c=g.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));
null!==ea&&(clearInterval(ea),ea=null,A&&A.parent&&A.parent().css("z-index",-1),w&&w.hide&&w.hide());var d=b.data;"ingress"===d.type||"swatchHover"===b.type||e.lazyLoadingRequired(d,r,a)||(r.setToPreviousItem(),"mouseenter"===b.type?(na&&clearTimeout(na),na=setTimeout(function(){r.setToCurrentItem(d);L(null)},e.getHoveringDelayTimer())):"mouseleave"===b.type?na&&clearTimeout(na):"click"===b.type&&(r.setToCurrentItem(d),L(null)));if("swatchHover"===b.type)"ingress"===d.type||e.lazyLoadingRequired(d,
r,a)||L(null),d.color===r.getCurrentItem().color?B(r.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(d,r,a)&&!e.lazyLoadOnHoverEnabled(a)&&B(r.getCurrentItem(),"");else if("chromeful-video"===d.type)if(c=e.getVideoHash(d.color,d.index,a),"mouseenter"===b.type)e.useTabbedImmersiveView(a)&&H(c),n.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ja),c=n.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.rankingStrategy,e.customerId,c.groupType,fa,X,ba,
ca),n.emitNexusMetric(c),ma&&clearTimeout(ma),ma=setTimeout(function(){B(d,"");!a.usePeekHover&&g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&e.selectGivenThumbnail(b.$declarativeParent,z)},e.getHoveringDelayTimer());else if("mouseleave"===b.type)ma&&clearTimeout(ma);else if("click"===b.type&&(B(d,""),g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail"))){e.selectGivenThumbnail(b.$declarativeParent,z);var f=n.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,
c.rankingStrategy,e.customerId,c.groupType,fa,X,ba,ca);(!e.useTabbedImmersiveView(a)&&"chromeless-video"===d.type||"tablet"==ia)&&n.emitNexusMetric(f);e.useTabbedImmersiveView(a)&&(n.emitNexusMetric(f),n.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ja),H(c),q.action="videoIngressClick",q.clickTimeStamp=b.$event.timeStamp,q.$event=b.$event,q.$currentTarget=b.$currentTarget,y.dispatch("videoIngressClick",q),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))}}:b.update=
function(b){var c=g.$("#main-video-container");0<c.length&&(c.find(".ive-video-thumbnail").addClass("aok-hidden"),c.find(".videoTagWrapper").addClass("aok-hidden"));null!==ea&&(clearInterval(ea),ea=null,A&&A.parent&&A.parent().css("z-index",-1),w&&w.hide&&w.hide());c=b.data;"ingress"===c.type||e.lazyLoadingRequired(c,r,a)||L(null);if("swatchHover"===b.type)c.color===r.getCurrentItem().color?B(r.getCurrentItem(),""):b.captured||e.lazyLoadingRequired(c,r,a)&&!e.lazyLoadOnHoverEnabled(a)&&B(r.getCurrentItem(),
"");else if("chromeful-video"===c.type){var d=e.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type){e.useTabbedImmersiveView(a)&&H(d);n.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ja);var f=n.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,e.customerId,d.groupType,fa,X,ba,ca);n.emitNexusMetric(f)}B(c,"");a.usePeekHover&&"click"!==b.type||!g.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(a.isMediaBlock||e.selectGivenThumbnail(b.$declarativeParent,
z),"click"===b.type&&(f=n.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.rankingStrategy,e.customerId,d.groupType,fa,X,ba,ca),(!e.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==ia)&&n.emitNexusMetric(f),e.useTabbedImmersiveView(a)&&(n.emitNexusMetric(f),n.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ja),H(d),q.action="videoIngressClick",q.clickTimeStamp=b.$event.timeStamp,q.$event=b.$event,q.$currentTarget=b.$currentTarget,y.dispatch("videoIngressClick",
q),n.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};if(!a.twisterInteractionSimplificationEnabled&&a.isDPXFeatureEnabled)g.on("triggerVideoAjax",J);g.on("vsePlayer-imageblock_tablet",m);g.on("vsePlayer-mbsoftlines",m)}});"use strict";D.when("ImageBlockBTF","postMetric","MediaBlockTwisterRefreshDataLoader").register("ImageBlockInitViews",function(g,c,e){function V(c,e,G,J,k){function n(b){"click"===b.type&&J.postCountMetric("thumbClick");x.isMediaBlock&&(G.selectGivenThumbnail(b.$declarativeParent,
h),t(b));"click"===b.type&&x.overrideAltImageClickAction?O.dispatch("thumbActionClick",b):O.dispatch("updateSelection",b)}function C(){e("#imageBlock .canvas").find("li").removeClass("selected");(d?!d.shouldRemoveCaption:1)&&e("#image-canvas-caption #canvasCaption").empty();G.hideUnavailable()}function t(b){C();var a=b.data.thumbnailIndex,c=e("#imageBlock .canvas").find(".item.itemNo"+a);G.isjQueryObjDefined(c)?(c.addClass("selected"),p.logSlotLoadedMarker&&p.logSlotLoadedMarker(a)):(G.showUnavailable(b.data.color),
J.postCountMetric("mediaBlock_pv_slot_missing_on_thumbnail_"+a),p.ueLogError&&p.ueLogError({message:"Thumbnail item not found for index: "+a},{logLevel:"Error",attribution:"mediaBlock-desktop-pv-thumbnail-item-missing"}))}function B(b){x.useClickZoom||O.dispatch("imageClick",b)}function u(b){x.useClickZoom||O.dispatch("imageHover",b)}function v(b){O.dispatch("button360Click",b)}function F(b){O.dispatch("captionClick",b)}function P(b){!G.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?
(K.update(b),"swatchHover"!==b.type&&N.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&J.postCountMetric(b.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",b.data)):(K.render(b.data.color,!1,b.onload,b.type),x.twisterInteractionSimplificationEnabled||(b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof p.markFeatureRender&&p.markFeatureRender("imageblock",b)))}function I(b){O.dispatch("resize",b)}function T(b){G.selectThumbnail(b,
h)}function f(){"function"===typeof p.markFeatureInteractive&&p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function m(){x.interactiveCallJSPEnabled||("function"===typeof p.markFeatureInteractive&&(x.twisterInteractionSimplificationEnabled?p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!1}]}):
p.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]})),1===g.useIV?D.when("a-modal").execute(function(){f()}):f());x.disableHoverOnAltImages||c.declarative("thumb-action",["mouseenter","mouseleave"],n);c.declarative("thumb-action",["click"],n);c.declarative("main-image-click",["click"],B);c.declarative("main-image-click",["keydown"],function(b){var a=b.$event;
"keyCode"in a&&13===a.keyCode&&B(b)});c.declarative("main-image-click",["mouseenter","mouseleave"],u);c.declarative("button-360-click",["click"],v);c.declarative("iv-open-caption-click",["click"],F);c.on("resize",I)}function l(b){var a=b.data,c;a&&"ingress"!==a.type&&"click"===b.type&&(c=b);return c}function H(b){var a=N.getCurrentItem(),c={type:"click"};c.$declarativeParent=b;c.data=a;return c}function U(){var b=h.find(".item.imageThumbnail");if(!(1>=b.length)){var a=N&&N.getCurrentItem()&&N.getCurrentItem().color;
a=(a=x.colorImages&&a&&x.colorImages[a])&&a.length;b.removeClass("overlayRestOfImages");b.length<a&&(b.eq(b.length-1).addClass("overlayRestOfImages"),b=document.createElement("div"),b.className="lastAltImageOverlay",(a=(a=(a=document.getElementsByClassName("overlayRestOfImages")[0])&&a.getElementsByTagName("img"))&&0<a.length&&a[0])&&a.parentNode&&(a.parentNode.insertBefore(b,a),a=(a=a.parentNode.getElementsByClassName("textMoreImages"))&&0<a.length&&a[0]))&&("T1"===x.desktopCollapsibleThumbnailsExperience?
(a.classList.add("textMoreImages-t1"),b.classList.add("lastAltImageOverlay-t1"),J.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===x.desktopCollapsibleThumbnailsExperience&&(a.classList.add("textMoreImages-t2"),b.classList.add("lastAltImageOverlay-t2"),J.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function S(b,a){b.data.color===N.getCurrentItem().color?t(b):(C(),a.find(".swatchHoverExp").addClass("selected"))}function R(b){G.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===
b.type&&G.updateThumbnailHoverDelay(b.$target)}var K,x,O,N,h,d=c.state("imageBlockStateData");return function(b,a,c){K=this;x=b;O=a;N=c;h=e("#imageBlock #altImages ul");var d=e("#imageBlock .canvas"),f=e("#main-image-container"),g;K.subViews=[];for(a=0;a<k.length;a++)K.subViews.push(new k[a](b,c,K,O));K.render=function(a,b,c,l){var k=0;h=e("#imageBlock #altImages ul");d=e("#imageBlock .canvas");f=e("#main-image-container");x.isMediaBlock&&"swatchClick"===l&&(O.dispatch("updateTwisterHoverState",!1),
C(),e("#imageBlock .canvas").find(".desktop-media-mainView").empty());x.isMediaBlock||x.twisterInteractionSimplificationEnabled&&"swatchClick"===l||h.find(".item").remove();a=a||N.getCurrentItem().color;e.each(K.subViews,function(e,g){k=(x.twisterInteractionSimplificationEnabled||2===x.unrolledImageBlockTreatment||3===x.unrolledImageBlockTreatment?g.render(a,k,d,h,f,b,c,l):g.render(a,k,d,h,f,b,c))||k});x.isMediaBlock||"T1"!==x.desktopCollapsibleThumbnailsExperience&&"T2"!==x.desktopCollapsibleThumbnailsExperience||
U();var m=h.find(".a-button-selected").closest(".a-declarative");g=H(m)};K.init=function(){h=e("#imageBlock #altImages ul");var a=h.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=x.landingAsinColor||x.defaultColor;O.dispatch("updateModel",{data:a});K.render(a.color,!0);x.isDebug&&p.console&&console.log(x);O.register("updateView",P);O.register("selectThumbnail",T);m()};K.update=function(a){R(a);x.isMediaBlock&&"swatchHover"===a.type&&N.getShouldUpdateOnTwisterHover()&&
S(a,d);e.each(K.subViews,function(b,c){c.update(a)});x.isMediaBlock&&O.dispatch("updateTwisterHoverState",!0);x.usePeekHover&&("mouseleave"===a.type?O.dispatch("updateSelection",g):"click"===a.type&&(g=l(a)||g))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);D.when.apply(D,c).register("ImageBlockView",function(){for(var c=arguments[0],e=arguments[1],g=arguments[2],p=arguments[3],k=[],D=4,C=arguments.length;D<C;D++)k.push(arguments[D]);return V(c,e,g,p,k)})})});
/* ******** */
(function(t){var y=window.AmazonUIPageJS||window.P,oa=y._namespace||y.attributeErrors,h=oa?oa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):y;h.guardFatal?h.guardFatal(t)(h,window):h.execute(function(){t(h,window)})})(function(t,y,oa){t.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,d,w,p){function ia(b,f){var c=a(b+" image").attr("data");a(b+" image")[0].setAttribute("href",
c);b=new Image;b.src=c;b.onload=function(){f(this.width/this.height)}}function u(b){null!==a(b.euclidSvg)&&(new Promise(function(a,c){ia(b.euclidSvg,a)})).then(function(f){if(null===a(b.featureDiv)||0===a(b.featureDiv).length||0>=f)var c=null;else{var d=a(b.featureDiv).width(),ta=a(b.featureDiv).height(),k=2*(16+A(b.euclidHeightText,b.numberSpace)+10),n=d-k,h=a(b.euclidHeightLine).data("euclid-height-startx");0>h?k+=n*Math.abs(h)*2:1<h&&(k+=n*(h-1)*2);n=d-k;0>n&&(k=152);var m=a(b.euclidWidthLine).data("euclid-width-starty"),
S=1<m?ta*(m-1)+50:50,r=ta-S;if(n/r>f)var I=r*f,v=r,Y=r*f+k,B=ta;else I=n,v=n/f,Y=d,B=n/f+S;c={imageWidth:I,imageHeight:v,svgWidth:Y,svgHeight:B}}if("undefined"===typeof c||null===c||10>=c.imageWidth||10>=c.imageHeight||10>=c.svgWidth||10>=c.svgHeight)p.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var J=c,q=b.euclidSvg;a(q+" image").attr("width",J.imageWidth);a(q+" image").attr("height",J.imageHeight);a(q).attr("width",J.svgWidth);a(q).attr("height",J.svgHeight);var D=(J.svgWidth-J.imageWidth)/
2;a(q+" image")[0].setAttribute("x",D);a(q+" image")[0].setAttribute("y",10);var L=J.imageWidth,w=J.imageHeight,z=(J.svgWidth-J.imageWidth)/2,u=a(b.euclidLengthLine).data("euclid-length-startx")*L,x=a(b.euclidLengthLine).data("euclid-length-starty")*w,M=a(b.euclidLengthLine).data("euclid-length-endx")*L,Z=a(b.euclidLengthLine).data("euclid-length-endy")*w,C=a(b.euclidWidthLine).data("euclid-width-startx")*L,ca=a(b.euclidWidthLine).data("euclid-width-starty")*w,ia=a(b.euclidWidthLine).data("euclid-width-endx")*
L,aa=a(b.euclidWidthLine).data("euclid-width-endy")*w,H=a(b.euclidHeightLine).data("euclid-height-startx")*L,O=a(b.euclidHeightLine).data("euclid-height-starty")*w,P=a(b.euclidHeightLine).data("euclid-height-endx")*L,qa=a(b.euclidHeightLine).data("euclid-height-endy")*w,gb=(aa-ca)/(ia-C),hb=0>=gb?"leftInclined":"rightInclined",Ra=1/gb,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),ra=0===pa?16:Math.abs(Ra*pa),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),G=0===sa?3:Math.abs(Ra*
sa),T=(Z-x)/(M-u),Q=1/T,t=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Q,2)))),y=0===t?16:Math.abs(Q*t),F=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Q,2)))),N=0===F?3:Math.abs(Q*F),ba=0>=T?"leftInclined":"rightInclined";if(.5<a(b.euclidHeightLine).data("euclid-height-startx")){var U=H+z+16,V=O+10,W=P+z+16,na=qa+10,ha=H+z+16-3,ja=O+10,ma=H+z+16+3,ka=O+10,oa=P+z+16-3,ib=qa+10,jb=P+z+16+3,kb=qa+10,lb=(U+W)/2+5,mb=(V+na)/2+8,Aa=ia+z+pa,Ba=aa+ra+10,Ca=C+z+pa,Da=ca+ra+10,nb=ia+z+pa-sa,ob=aa+ra-G+10,
pb=ia+z+pa+sa,qb=aa+ra+G+10,rb=C+z+pa-sa,sb=ca+ra-G+10,tb=C+z+pa+sa,ub=ca+ra+G+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=u+z-t,Fa=x+y+10,Ga=M+z-t,Ha=Z+y+10,vb=u+z-t-F,wb=x+y+N+10,xb=u+z-t+F,yb=x+y-N+10,zb=M+z-t-F,Ab=Z+y+N+10,Bb=M+z-t+F,Cb=Z+y-N+10,Fb=A(b.euclidLengthText,b.numberSpace);if("leftInclined"===ba)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Fb,Va=(Fa+Ha)/2+15}else{U=H+z-16;V=O+10;W=P+z-16;na=qa+10;ha=H+z-16-3;ja=O+10;
ma=H+z-16+3;ka=O+10;oa=P+z-16-3;ib=qa+10;jb=P+z-16+3;kb=qa+10;var Gb=A(b.euclidHeightText,b.numberSpace);lb=(U+W)/2-Gb-3;mb=(V+na)/2+8;Aa=ia+z-pa;Ba=aa+ra+10;Ca=C+z-pa;Da=ca+ra+10;nb=ia+z-pa-sa;ob=aa+ra+G+10;pb=ia+z-pa+sa;qb=aa+ra-G+10;rb=C+z-pa-sa;sb=ca+ra+G+10;tb=C+z-pa+sa;ub=ca+ra-G+10;var Db=A(b.euclidWidthText,b.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Db,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Db,Ta=(Ba+Da)/2+15);Ea=u+z+t;Fa=x+y+10;Ga=M+z+t;Ha=Z+y+10;vb=u+z+t+F;wb=x+y+N+10;xb=u+z+t-F;yb=x+y-N+10;
zb=M+z+t+F;Ab=Z+y+N+10;Bb=M+z+t-F;Cb=Z+y-N+10;"leftInclined"===ba?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Hb=Ea;var Ib=Fa;var Jb=Ga;var Kb=Ha;var Lb=vb;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Ua;var Ub=Va;var Vb=Aa;var Wb=Ba;var Xb=Ca;var Yb=Da;var Zb=nb;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=Sa;var hc=Ta;var ic=U;var jc=V;var kc=W;var lc=na;var mc=ha;var nc=ja;var oc=ma;var pc=ka;var qc=oa;var rc=
ib;var sc=jb;var tc=kb;var uc=lb;var vc=mb;X(q+" .hit-pd-euclid-height-line",ic,jc,kc,lc);X(q+" .hit-pd-euclid-height-start",mc,nc,oc,pc);X(q+" .hit-pd-euclid-height-end",qc,rc,sc,tc);ea(q+" .hit-pd-euclid-height-text",uc,vc);X(q+" .hit-pd-euclid-width-line",Vb,Wb,Xb,Yb);X(q+" .hit-pd-euclid-width-start",Zb,$b,ac,bc);X(q+" .hit-pd-euclid-width-end",cc,dc,ec,fc);ea(q+" .hit-pd-euclid-width-text",gc,hc);X(q+" .hit-pd-euclid-length-line",Hb,Ib,Jb,Kb);X(q+" .hit-pd-euclid-length-start",Lb,Mb,Nb,Ob);X(q+
" .hit-pd-euclid-length-end",Pb,Qb,Rb,Sb);ea(q+" .hit-pd-euclid-length-text",Tb,Ub);K("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(b===R&&"dimension-ingress-image"===E.getCurrentItem().type?(g(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),p.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-l)):b===fa&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),p.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-la)))}});K("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&N(b===R,E.getCurrentItem(),null)}function A(b,f){return a(b).text().replace(/[^0-9]/g,"").length*f+5}function X(b,f,c,l,d){b=a(b)[0];b!==oa&&null!==b&&(b.setAttribute("x1",f),b.setAttribute("y1",
c),b.setAttribute("x2",l),b.setAttribute("y2",d))}function ea(b,f,c){var l=a(b)[0];l!==oa&&null!==l&&(l.setAttribute("x",f),l.setAttribute("y",c),b=a(b+" tspan"),b!==oa&&null!==b&&2===b.length&&(b[0].setAttribute("x",f),b[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),b[1].setAttribute("x",f),b[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function F(b){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){b=
O(b.color);if(null===b)return;if(b in Y)K("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&Y[b].clone().appendTo(a(L));else{var f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");f.length?(K("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&f.clone().appendTo(a(L)),Y[b]=f):V(b)}}u(R)}}function V(b){try{setTimeout(function(){Z++;var f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
f.length?(b in Y||(Y[b]=f),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&K("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&f.clone().appendTo(a(L)),u(R)):100>Z&&V(b)},100)}catch(f){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+f)}}function K(b){return"true"===a(b).attr("data-should-use-in-hero")}function N(b,
f,c){var l=m.colorImages[f.color],d=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(l=W(l),t(l,b,f,c)):P(l,b,f,c)}function P(b,f,c,l){try{setTimeout(function(){S++;var d=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(d=W(b),t(d,f,c,l)):100>S?P(b,f,c,l):(p.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),d=b[0],
t(d,f,c,l))},100)}catch(ta){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+ta)}}function W(b){for(var f=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),c=b[0],l=0;l<b.length;l++){var d=b[l];d.variant===f&&(c=d)}c===b[0]&&p.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function t(b,f,c,l){f?((f=G.find(".item.dimensionItemNo"+
c.thumbnailIndex))&&f.remove(),f=c.thumbnailIndex,l=T(b,l),c=G.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),c.addClass("image item dimensionItemNo"+f+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":f+1}),c.find(".placeHolder").replaceWith(l),c.find(".a-declarative").attr("data-action","dimension-hero-click"),G.find(".list").append(c),h.loadImageManually(l),
l=f=c,c=ha.css("height"),null!==c&&l.find(".imgTagWrapper").css("height",c),l.addClass("selected"),m.imgTagWrapperClasses&&l.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses),ba.dispatch("loadMagnifier"),l=f,m.useIV&&d.isDefined(b.hiRes)&&l.css("cursor","pointer"),h.trigger("dp:image-block:update",b)):(H(b),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function H(b){var f=a("#ivDimensionTab #ivLargeDimensions");if(0<f.find(".imgTagWrapper").length){var c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");
return y(f,c)}c=a("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var l=a("\x3cimg\x3e");c.html(l);f.append(c);c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",b.hiRes);return y(f,c)}function y(b,a){b=b.closest("#ivStageDimensions");var f=b.width();b={height:"auto","max-height":b.height(),"max-width":f,"text-align":"center"};a.css(b);a=a.closest(".imgTagWrapper");a.css(b);return a}function T(b,f){var c="a-dynamic-image";if(!m.acEnabled){var l;a.each(b.main,function(b,
a){d.isDefined(l)||(l=parseFloat(a[1]/a[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=l}var k=d.getMaxDimensionsOfMainImage(b.main,ha,m),n=k[0],e=k[1];k=a("\x3cdiv\x3e\x3c/div\x3e");n={"max-height":n,"max-width":e};k.addClass(c).css(n).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",b.main);return k}function x(){var b='\x3ca href\x3d"#"\x3e'+m.staticStrings.clickForFullView+"\x3c/a\x3e";a("#image-canvas-caption #canvasCaption").html(b);
b=a("#image-canvas-caption #canvasCaption a");h.declarative.create(b,"dimension-hero-click")}function O(b){var a=m.colorToAsin[b];return a&&a.asin?b=m.colorToAsin[b].asin:b=m.mediaAsin?m.mediaAsin:null}function C(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function g(){null!==a(R.euclidSvg)&&0!==a(R.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),
a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):N(R,E.getCurrentItem(),null)}function r(b,a){m.usePeekHover&&"click"!==a.type||d.selectGivenThumbnail(a.$declarativeParent,b)}function M(b){b.action="dimensionIngressClick";b.data=U;ba.dispatch("dimensionIngressClick",b)}function q(){la=Date.now();if(ka&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var b=O(E.getCurrentItem().color);if(null!==b){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");
var f=a("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",f);b in Y?Y[b].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(f=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),f.length?(f.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),Y[b]=f):B(b));w.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,m);w.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));
na();ka=!1}b=a("#iv-tab-view-container").find("#ivThumbsDimensions");b.find(".ivRow").not(".placeholder").remove();f=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b);var l=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,d=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(l){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var k=
m.colorImages[E.getCurrentItem().color];k=W(k);H(k);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}c(b,f,k.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}d&&(k=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),c(b,f,k,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}D()}function D(){ca=a("#ivDimensionTab").height();if(0!==
ca){w.detachImmersiveViewResizeHandler(q);var b=a("#ivDimensionTab #ivMainDimensions"),c=a("#ivDimensionTab").height(),l=a("#ivDimensionTab").width();b.css("height",c);b.css("width",l);l=b.find("#ivTitleDimensions").outerHeight(!0);var d=b.find("#ivVariationSelectionDimensions").outerHeight(!0),k=b.find("#ivThumbsDimensions"),n=w.getDimension(k,"margin-top")+w.getDimension(k,"margin-bottom");k.css("height",c-l-d-n);l=b.find("#ivStageDimensions");b=(b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||
b.width())-w.getDimension(b,"padding-left")-w.getDimension(b,"padding-right")-b.find("#ivThumbColumnDimensions").width()-w.getDimension(l,"margin-left")-w.getDimension(l,"margin-right");l.css("width",b);l.css("height",c);u(fa)}}function c(b,a,c,l,d){b=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:d}).appendTo(a);b.find(".ivThumbImage").css("background",'url("'+w.getResizedThumbnailURL(c)+'") center no-repeat');l.hasClass("aok-hidden")||b.addClass("selected");I(b,l)}function I(b,
a){b.click(function(){e(b,a)})}function e(b,a){b.parent().find(".ivThumb").removeClass("selected");b.addClass("selected");a.hasClass("imgTagWrapper")&&y(a,a.find("img"));a.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");a.parent().find(".imgTagWrapper").addClass("aok-hidden");a.removeClass("aok-hidden")}function B(b){try{setTimeout(function(){k++;var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(b in Y||(Y[b]=c),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),D()):100>k&&B(b)},100)}catch(f){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+f)}}function aa(b,c){n&&clearTimeout(n);"mouseenter"===c.type&&(n=setTimeout(function(){F(b);a("#image-canvas-caption #canvasCaption").empty();x();r(Q,c)},d.getHoveringDelayTimer()));"mouseleave"===c.type&&x()}var v,m,E,ba,Q,G,ha,U,ka=!0,l,la,n,J,Y={},
Z=0,k=0,S=0,L="#imageBlock #main-image-container",ca,R={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",
euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},fa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",
euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},na=h.once(function(){w.attachImmersiveViewResizeHandler(q)});h.on.resize(function(){K("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&u(R)});return function(b,c,n,e){v=this;m=b;E=c;ba=e;m.isMediaBlock&&(L="#imageBlock #main-image-container #dimension-ingress-container");b=m.mediaAsin;c=[];m&&m.dimensionIngressAtfData&&
m.dimensionIngressAtfData.initial&&(c=m.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(b,m.dimensionIngressEnabled,c);v.render=function(b,c,l,f,n,e,h,g){Q=f;G=2!==m.unrolledImageBlockTreatment&&3!==m.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");ha=n;ka=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();
k=Z=0;l=O(E.getCurrentItem().color);if(null!==l){if(d.isDimensionIngressEnabled(l)&&(!m.twisterInteractionSimplificationEnabled||"swatchClick"!==g)&&m.dimensionIngressThumbURL&&m.dimensionIngressThumbURL.initial&&m.dimensionIngressThumbURL.initial.length){if(!m.isMediaBlock){g=d.getDimensionVariantList(l);if(g.includes("DIMN")||g.includes("DCMN"))Array.isArray(g)||(g=JSON.parse(g.replace(/(\w+)/g,'"$1"'))),g.push("DIMN"),g.push("DCMN");if(g&&0<g.length)for(l=m.colorImages[b],n=f.find(".item.imageThumbnail"),
e=0;e<n.length&&e<m.maxAlts-1;e++)if(h=l[e].variant,"MAIN"!=h&&g.includes(h)&&(h=n.eq(e)))h.remove(),c--;c===m.maxAlts&&(f.find(".item.imageThumbnail").last().remove(),c--);U={type:"dimension-ingress-image",index:0,thumbnailIndex:c,variant:"Main"};d.createThumbnail(U,m.dimensionIngressThumbURL.initial,f,"dimension-ingress-imageblock-thumbnail");f=m.dimensionIngressAtfData.initial.thumbnailCaption;f=a("\x3cspan /\x3e").html(f);f.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");
f.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(f);c++}a("#ivDimensionTabHeading").removeClass("aok-hidden");O(b)!==m.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return c}a("#ivDimensionTabHeading").addClass("aok-hidden")}};v.update=function(b){var c=b.data;
E.setCurrentEvent(b);m.isMediaBlock&&(U=b.data);"dimension-ingress-image"===c.type?(c.interaction=b.type,c.isUserGenerated=!0,"mouseenter"===b.type&&(l=Date.now(),p.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?aa(c,b):(F(c),m.isMediaBlock||(a("#image-canvas-caption #canvasCaption").empty(),r(Q,b)),x()),"click"===b.type&&d.useTabbedImmersiveView(m)&&(M(b),p.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?c.color===E.getCurrentItem().color&&
"dimension-ingress-image"===E.getCurrentItem().type?g():C():d.isImageBlockGridViewHoverDelayEnabled()?(E.setToPreviousItem(),"mouseenter"===b.type&&(J&&clearTimeout(J),J=setTimeout(function(){E.setToCurrentItem(c);C()},d.getHoveringDelayTimer())),"mouseleave"===b.type&&J&&clearTimeout(J),"click"===b.type&&(E.setToCurrentItem(c),C())):C()};w.attachTabSelectHandler("ivDimensionTab",q);h.declarative("dimension-hero-click",["click"],M)}});"use strict";t.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,d,w,p){var t,u,A;function y(){p.populateTitle(c.find("#ivTitle"),160,q)}function ea(){var a=D.getCurrentItem().color;e=q.colorImages[a];I=q.heroImage[a];B=aa=0;d.isDefined(I)&&(B=I.length);d.isDefined(e)&&(aa=e.length)}function F(a){return a.hiRes||a.large||a.main[a.main.length-1]}function V(){var a=c.find("#ivStage").find("#ivLargeImage"),d=a.width(),n=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var h=
e.width(),g=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(g=e[0].naturalHeight));a.css("cursor","auto");h=0===h?1:h;g=0===g?1:g;var k=Math.min(d/h,n/g),S=g*k,r=h*k;1>k?(m?a.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Q=!0):Q=!1;h=Math.min(r,h);g=Math.min(S-20,g);e.css({"margin-top":(n-g)/2,"margin-left":(d-h)/2,height:g,width:h});a.css("visibility","visible");
ba=!1}function K(a){var l=c.find("#ivLargeImage"),d=c.find("#ivZoom");l.css("visibility","hidden");l.empty();p.animateStageIn(l);l.append(a);V();Q?(h.show(d),T("zoomOut")):h.hide(d)}function N(l){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display","block");var g;"hero-image"===l?d.isDefined(I)&&(g=F(I[v.index])):d.isDefined(e)&&(g=F(e[v.index]));if(d.isDefined(g)){c.find(".fullscreen").remove();var n=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),m=c.find("#ivLargeImage");
p.animateStageOut(m,function(){n.load(function(){K(n);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",v.index)});if(n[0].complete)K(n),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",v.index);else{m.empty();var c=(m.height()-104)/2,l=(m.width()-80)/2;a("\x3cimg\x3e").attr("src",q.staticImages.spinner).css({position:"relative",top:c+"px",left:l+"px"}).appendTo(m)}})}}function P(a){c.find(".ivThumb").removeClass("selected").attr("aria-pressed","false");a.addClass("selected").attr("aria-pressed",
"true");a.hasClass("ivHeroImage")?v.type="hero-image":v.type="image";v.index=a.attr("id").split("_")[1];N(v.type);w.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(v.index,10)+1)+"_"+(B+aa))}function W(){q.isMediaBlock&&c.undelegate(".ivThumb","click keydown");c.delegate(".ivThumb","click keydown",function(c){var l=a(this);if("click"===c.type||"keydown"===c.type&&(13===c.keyCode||13===c.key||32===c.keyCode||32===c.key))c.preventDefault(),P(l)})}function ma(){if(Q){var a=c.find("#ivLargeImage"),d=
a.find(".fullscreen");m?a.css("cursor","url('"+q.staticImages.zoomOut+"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor","zoom-out"));ba=!0;var e=c.find("#ivLargeImage");u=e.width()-d.width();A=e.height()-d.height();e=a.height()/2;var g=a.width()/2;U=[a.offset().left+g,a.offset().top+e];t=e-d.height()/2;G=g-d.width()/2;d.css({position:"relative",left:G,top:t});ha=Math.max(d.height()/a.height(),d.width()/a.width())}}function H(a,c){return 0<c?c/2:Math.min(0,
Math.max(c,a))}function ja(a){var d=t-(a.pageY-U[1])*ha;a=H(G-(a.pageX-U[0])*ha,u);d=H(d,A);c.find(".fullscreen").css({left:a,top:d})}function T(a){var d=c.find("#ivZoomIn"),l=c.find("#ivZoomOut");if("zoomIn"===a)a=d,d=l;else if("zoomOut"===a)a=l;else return;a.addClass("disabled").attr({"aria-disabled":"true",tabindex:"-1"});d.removeClass("disabled").attr({"aria-disabled":"false",tabindex:"0"})}function x(){h.declarative("iv-zoomOut",["click","keydown"],function(a){a=a.$event;var d=c.find("#ivZoomIn");
!Q||"click"!==a.type&&("keydown"!==a.type||13!==a.keyCode&&32!==a.keyCode)||(V(),d.focus(),T("zoomOut"))});h.declarative("iv-zoomIn",["click","keydown"],function(a){a=a.$event;if(Q&&("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))){a=c.find(".fullscreen");var d=c.find("#ivLargeImage");a.removeAttr("style");ma();d.attr("tabindex","-1");d.focus();T("zoomIn")}});h.declarative("iv-largeImage",["keydown"],function(a){if(ba)a:{var d=c.find("#ivLargeImage"),e=c.find(".fullscreen"),
l=parseInt(e.css("left"))||0,g=parseInt(e.css("top"))||0,h=c.find("#ivZoomOut"),k=a.$event,m=l;a=g;k.preventDefault();switch(k.keyCode){case 38:a=Math.min(g+30,0);break;case 40:a=Math.max(g-30,d.height()-e.height());break;case 37:m=Math.min(l+30,0);break;case 39:m=Math.max(l-30,d.width()-e.width());break;default:d.removeAttr("tabindex");h.focus();break a}d=H(m,u);l=H(a,A);e.css({left:d,top:l})}})}function O(){q.isMediaBlock&&c.undelegate("#ivLargeImage","click");c.delegate("#ivLargeImage","click",
function(a){ba?(V(),T("zoomOut")):Q&&(c.find(".fullscreen").removeAttr("style"),ma(),ja(a),w.postCountMetric("dpcc_iv_largeImageCLick"),T("zoomIn"))});q.isMediaBlock&&c.undelegate("#ivLargeImage","mousemove");c.delegate("#ivLargeImage","mousemove",function(a){ba&&ja(a)});x()}function C(){c.find("#ivLargeImage").empty()}function g(e){E?r():y();e=a("#ivImagesTab").height();c.css("height",e);var g=c.find("#ivTitle").outerHeight(!0),h=c.find("#ivVariationSelection").outerHeight(!0),l=c.find("#ivThumbs"),
m=p.getDimension(l,"margin-top")+p.getDimension(l,"margin-bottom");l.css("height",e-g-h-m);c.find("#ivLargeImage").css("height",e);e=c.find("#ivStage");g=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();e.css("width",g-p.getDimension(c,"padding-left")-p.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"));v=D.getCurrentItem();e="hero-image"===v.type?c.find("#ivHeroImage_"+v.index):
"image"===v.type?c.find("#ivImage_"+v.index):d.isDefined(I)?c.find("#ivHeroImage_"+v.index):c.find("#ivImage_"+v.index);d.isjQueryObjDefined(e)||(e=c.find("#ivImage_0"));P(e)}function r(h){c=a("#ivMain");ea();v=D.getCurrentItem();y();p.populateVariationSelection(c.find("#ivVariationSelection"));var l=c.find("#ivThumbs");l.find(".ivRow").not(".placeholder").remove();var n=B+aa,m=!1;q&&q.dimensionIngressAtfData&&q.dimensionIngressAtfData.initial&&(m=q.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);
for(var r=0,w=0;r<n;)for(var k=l.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(l),S=0;4>S&&r<n;S++,r++,w++)if(w<B){var L=I[r].thumb,u=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+r,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":r+1}).appendTo(k);u.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(L)+
'") center no-repeat')}else if(w>=B&&w<aa+B){L=q.colorToAsin[D.getCurrentItem().color]&&q.colorToAsin[D.getCurrentItem().color].asin;L||(L=q.mediaAsin);if((u=d.isDimensionIngressEnabled(L))&&m){if((L=d.getDimensionVariantList(L))&&L.includes(e[r-B].variant)){S--;continue}}else if(u&&"DIMN"===e[r-B].variant){S--;continue}L=e[r-B].thumb;u=q.staticStrings.ivImageThumbnailLabelAnnounce.replace("###ivImageThumbnailIndex",r-B+1);u=l.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+
(r-B),"aria-label":u,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":r-B+1}).appendTo(k);u.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(L)+'") center no-repeat')}h?(W(),O(),p.attachImmersiveViewResizeHandler(g),p.attachTabDeselectHandler("ivImagesTab",C)):ka();E=!1}var M,q,D,c,I,e,B,aa,v,m=navigator.userAgent.match(/msie|trident/i),E=!0,ba=!1,Q=!1;var G=t=A=u=void 0;var ha,U;E=
!0;var ka=h.once(function(){W();O();p.attachImmersiveViewResizeHandler(g);p.attachTabDeselectHandler("ivImagesTab",C)});return function(c,d,e,h){M=this;q=c;D=d;M.render=function(c,d,e,g,h,l,n,m){E=!0;q.isMediaBlock&&"updatedData"===m?r(q.isMediaBlock):ea();0===B+aa?p.hideTabHeading("ivImagesTabHeading"):p.unhideTabHeading("ivImagesTabHeading");1===B+aa?a("#ivThumbs").hide():a("#ivThumbs").show()};M.update=function(a){};p.attachTabSelectHandler("ivImagesTab",g)}});"use strict";t.when("A","jQuery",
"imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,d,w,p,ia,u){function A(){var d=N.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),r=d.find(".a-popover-inner");d=d.height()-u.getDimension(r,"padding-top")-u.getDimension(r,"padding-bottom");a("#iv-tab-view-container").css("height",d);ma=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
a(this).css("display")}).length;1<ma?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),r=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=r):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);h.trigger("dp:image-block:immersive-view:resize")}function X(){h.trigger("dp:image-block:immersive-view:reset")}function ea(a){a.find("a").focus()}function F(g){if(d.isImmersiveViewEnabled(K,N.getCurrentItem().color))if(ja){var r=
g.$event.originalEvent;r.acknowledge&&r.acknowledge(g.$currentTarget[0]);p.isEnabled&&ia.logImmersiveViewRequestServed(p);w.postCountMetric("dppc_immersiveViewOpened");d.isDefined(g)&&("button-360-click"===g.action?a("#iv360TabHeading").click():"videoIngressClick"===g.action?(H=g.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===g.action?(H=g.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===g.action?(H=g.clickTimeStamp,a("#ivDimensionTabHeading").click()):
a("#ivImagesTabHeading").click());r=N.getImmersiveViewModalInstance();if(d.isDefined(r))r.show();else{g=a("#auiImmersiveViewDiv");r=Math.min(Math.max(a(y).height()-150,540),1080);var u=Math.min(Math.max(a(y).width()-75,990),1980);r=ja.create(g,{name:"immersiveView",activate:"onclick",width:u,height:r,popoverLabel:"ImmersiveView",hideHeader:!0});N.setImmersiveViewModalInstance(r);g.click()}W&&(W=!1,T(),h.trigger("dp:image-block:immersive-view:init"))}else y.performance&&performance.now&&y.ue&&ue.count&&
ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else w.postCountMetric("immersiveViewNotExistsClickCount")}var V,K,N,P,W=!0,ma=0,H,ja;t.when("a-modal").execute(function(a){ja=a});var T=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",A);h.on("a:popover:afterShow:immersiveView",A);h.on("a:popover:afterHide:immersiveView",X)}),x,O=h.once(function(){x=a("#iv-tab-view-container ul.iv-tab-views li");x.bind("click",function(d){var g=x.filter(".iv-active");
g.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);x.removeClass("iv-active").attr("aria-selected","false").find("a").attr("tabindex","-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=H||d.timeStamp);h.trigger("dp:ivTabs:"+g+":select",d);w.postCountMetric("dppc_"+
g);return!1});x.bind("keydown",function(d){var h=a(this),g=x.filter(":visible"),q=g.index(h),p=g.length-1;switch(d.keyCode){case 37:d.preventDefault();0<q?ea(g.eq(q-1)):ea(g.eq(p));break;case 39:d.preventDefault();q<p?ea(g.eq(q+1)):ea(g.eq(0));break;case 13:case 32:d.preventDefault(),h.find("a")[0].click()}})}),C=function(){x.unbind("click");x.unbind("keydown");x=a("#iv-tab-view-container ul.iv-tab-views li");x.bind("click",function(d){var g=x.filter(".iv-active");g.attr("id")!==a(this).attr("id")&&
h.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);x.removeClass("iv-active").attr("aria-selected","false").find("a").attr("tabindex","-1");a(this).addClass("iv-active").attr("aria-selected","true").find("a").attr("tabindex","0");a("#iv-tab-view-container .iv-tab-content").hide();g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=H||d.timeStamp);h.trigger("dp:ivTabs:"+g+":select",d);w.postCountMetric("dppc_"+g);return!1});x.bind("keydown",
function(d){var h=a(this),g=x.filter(":visible"),q=g.index(h),p=g.length-1;switch(d.keyCode){case 37:d.preventDefault();0<q?ea(g.eq(q-1)):ea(g.eq(p));break;case 39:d.preventDefault();q<p?ea(g.eq(q+1)):ea(g.eq(0));break;case 13:case 32:d.preventDefault(),h.find("a")[0].click()}})};return function(a,r,u,q){V=this;K=a;N=r;p.refToModel=N;P=q;V.render=function(a,c,d,e,h,g,p,m){K.isMediaBlock&&"updatedData"===m&&C();w.postCountMetric("dpcc_altThumbs_"+c);W=!0};V.update=function(a){};V.getTitle=function(){};
V.getVariationSelectionInfo=function(){};O();d.isImmersiveViewEnabled(K,N.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");P.register("imageClick",F);P.register("button360Click",F);(K.collapsibleThumbnails||K.desktopCollapsibleThumbnails||"T1"===K.desktopCollapsibleThumbnailsExperience||"T2"===K.desktopCollapsibleThumbnailsExperience)&&h.declarative("thumb-action",["click"],function(a){if(K.isMediaBlock?"openImageImmersiveView"===a.data.actionOnClick:a.$declarativeParent.hasClass("overlayRestOfImages"))F(a),
(K.collapsibleThumbnails||K.desktopCollapsibleThumbnails)&&w.postCountMetric("collapsibleThumbnailImmersiveViewClick"),"T1"===K.desktopCollapsibleThumbnailsExperience?w.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===K.desktopCollapsibleThumbnailsExperience&&w.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2")});d.useTabbedImmersiveView(K)&&(P.register("videoIngressClick",F),P.register("showroomIngressClick",F),P.register("dimensionIngressClick",F),P.register("captionClick",
F))}});"use strict";t.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,d,w,p,ia,u,A){function X(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ea(){k.find("#ivTitle").click(function(){Z.hide()})}function F(){f=eb?{type:"360-spin"}:J.getCurrentItem()}function V(){var a=k.find("#ivStage"),b=Z.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");
b=b.height()-A.getDimension(c,"padding-top")-A.getDimension(c,"padding-bottom");k.css("height",b);c=k.find("#ivTitle").outerHeight(!0);var d=k.find("#ivVariationSelection").outerHeight(!0),f=k.find("#ivMediaSelection").outerHeight(!0),e=k.find("#ivThumbs"),h=A.getDimension(e,"margin-top")+A.getDimension(e,"margin-bottom");e.css("height",b-c-d-f-h);k.find("#ivLargeImage").css("height",b);a.css("width",k.width()-A.getDimension(k,"padding-left")-A.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-
A.getDimension(a,"margin-left")-A.getDimension(a,"margin-right"))}function K(){k.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&k.find("#ivVideo_"+f.index).click()):"images"===b?(k.find("#ivVideoList").hide(),k.find("#ivThumbs").show(),k.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===fa&&0===R?k.find("#iv360").click():0===fa?k.find("#ivHeroImage_0").click():
k.find("#ivImage_0").click())):"videos"===b&&(k.find("#ivVideoList").show(),k.find("#ivThumbs").hide(),"chromeful-video"!==f.type?k.find("#ivVideoList_0").click():k.find("#ivVideoList_"+f.index).click())})}function N(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),e=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(e=d[0].naturalHeight));a.css("cursor","auto");f=0===f?1:f;e=
0===e?1:e;var h=Math.min(b/f,c/e),g=e*h,l=f*h;1>h?(fb?a.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;f=Math.min(l,f);e=Math.min(g-20,e);d.css({"margin-top":(c-e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");Ma=!1}function P(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();A.animateStageIn(b);b.append(a);N()}function W(){db&&db.pause();
k.find("#ivLarge360").css("display","none");k.find("#ivLargeVideo").css("display","none");k.find("#ivLargeImage").css("display","none");O()}function ma(b){W();k.find("#ivLargeImage").css("display","block");var c;"hero-image"===b?d.isDefined(S)&&(c=X(S[f.index])):d.isDefined(L)&&(c=X(L[f.index]));if(d.isDefined(c)){k.find(".fullscreen").remove();var e=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),qa=k.find("#ivLargeImage");A.animateStageOut(qa,function(){e.load(function(){P(e)});if(e[0].complete)P(e);
else{qa.empty();var b=(qa.height()-104)/2,c=(qa.width()-80)/2;a("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(qa)}})}}function H(){var a;d.isDefined(ca)&&(a=ca[f.index]);d.isDefined(a)&&W()}function ja(){F();var a="hero-image"===f.type?k.find("#ivHeroImage_"+f.index):"image"===f.type?k.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?k.find("#ivVideo_"+f.index):"360-spin"===f.type?k.find("#iv360"):d.isDefined(S)?
k.find("#ivHeroImage_"+f.index):k.find("#ivImage_"+f.index);d.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));T(a)}function T(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],H()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],ma(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,x()):(f.type="image",f.index=a.attr("id").split("_")[1],ma(f.type))}
function x(){W();k.find("#ivLarge360").css("display","block");q();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});A.animateStageIn(a)},200);g();p.postCountMetric("dppc_click360");za=Date.now()}function O(){0<za&&(C("dppc_duration360",Date.now()-za),za=0)}function C(a,b){y.ue&&y.ue.count(a,b)}function g(){if(0<z){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function r(b,c){if(z<b.length){var d=a("\x3cimg /\x3e").css({display:"block",
width:6*ua+"px",height:wa+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(z++,1===z&&(g(),0<za&&C("dppc_loadTime360",Date.now()-za)),0<$a&&C("dppc_perSpriteloadTime360",Date.now()-$a),k.find("#iv360Spinner").hide(),d.show(),Ja=5*da.imageLocations[Math.floor(Ia/da.imageLocations[0].length)][Ia%da.imageLocations[0].length],r(b,c))};d.attr("src",b[z].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function M(a){if(d.isDefined(da.spriteWidthSizes)&&
0<da.spriteWidthSizes.length){var b=da.spriteWidthSizes,c=b.length,f=b[0],e=b[c-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<c;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function q(){var b=k.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,D())}function D(){if(d.isDefined(da.spriteURLs)&&d.isDefined(k)&&Ya&&!Za){var b=k.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(da.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",da.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(f);f.appendTo(b);f=da.imageWidth;var h=da.imageHeight,g=b.parent().width(),l=b.parent().height(),m=0,p=0;f/h>g/l?(ya=M(g),xa=Math.round(h/f*ya),ua=Math.ceil(g),wa=Math.ceil(xa/ya*g),p=(l-wa)/2):(xa=M(l),ya=Math.round(f/h*xa),wa=Math.ceil(l),ua=Math.ceil(ya/xa*l),m=(g-ua)/2);b.css({"margin-left":m,"margin-top":p,width:ua+"px",
height:wa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ua+"px");r(da.spriteURLs,k.find("#image-360-sprites"),0);f=k.find("#ivLarge360");f.bind("mousedown",B);f.bind("touchstart",c);f.bind("touchmove",I);f.bind("touchend",e);a(document).bind("mousemove",aa);a(document).bind("mouseup",v);d.isDefined(n.staticImages.grab)&&b.css("cursor","url('"+n.staticImages.grab+"'), auto");Za=!0}}function c(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function I(a){La&&
(m(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){La&&(La=!1)}function B(a){Ka=!0;Wa=a.originalEvent.clientX;d.isDefined(n.staticImages.grabbing)&&(a=k.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function aa(a){Ka&&(m(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function v(a){Ka&&(Ka=!1,d.isDefined(n.staticImages.grab)&&
(a=k.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function m(a){for(a=Ja-=a/ua*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=a;a=360;for(var b=0;b<z;b++)for(var c=0;c<da.imageLocations[b].length;c++){var f=Math.abs(Ja-5*da.imageLocations[b][c]);if(f<a){a=f;var e=b*da.imageLocations[0].length+c}}e!==Ia&&(a=Math.floor(e/da.imageLocations[0].length),a!==Math.floor(Ia/da.imageLocations[0].length)&&(d.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),
b=k.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=k.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ia=e;a=e%da.imageLocations[0].length*-1*ua;e=-1*Math.floor(e/da.imageLocations[0].length)*wa;b=k.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");b.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function E(){k.delegate(".ivThumb","click",function(){var b=
a(this);T(b)});k.delegate(".ivThumbVideoListOuter","click",function(){k.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");f.type="chromeful-video";f.index=b.attr("id").split("_")[1];H()})}function ba(){k.find("#ivLargeImage").empty();O()}function Q(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function G(b){var c=va.left-(b.pageX-Qa[0])*Pa;h.capabilities.rtl&&(c=va.left-(a(y).width()-b.pageX-Qa[0])*Pa);b=va.top-(b.pageY-Qa[1])*Pa;c=Q(c,Oa.left);b=Q(b,Oa.top);
k.find(".fullscreen").css({left:c,top:b})}function ha(){k.delegate("#ivLargeImage","click",function(a){if(Ma)N();else if(Na){k.find(".fullscreen").removeAttr("style");if(Na){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");fb?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=k.find("#ivLargeImage");Oa.left=d.width()-c.width();Oa.top=d.height()-c.height();d=b.height()/2;var f=b.width()/
2;Qa=[b.offset().left+f,b.offset().top+d];va.top=d-c.height()/2;va.left=f-c.width()/2;c.css({position:"relative",left:va.left,top:va.top});Pa=Math.max(c.height()/b.height(),c.width()/b.width())}G(a)}});k.delegate("#ivLargeImage","mousemove",function(a){Ma&&G(a)})}function U(c){if(d.isImmersiveViewEnabled(n,J.getCurrentItem().color))if(cb){var f=c.$event.originalEvent;f.acknowledge&&f.acknowledge(c.$currentTarget[0]);eb=d.isDefined(c)&&"button-360-click"===c.action;ia.isEnabled&&u.logImmersiveViewRequestServed(ia);
p.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(Z))Z.show();else{c=a("#auiImmersiveViewDiv");f=a(y).height()-150;var e=a(y).width()-75;Z=cb.create(c,{name:"immersiveView",activate:"onclick",width:e,height:f,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(bb){k=a("#ivMain");c=J.getCurrentItem().color;L=n.colorImages[c];S=n.heroImage[c];ca=n.useChildVideos?n.colorToVideo[c]:n.videos;ta=l()&&n.spin360ColorEnabled[c];da=l()?n.spin360ColorData[c]:oa;F();b=R=na=fa=0;d.isDefined(S)&&
(R=S.length);d.isDefined(L)&&(fa=L.length);d.isDefined(ca)&&(na=ca.length);ta&&(b=1);A.populateTitle(k.find("#ivTitle"),45,n);A.populateVariationSelection(k.find("#ivVariationSelection"));c=k.find("#ivMediaSelect");0===fa+b||0===na?(c.parent().hide(),k.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(R+fa+b+na)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+
" ("+(R+fa+b)+")").appendTo(c),a("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+na+")").appendTo(c),c.parent().show(),c.val("all"));c=k.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();f=R+fa+na+b;for(var g=e=0;e<f;)for(var m=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),q=0;3>q&&e<f;q++,e++,g++)if(g<R){var r=S[e].thumb,I=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+
e).appendTo(m);I.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(r)+'") center no-repeat')}else if(g>=R&&g<fa+R)r=L[e-R].thumb,I=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-R)).appendTo(m),I.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(r)+'") center no-repeat');else if(g>=R+fa&&g<fa+R+b)I=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),
I.find(".ivThumbImage").css("background",'url("'+(d.isDefined(n.staticImages.icon360)?A.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=ca[e-fa-R-b],I=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-fa-R-b)).appendTo(m),I.find(".ivThumbImage").css("background",'url("'+r.thumbUrl+'") center no-repeat'),d.isDefined(r)){var v={position:"triggerTop"},B=k.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
B.find(".ivVideoPopoverTitle").text(r.title);B.find(".ivVideoPopoverDuration").text(r.durationTimestamp);v.inlineContent=B[0];h.declarative.create(I,"a-tooltip",v)}c=k.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();f=c.find(".placeholder");for(e=0;e<na;e++)g=ca[e],m=f.clone().removeClass("placeholder").appendTo(c),m.attr("id","ivVideoList_"+e),m.find(".ivThumbImage").css("background",'url("'+g.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(g.title),
m.find(".ivThumbDuration").text(g.durationTimestamp);k.find("#ivLarge360").empty();z=0;bb=Za=Ya=!1;Eb()}}else y.performance&&performance.now&&y.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else p.postCountMetric("immersiveViewNotExistsClickCount")}function ka(a){var b=n.colorToAsin[a],c={},f=500;if(b&&b.asin){c.params={asin:b.asin};var e="360"+b.asin,g=Date.now();c.success=function(b){C("dppc_asyncRequestTime360",Date.now()-g);b&&d.isDefined(b.spin360.spin360Model)?
(d.ajaxState(e,"success"),n.spin360ColorData[a]=b.spin360.spin360Model,a===J.getCurrentItem().color&&(da=n.spin360ColorData[a],D())):c.error()};c.error=function(){p.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-g);f*=2;16E3>=f?setTimeout(function(){g=Date.now();w.load("/gp/product/features/apparel-main-image/360.html",c)},f):d.ajaxState(e,"fail")};d.ajaxState(e)&&"fail"!==d.ajaxState(e)||(w.load("/gp/product/features/apparel-main-image/360.html",c),d.ajaxState(e,"sent"))}}
function l(){return d.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var la,n,J,Y,Z,k,S,L,ca,R,fa,na,b,f,db,da,ta,ua,wa,xa,ya,Wa,Xa,eb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,z=0,ab,fb=navigator.userAgent.match(/msie|trident/i),bb=!0,Ma=!1,Na=!1,Oa={},va={},Pa,Qa,cb;t.when("a-modal").execute(function(a){cb=a});var Eb=h.once(function(){K();E();ha();h.on("a:popover:afterUpdatePosition:immersiveView",V);h.on("a:popover:afterShow:immersiveView",ja);h.on("a:popover:afterHide:immersiveView",
ba);ea()});return function(b,c,f,e){la=this;n=b;J=c;ia.refToModel=J;Y=e;l()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);d.isDefined(n.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",A.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,b,c,f,e,g){bb=!0;l()&&n.spin360ColorEnabled[a]&&!d.isDefined(n.spin360ColorData[a])&&
(n.spin360ColorData[a]={},ka(a));d.isImmersiveViewEnabled(n,J.getCurrentItem().color)&&l()&&n.spin360ColorEnabled[a]&&(b===n.maxAlts&&(a=f.find(".item.imageThumbnail"),c=f.find(".item.videoThumbnail"),d.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(a,"button-360-click"),f.append(a),b++,p.postCountMetric("dppc_display360"));return b};la.update=
function(a){};d.isImmersiveViewEnabled(n,J.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");Y.register("imageClick",U);Y.register("button360Click",U);Y.register("captionClick",U)}});"use strict";t.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(h,a,d,w,p,t,u,A,y){function X(){var b=a("#iv360Tab").height();v.css("height",
b);var c=v.find("#ivTitle360").outerHeight(!0),d=v.find("#ivVariationSelection360").outerHeight(!0),e=v.find("#ivThumbs360"),g=u.getDimension(e,"margin-top")+u.getDimension(e,"margin-bottom");e.css("height",b-c-d-g);b=v.find("#ivStage360");c=v[0]&&v[0].getBoundingClientRect&&Math.floor(v[0].getBoundingClientRect().width)||v.width();b.css("width",c-u.getDimension(v,"padding-left")-u.getDimension(v,"padding-right")-v.find("#ivThumbColumn360").width()-u.getDimension(b,"margin-left")-u.getDimension(b,
"margin-right"))}function F(){P();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);V()}function V(){if(0<S){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function K(b,c){if(S<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*E+"px",height:ba+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(S++,1===S&&(V(),0<J&&(p.time("dppc_loadTime360",
Date.now()-J,e.mediaAsin),t.postTimeMetric("dppc_loadTime360",Date.now()-J))),0<Y&&(p.time("dppc_perSpriteloadTime360",Date.now()-Y,e.mediaAsin),t.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Y)),v.find("#iv360Spinner").hide(),d.show(),la=5*m.imageLocations[Math.floor(n/m.imageLocations[0].length)][n%m.imageLocations[0].length],K(b,c))};d.attr("src",b[S].replace(/(\._SP)\d+(,)\d+/,"$1"+G+"$2"+Q));Y=Date.now()}}function N(a){if(d.isDefined(m.spriteWidthSizes)&&0<m.spriteWidthSizes.length){var b=
m.spriteWidthSizes,c=b.length,e=b[0],g=b[c-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<c;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function P(){var b=v.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),ka=!0,W())}function W(){if(d.isDefined(m.spriteURLs)&&d.isDefined(v)&&ka&&!l){var b=v.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(m.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
m.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);c=m.imageWidth;var g=m.imageHeight,h=b.parent().width(),k=b.parent().height(),n=0,p=0;c/g>h/k?(G=N(h),Q=Math.round(g/c*G),E=Math.ceil(h),ba=Math.ceil(Q/G*h),p=(k-ba)/2):(Q=N(k),G=Math.round(c/g*Q),ba=Math.ceil(k),E=Math.ceil(G/Q*k),n=(h-E)/2);b.css({"margin-left":n,"margin-top":p,width:E+"px",height:ba+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",
6*E+"px");K(m.spriteURLs,v.find("#image-360-sprites"),0);c=v.find("#ivLarge360");c.bind("mousedown",T);c.bind("touchstart",ia);c.bind("touchmove",H);c.bind("touchend",ja);a(document).bind("mousemove",x);a(document).bind("mouseup",O);d.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+e.staticImages.grab+"'), auto");l=!0}}function ia(a){k=!0;U=a.originalEvent.targetTouches[0].clientX}function H(a){k&&(C(a.originalEvent.targetTouches[0].clientX-U),U=a.originalEvent.targetTouches[0].clientX)}function ja(a){k&&
(k=!1)}function T(a){Z=!0;ha=a.originalEvent.clientX;d.isDefined(e.staticImages.grabbing)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+e.staticImages.grabbing+"'), auto"));return!1}function x(a){Z&&(C(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function O(a){Z&&(Z=!1,d.isDefined(e.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"auto")))}function C(a){la-=a/E*180;ca&&(p.count("dppc_360dragToSpin",e.mediaAsin),t.postCountMetric("dppc_360dragToSpin"));ca=!1;for(a=la;0>a;)a+=360;for(;360<a;)a-=360;la=a;a=360;for(var b=0;b<S;b++)for(var c=0;c<m.imageLocations[b].length;c++){var g=Math.abs(la-5*m.imageLocations[b][c]);if(g<a){a=g;var h=b*m.imageLocations[0].length+c}}h!==n&&(a=Math.floor(h/m.imageLocations[0].length),a!==Math.floor(n/m.imageLocations[0].length)&&(d.isDefined(L)||(L=document.createElement("canvas").getContext("2d")),
b=v.find("#image-360-sprites").children(),L.drawImage(b[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));n=h;a=h%m.imageLocations[0].length*-1*E;h=-1*Math.floor(h/m.imageLocations[0].length)*ba;b=v.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function g(){if(fa){v=a("#ivMain360");var b=B.getCurrentItem().color;
M()&&q(b);m=M()?e.spin360ColorData[b]:oa;u.populateTitle(v.find("#ivTitle360"),160,e);u.populateVariationSelection(v.find("#ivVariationSelection360"));v.find("#ivLarge360").empty();S=0;l=ka=!1;n=la=0;na();fa=!1}0!==a("#iv360Tab").height()&&(u.detachImmersiveViewResizeHandler(g),X(),F(),J=Date.now(),R=ca=!0,p.count("dppc_click360",e.mediaAsin),t.postCountMetric("dppc_click360"))}function r(a,c,g){a=e.colorToAsin[g];var b={},f=500;if(!a||!a.asin)if(g===e.defaultColor)a={asin:e.winningAsin};else return;
b.params={asin:a.asin};var h="360"+a.asin,k=Date.now();b.success=function(a){p.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",Date.now()-k);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&A.setData(a),d.ajaxState(h,"success")):b.error()};b.error=function(){p.count("dppc_asyncFailedTransient360",e.mediaAsin);t.postCountMetric("dppc_asyncFailedTransient360");p.time("dppc_asyncRequestTime360",Date.now()-k,e.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-k);f*=2;16E3>=f?setTimeout(function(){k=Date.now();w.load("/gp/product/features/apparel-main-image/360.html",b)},f):(p.count("dppc_asyncFailed360",e.mediaAsin),t.postCountMetric("dppc_asyncFailed360"),d.ajaxState(h,"fail"))};d.ajaxState(h)&&"fail"!==d.ajaxState(h)||(w.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(h,"sent"))}function M(){return e&&d.isDefined(e.spin360ConfigEnabled)&&e.spin360ConfigEnabled}function q(a){return d.isDefinedAndNotEmpty(e.spin360ColorData[a])?
!0:d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function D(){R&&(p.time("dppc_duration360",Date.now()-J,e.mediaAsin),t.postTimeMetric("dppc_duration360",Date.now()-J),R=!1)}function c(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a||(a=e.mediaAsin);return a}var I,e,B,aa,v,m,E,ba,Q,G,ha,U,ka=!1,l=!1,la=0,n=0,J=0,Y=0,Z=!1,k=!1,S=0,L,ca=!0,R=!1,fa=!0,na=h.once(function(){u.attachImmersiveViewResizeHandler(g);u.attachImmersiveViewResizeHandler(X);u.attachImmersiveViewResetHandler(D);
u.attachTabDeselectHandler("iv360Tab",D)});return function(b,f,k,l){I=this;e=b;B=f;aa=l;b=e.landingAsinColor;f=e.defaultColor;d.isDefined(e.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(e.staticImages.icon360,"_FMpng_RI_"));M()&&(e.spin360ColorData||(e.spin360ColorData={}),b===f&&d.isDefinedAndEmpty(e.spin360ColorData[f])&&delete e.spin360ColorData[f]);h.on(y.TWISTER_DATA_EVENT,function(a){c(B.getCurrentItem())===a&&(m=
A.getData(a),W(),a={type:"updatedData",data:B.getCurrentItem()},aa.dispatch("updateView",a))});I.render=function(b,f,g,k,l,m){fa=!0;!M()||d.isDefinedAndEmpty(e.spin360ColorData[b])&&!A.getData(c(B.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=A.getData(c(B.getCurrentItem())),d.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(e,B.getCurrentItem().color)&&M()&&q(b)&&(f===e.maxAlts&&(b=
k.find(".item.imageThumbnail"),g=k.find(".item.videoThumbnail"),d.isDefined(g)&&1<g.length?g.last().remove():b.last().remove(),f--),b=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(b,"button-360-click"),k.append(b),p.count("dppc_display360",e.mediaAsin),t.postCountMetric("dppc_display360"))):d.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?(e.spin360ColorData[b]={},u.hideTabHeading("iv360TabHeading"),
r(k,f,b)):u.hideTabHeading("iv360TabHeading"))};I.update=function(a){};u.attachTabSelectHandler("iv360Tab",g)}});t.register("nexusLogger360",function(){return{count:function(h,a){y.ue&&y.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(h,a,d){y.ue&&y.ue.event({asin:d,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});t.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});t.when("A","hit-spin360-constants").register("hit-spin360-feature-data",
function(h,a){var d={};return{setData:function(w){var p=w.asin;d[p]||(d[p]=w,h.trigger(a.TWISTER_DATA_EVENT,p))},getData:function(a){return d[a]}}});"use strict";t.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(h){function a(){this.render=function(){};this.update=function(){}}return function(d,w,p,y){var u=!1,A=new a;t.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==oa&&(u=!0,A=new a(d,w,p,y))});d&&!0===d.showroomEnabled&&!1===u&&
h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return A}});"use strict";t.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(h,a,d,t,p,ia,u){function w(){r.delegate(".ivThumb","click",function(){var c=a(this);r.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(M.type="chromeful-video",M.index=c.attr("id").split("_")[1])})}
function X(){if(U){var c=a("#ivVideosTab").height();r.css("height",c);var d=r.find(".vse-lb-container");q=c-p.getDimension(d,"padding-top")-p.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(ba){r.css({"max-width":Math.floor(1.77*q)});return}c=r.find(".vse-player-container");d=r.find(".vse-video-action-strip");var e=r.find(".vse-lb-video-metadata"),g=Math.floor(q-p.getDimension(e,"height")-p.getDimension(d,"height")),h=Math.floor(1.77*g);c.css({"max-height":g,"max-width":h,
marginLeft:"auto",marginRight:"auto"});e.css({"max-width":h,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":h,marginLeft:"auto",marginRight:"auto"})}Q&&(c=r.find(".vse-vertical-scroll"),d=p.getDimension(c,"margin-top")+p.getDimension(c,"margin-bottom"),c.css("max-height",q-d))}function ea(){F();D&&D.pause();G=!1;m=!0;B=null;ha=!0;U=!1}function F(){G=!1;D&&D.pause()}function V(c){B=c.clickTimeStamp?c.clickTimeStamp:h.now();d.isDefined(g)&&(g.eventTimestamp=B);G=!0;E&&(u.get(h,"#ivVideoBlock",
C,Z,k),r=a("#ivVideoBlock"),O.getCurrentItem(),M=O.getCurrentItem(),n(),H());X();E=!1;P()}function K(c){E&&(r=a("#ivVideoBlock"),O.getCurrentItem(),M=O.getCurrentItem(),n());G&&P();X()}function N(a){D=a.player;t.postTimeMetric("vse_ib_desktop_player_initialisation_duration",h.now()-la);x.imageBlockRenderingStartTime&&t.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-x.imageBlockRenderingStartTime);U&&(H(),P())}function P(){if(D&&G&&(r.find(".vse-lb-container").animate({opacity:1},
200),D.play(g),t.postCountMetric("dpcc_vse_videoBlock_video_played"),m)){var a=y.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,t.postTimeMetric("dpcc_vse_vitff",a),m=!1)}}function W(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ma(a){c=a.popover.$popover;U=!0;H()}function H(){if(U&&ha&&G&&D){c.addClass(h.$(c).find(".vse-lb-container").data("cssClass"));var a=g;ka&&(a=l,ka=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",
assetSpec:a});X();ha=!1}}function ja(a){document.getElementsByClassName("videoBlockIngress")[0].click();l=a;ka=!0}var T,x,O,C,g,r,M,q,D,c,I,e,B,aa,v,m=!0,E=!0,ba=!1,Q=!1,G=!1,ha=!0,U=!1,ka=!1,l,la=0,n=h.once(function(){w();p.attachImmersiveViewResizeHandler(K);p.attachTabDeselectHandler("ivVideosTab",F);p.attachImmersiveViewResetHandler(ea)}),J=function(c,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");t.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);ba=!0;a("#ivVideoBlock").css({"max-width":1.77*
q,margin:"0 auto"})},Y=function(c,d,e){E||u.get(c,"#ivVideoBlock",C,Z,k);a("#ivVideoBlockSpinner").addClass("aok-hidden")},Z=function(a,c,d){Q=!0;X()},k=function(a,c,d){t.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,c,k,l){T=this;x=a;O=c;T.render=function(a,c,b,f,k,l){a=O.getCurrentItem().color;c=d.getVideoHash(a,0,x);!0===l?I=x.mediaAsin:(I=x.colorToAsin[a]&&x.colorToAsin[a].asin,I=d.isDefined(I)?I:x.mediaAsin);e=!0===
x.useVSEVideos?"VIDEO_ID":"physicalID";aa=x.contentWeblab;v=x.contentWeblabTreatment;E=!0;-1===c?p.hideTabHeading("ivVideosTabHeading"):(p.unhideTabHeading("ivVideosTabHeading"),C={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:I,contentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:e,videoURL:c.url,imageURL:c.slateUrl,rankingStrategy:c.rankingStrategy},requestId:x.dpRequestId,weblabContext:[{name:aa,
assignment:v,ignoreForG2S2Key:!0}],metadata:{ProductTitle:x.title}},g={videoUrl:C.video.videoURL,contentId:C.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(B)?B:h.now(),imageUrl:C.video.imageURL,productAsin:C.product.contentID,rankingStrategy:C.video.rankingStrategy,index:0},d.isDefinedAndNotEmpty(D)&&(D.destroy(),D=null),la=h.now(),ia.get(h,"#ivVideoBlock",C,Y,J))};T.update=function(a){};p.attachTabSelectHandler("ivVideosTab",V);h.on("vsePlayer-detailpage-imageblock",N);h.on("a:popover:afterShow:immersiveView",
ma);h.on("a:popover:beforeHide:immersiveView",W);h.on("detailpage-imageblock-leave-pip",ja)}});"use strict";t.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(h,a,d,w,p){function y(c,d){if(c){g=x.getCurrentItem();0==Object.entries(D).length&&u();var e=g.shoppableScene;e==oa?(c=H(Object.values(D)[0]),e=Object.values(D)[0].shoppableScene):c=H(C[g.index]);q=e.physicalId;var h=a(".shoppable-scene-image-block-placeholder-in-iv");
if(0<h.length){var p=a("\x3cimg\x3e");p.attr("id","shoppableSceneIvImage");p.attr("src",c);p.css({"max-height":"500px","max-width":"650px"});h.replaceWith(p);c=A(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else O.hide(),N();ea();c=g.shoppableScene?g.shoppableScene:Object.values(D)[0].shoppableScene;F(c);P(d,r,null,q)}}function u(){C=T.colorImages[g.color];r=T.colorToAsin[g.color].asin;C.forEach(function(a){a.shoppableScene!=oa&&(D[a.shoppableScene.physicalId]=a)})}function A(c){var d=
a("\x3cspan\x3e");h.each(c.tags,function(e){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});g.append(X(!1));g.append(X(!0));h.declarative.create(g,"scenes-show-details-tags-ib-iv-click",{tagId:e.link,physicalId:c.physicalId});d.append(g)});return d.children()}function X(c){var d=a("\x3cimg src\x3d'"+(c?T.staticImages.shoppableSceneDotHighlighted:T.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});
d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function ea(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(D).forEach(function(d){var e=D[d],g=a("\x3cimg\x3e");e=H(e);g.attr("id","shoppable-scene-thumbnail-"+d);g.attr("src",e);g.addClass("shoppable-scene-thumbnail");h.declarative.create(g,"scenes-thumbnail-ib-iv-click",{physicalId:d});g.appendTo(c)})}function F(a){ma();t.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",
function(){h.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function V(a,d){ma();t.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:d})})}function K(){var c=D[q].shoppableScene,d=a(".shoppable-scene-image-block-tags-in-iv");d.hide();c=A(c);d.empty();c.appendTo(d);d.show();O.show()}function N(){var c=H(D[q]),d=a("#shoppableSceneIvImage");
d.bind("load",K);d.attr("src",c)}function P(a,d,e,g){var c="shoppable-scene-dp-iv:mirai:"+a;t.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:c,asin:d,tagId:e,physicalId:g})})}function W(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},
3600)}function ma(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var d=a("\x3cimg\x3e");d.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",T.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function H(a){return a.hiRes||a.large||a.main[a.main.length-1]}var ja=void 0,T=void 0,x=void 0,O=void 0,C=void 0,g=void 0,r=void 0,M=void 0,
q=void 0,D={};h.declarative("shoppable-scene-image-click","click",function(a){y(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=M){var d=M.find(".active-tag"),g=M.find(".inactive-tag");d.css({display:"none"});g.css({display:"inline-block"})}d=c.find(".active-tag");g=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");g.css({display:"none"});M=c;W();V(a.data.tagId,
a.data.physicalId);P("IMMERSIVE_VIEW_PRODUCT_TAG",r,a.data.tagId,a.data.physicalId)});h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){q=a.data.physicalId;N();F(D[q].shoppableScene)});return function(c,d,e,h){ja=this;T=c;x=d;O=a("#ivMainShoppableScene");ja.render=function(a,c,d,e,g,h){};ja.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=x.getCurrentItem();y(null==g||g.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,d){try{var c=a.$,k=c("#featurebullets_feature_div"),l=c("#productOverview_feature_div");if(k&&0<k.length&&(d.postCountMetric("FeatureBulletsRendered.GV"),l&&
0<l.length)){d.postCountMetric("FeatureBulletsRenderedWithPO.GV");var e=c("#featurebullets_feature_div .a-expander-container");e&&0<e.length&&"feature-bullets-expander"===e.data("aExpanderName")&&(d.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){d.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){d.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(w){b.log("Feature bullets metric logging failed with error: ( "+
w+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,d,c,k,l){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,d=0,f;for(f in a)a[f]&&a[f].length&&(d+=a[f].length);a="image_size_bucket:gt"+b[b.length-1];for(f=1;f<b.length;f++)if(d<=b[f]){a="image_size_bucket:"+b[f-1]+"-"+b[f];break}l.postCountMetric(a);k.addTag(a)})();(function(){var a=d.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=c.lazyLoadExperienceDisabled;k.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var d=e.ue;if(d){var c=d.count(a)||0;d.count(a,c+1)}}},postTimeMetric:function(a,d){if("undefined"!==typeof a&&"undefined"!==typeof d){var c=e.ue;c&&c.count(a,d)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,d,c,b,l,v,w,q,f,r){var k=10<arguments.length&&arguments[10]!==h?arguments[10]:"",m="",n=q||"";try{m=e.location.href;var g=m.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);
g&&(g[1]||g[2]||g[3])&&(n=g[1]||g[2]||g[3])}catch(p){(g=e.ue)&&g.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:r,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+d,videoAsin:c,videoAsinList:k,rankingStrategy:b===h?"":b,groupType:v===h?"":v,pageUrl:m,pageAsin:n,weblabIds:f===h?"":f,customerId:l||""}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,d,b){var c=
a.state("desktop-landing-image-data");c&&(c=a.values(c),d=d.getResourceTimeByName("img",c),a.each(d,function(a){a&&(a.responseEnd!=h&&b.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",e.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict";b.when("A","jQuery","ImageBlockAPI","postMetric",
"atf").register("media-block-config",function(a,b,c,e,l){return{mediaTypeTag:{IMAGE:{elementTags:["img.media-block-image-tag","div.media-block-image-tag"]},VIDEO:{elementTags:["img.media-block-video-tag","div.media-block-video-tag","div.vse-player-container"]},DIMENSION:{elementTags:["svg#hit-pd-angled-front-svg","div.dimension-ingress-seller-image"]}},mediaBlockEntities:["primaryViewCarousel"]}});b.when("A","ImageBlockAPI","postMetric","atf","media-block-config").execute(function(a,b,c,h,l){function d(a,
b,d,c,e){if(d&&c){var g=[],n=b.length;b.each(function(){try{var b=this.getAttribute(e),d=this.getAttribute("data-csa-c-content-id"),c=this.getAttribute("data-csa-c-media-type");if(d&&c){var n=null,h=null,k=null;try{var p=l.mediaTypeTag[c];if(!p){f("mediaBlock.entities."+a+".unknownMediaType."+c);return}var m=p.elementTags;if(m&&0<m.length){var q=t(this);for(p=0;p<m.length&&!(n=q.find(m[p]),0<n.length);p++);}n&&0<n.length&&(h=n.height(),k=n.width(),0<h&&0<k||(k=h=null))}catch(u){f("mediaBlock.entities."+
a+".slot.dimensionNotFound"),r(u,"WARN")}g.push({slotId:b,mediaType:c,contentId:d,height:h,width:k})}else f("mediaBlock.entities."+a+".carouselContentNotfound")}catch(u){f("mediaBlock.entities."+a+".carouselSlotNotfound"),r(u,"WARN")}});g&&0<g.length&&q(n,a,g,d,c)}else f("mediaBlock.entities."+a+".carouselNotfound")}function k(b){function c(){var a=t("#imageBlock.primaryViewGridContainer"),c=a.find(".desktop-media-mainView li.item"),g=a.height();a=a.width();d(b,c,g,a,"data-csa-c-posx")}c();a.on("PageRefresh:ATF",
c)}function q(a,b,c,d,e){csa("Events",{producerId:"dppinfo"})("log",{schemaId:"dppinfo.mediaBlockContentRender.1",totalSlots:a,entityName:b,asin:m,entityHeight:d,entityWidth:e,slotContentMetadataList:c},{ent:"all"})}function f(a){e.ue&&ue.count(a,(ue.count(a)||0)+1)}function r(a,b){b={logLevel:b,attribution:"DetailPageImageBlockSubAssets"};e.ueLogError&&e.ueLogError(a,b)}var t=a.$,m=null;(function(){m=t("#mediaBlock_feature_div").attr("data-csa-c-asin");for(var a=0;a<l.mediaBlockEntities.length;a++){var b=
l.mediaBlockEntities[a];try{switch(b){case "primaryViewCarousel":k(b)}}catch(p){f("mediaBlock.entities."+b+".carouselNotfound"),r(p,"WARN")}}})()})});
/* ******** */
(function(h){var l=window.AmazonUIPageJS||window.P,p=l._namespace||l.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):l;d.guardFatal?d.guardFatal(h)(d,window):d.execute(function(){h(d,window)})})(function(h,l,p){h.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){l.performance&&performance.now&&l.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
h.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(l.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((l.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=l.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";h.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){h.now("desktop-twister",
"twister-dim-util").execute(function(c,b){if(c&&b){a.empty();var d=c.state();c=new b(c.tvm);for(var e in d){var f=d[e];b=f.dimKey;var k=f.val;f=c.getDimensionDisplayText(b);(b=c.getDimensionValueFromIndex(b,k))&&g("\x3cdiv/\x3e").addClass("ivVariations").text(f+":"+b).appendTo(a)}}})},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,
c,b,d){l.ueLogError&&l.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";h.when("A","ImageBlockATF").register("MediaBlockTwisterRefreshDataLoader",function(d,g){function k(){d.trigger("twisterRefreshData",e)}var e={};if(g&&g.isMediaBlock)d.on("PageRefresh:ATF",k);return{setMediaBlockData:function(d){e=d}}});"use strict";h.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";h.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(d,g){h.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+
m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}});h.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,
b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+
":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,f,a,c,b){var e=d.$;e(f+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},e(this),
3)})}}});h.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+
":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(d,f,a,c,b){k({A:d,block:f,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(p){var v=window.AmazonUIPageJS||window.P,y=v._namespace||v.attributeErrors,b=y?y("DetailPagePaymentOptionsJavascript",""):v;b.guardFatal?b.guardFatal(p)(b,window):b.execute(function(){p(b,window)})})(function(p,v,y){"use strict";p.when("A","payment-options-constants").register("payment-options-client-side-metric",function(b,c){function e(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function h(b,a){d(c.metricPrefix,b,a)}function g(b,a){d(c.metricPrefixUFO,b,
a)}function d(b,a,d){if("undefined"!==typeof k&&"undefined"!==typeof k.count&&a&&b){if(d===y||null===d)d=1;b+=a;k.count(b,(k.count(b)||0)+d);"undefined"!==typeof v.csa&&(d=v.csa("Events",{producerId:"dp-rpcx"}),a=k.count(b),d("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:b,valueToLog:a},{ent:"all"}))}}function l(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");}function f(b){if(b)this.timerName=b,this.startTime=0;else throw Error("timerName must be non empty string");
}var k=v.ue;l.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};f.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&h(this.timerName,Date.now()-this.startTime)}};return{increment:function(b){h(b,1)},incrementWithValue:h,incrementWithValuePriceBlockMessaging:function(b,a){d(c.metricPrefixPriceblock,b,a)},logNexusEventForMonthlyPaymentSelection:function(b){if(v.ue&&
k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=parseInt(b.data.executionInfo.offerRank);a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!0;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=
!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!0;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,
c.nexus.schemaId,{ssd:!0});g("MonthlyPaymentSelection",1)}},logNexusEventForComparePlansLink:function(b){if(v.ue&&k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=
!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!0;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;
a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("ComparePlansLink",1)}},logNexusEventForSwatchExpansion:function(b){if(v.ue&&k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;
a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!0;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=
!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("SwatchExpansion",1)}},logNexusEventForComparePlansOfferSelection:function(b){if(v.ue&&k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;
a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId=b.data.optionId;a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=
!0;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("ComparePlansOfferSelection",1)}},logNexusEventForChangePlansLink:function(b){if(v.ue&&k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;
a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId=b.data.executionInfo.trackingId;a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";
a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!0;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("ComparePlansChangePlan",1)}},logNexusEventForCancelPlan:function(b){if(v.ue&&k.event){var a={};a.requestId=b.data.requestId;
a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=c.nexus.producerId;a.messageId=e();a.trackingId=
"undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!0;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!1;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("ComparePlansCancelPlan",1)}},logNexusEventForCheckoutPlan:function(b){if(v.ue&&
k.event){var a={};a.requestId=b.data.requestId;a.sessionId=b.data.sessionId;a.marketplaceId=b.data.marketplaceId;a.customerId=b.data.customerId;a.asin=b.data.asin;a.websiteDisplayGroup=b.data.websiteDisplayGroup;a.parentAsin=b.data.parentASIN;a.buyingOptionType=b.data.buyingOptionType;a.financingId="undef";a.ranking=-1;a.isRender=!0;a.deviceType=b.data.deviceType;a.isUfoSwatchExpanded=!1;a.isOfferSelected=!1;a.isOfferAddedToCart=!1;a.isOfferUsedWithBuyNow=!1;a.schemaId=c.nexus.schemaId;a.producerId=
c.nexus.producerId;a.messageId=e();a.trackingId="undef";a.isPreselection=null;a.sellerId="undef";a.asinExperience="undef";a.variantRendered="undef";a.locale="undef";a.isSelectFromPlansClicked=!1;a.isOfferSelectionClicked=!1;a.isOfferGroupingSelected=!1;a.isConfirmPlanSelectionClicked=!1;a.isChangePlanClicked=!1;a.isCheckboxSelected=!1;a.isCheckboxDeselected=!1;a.isCancelPlanClicked=!1;a.isSelectionEnabled=!1;a.continueToCheckoutClicked=!0;k.event(a,c.nexus.producerId,c.nexus.schemaId,{ssd:!0});g("ComparePlansCheckoutPlan",
1)}},Timer:l,TimerPriceBlockMessaging:f}});"use strict";p.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(b,c,e,h){function g(){h.increment("Expander:Auto:Collapse");var d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;e.collapsePaymentOptions(d);b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=
!1}function d(){if(document.getElementById("payment-options-expander-header")){var d=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));d.isAutoExpand=!0;d.forceExpand=!0;b.trigger("a:declarative:expand-payment-options-expander",{data:d})}}return function(){var e=b.$(c.selector.multiCardExperimentElement).data(c.selector.multiCardExperimentData);if(!e||!e.treatment)return{};var f=b.$(c.selector.activeTPlusCards).val();if(!f||!f.length)return{};f=
f.split(",");return{expTreatment:e.treatment,isFirstCard:f[0]===c.featureRegistration.featureName,collapseCard:g,autoExpandCard:d}}()});"use strict";p.when("A").register("payment-options-constants",function(b){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.7"},validators:{itemType:"paymentOfferInfo",offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},
metricConstants:{skipLearnMoreMetricForDesktop:"skipLearnMoreMetricForDesktop"},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message",swatchActionButton:".payment-options-swatch-action-button",toggleExpanderButton:".toggle-payment-options-expander-button",
setDynamicHeight:{paymentPlanRow:{rowElementsSelector:".payment-options-payment-plan-head, .payment-option-payment-plan-row-value"},paymentOptionDetailsRow:{columnValueElementsSelector:".monthly-payment-table-payment-details-column-value",rowElementsSelector:".payment-option-payment-details-row-value, .payment-options-payment-details-head"},interestRow:{rowElementsSelector:".payment-option-interest-row-value, .payment-options-interest-head"},planAppliesToRow:{rowElementsSelector:".payment-options-plan-applies-to-head, .payment-option-plan-applies-to-row-value"}}},
comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",
comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",
viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",
unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",
normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},
animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",metricPrefixUFO:"DPX:UnifiedFinancingOffers:PaymentOptions:",classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover",attributes:{ariaChecked:"aria-checked",ariaExpanded:"aria-expanded"}}});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric",
"multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(b,c,e,h,g,d,l,f){function k(a){return"string"===typeof a}function w(a){for(var b=a.length-1;0<=b;b--){var d=a.get(b).id;if(d!==y&&!u("#"+d).parent().parent().parent().hasClass(e.classes.hideSwatchMainViewClass)){u("#"+d).parent().parent().parent().addClass(e.classes.hideSwatchMainViewClass);break}}}function a(){var a;var d=(a=u(e.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===
a.attr(e.selector.isBuyingOptionOverridePresentAttribute);a=a&&d?(a=a.attr(e.selector.pickUpBuyingOptionIndex))?a:y:void 0;return"#paymentOption_"+(a?a:b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}function m(a){var b=a.executionInfo;b.cartType=e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,
interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var u=b.$;l=l.expTreatment;var r="T2"!==l&&"T3"!==l,x=e.featureRegistration.featureName;c.registerFeature(e.featureRegistration,
{init:function(d){b.$(a()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===e.validators.itemType&&k(a.priceAndTermCountDisplayString)&&k(a.orderSummaryDisplayString)&&k(a.interestDisplayString)&&"number"===typeof a.price&&"number"===typeof a.interestAmount&&k(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var a=f.paymentOptionSelected.paymentOptionClickedFromSideSheet;r&&!a&&(d.increment("Expander:Auto:Collapse"),
a=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,g.collapsePaymentOptions(a),b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){b.$(e.selector.refreshToggle).removeClass("refresh-toggle");b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&b.$(e.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(a,d,
f,l,k,r){l=r&&-1!==r?r:a;b.$("[id^\x3dpaymentOption_]").addClass("a-hidden");a=b.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");var p;b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==y&&(d=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,a===y&&!0===d&&(p=b.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));
var v;a&&(v=a.offerGroup);b.$("#paymentOption_"+l).removeClass("a-hidden");var F=u("#paymentOption_"+l).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");d=u("#paymentOption_"+l+" #oneTimePaymentOptionSwatch");b.$(d).click();b.delay(function(){F.isExpand||u(e.selector.subtitleText).text(F.collapseSubtitle)},100);f=d=!1;c.ccRemovedSelectionsClear(x);a===y&&p!==y&&(k=b.$("#paymentOption_"+l+" [data-payment-options-emp-action]").data("payment-options-emp-action"),
d=k!==y,!0===d&&(u(e.selector.subtitleText).text(k.preselectionSubtitle),h.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=k.preselectionSubtitle,h.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=k.preselectionSubtitle),!1===d&&c.ccRemovedSelectionUpdate(x,m(p)));if(v){p=u("#paymentOption_"+l+" .payment-options-financing-option");l=p.length;d=0<l;for(k=0;k<l;k++){r=p.get(k);var E=b.$(r).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),
G=u("#"+r.id).parent().parent().parent(),H=G.hasClass(e.classes.hideSwatchMainViewClass);if(E&&v===E.offerGroup){f=!0;H&&(w(p),G.removeClass(e.classes.hideSwatchMainViewClass));b.$(r).click();var A=b.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!d||d&&!f)&&c.ccRemovedSelectionUpdate(x,m(a));g.collapsePaymentOptions(A)}}})});"use strict";p.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",
function(b,c,e){function h(b){var a=l("form#buyNowCheckout");if(0<a.length){var d=a.find("input[name\x3d"+e.parameters.itemType+"]");b=b.executionInfo;b.cartType=e.parameters.cartTypes.buyNow;b=JSON.stringify(b);1>d.length?l("\x3cinput\x3e").attr({type:e.paymentOfferInputElement.inputType,name:e.paymentOfferInputElement.name,value:b,id:"bnMshopPaymentOfferInfo"}).appendTo(a):(a=l("#bnMshopPaymentOfferInfo"),1<d.length?a.detach():a.val(b))}}function g(b){var a=b.executionInfo;a.sessionId=b.sessionId;
a.customerId=b.customerId;a.marketplaceId=b.marketplaceId;a.requestId=b.requestId;a.deviceType=b.deviceType;a.asin=b.asin;a.buyingOptionType=b.buyingOptionType;a.parentASIN=b.parentASIN;a.websiteDisplayGroup=b.websiteDisplayGroup}function d(b,a){return{itemType:e.parameters.itemType,price:b.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:b.priceAndTermCountDisplayString,interestDisplayString:b.interestDisplayString,interestAmount:b.interestAmount,orderSummaryDisplayString:b.orderSummaryDisplayString,
isOrderLevel:b.isOrderLevel,bottomSheetFootnoteDisplayString:b.bottomSheetFootnoteDisplayString,termCount:b.termCount,termType:"mo",formData:a}}var l=b.$,f=e.featureRegistration.featureName,k;return{updatePaymentOptionSelection:function(b){if(!b)return!1;c.ccSelectionsClear(f);clearTimeout(k);l("#bnMshopPaymentOfferInfo").detach();var a=[],m;if(b.hasOwnProperty("executionDetails")&&0!==Object.keys(b.executionDetails).length){var u=b.executionDetails;Object.keys(u).forEach(function(d){if("paymentOfferInfoType"===
d){var c=JSON.parse(b.executionDetails.paymentOfferInfoType);c.sessionId=b.sessionId;c.customerId=b.customerId;c.marketplaceId=b.marketplaceId;c.requestId=b.requestId;c.deviceType=b.deviceType;c.asin=b.asin;c.buyingOptionType=b.buyingOptionType;c.parentASIN=b.parentASIN;c.websiteDisplayGroup=b.websiteDisplayGroup;b.executionDetails.paymentOfferInfoType=JSON.stringify(c);a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:JSON.parse(u[d])}])}else a.push([{inputType:e.paymentOfferInputElement.inputType,
inputName:d,inputValue:u[d]}])});for(var r=0;r<a.length;r++)if(m=d(b,a[r]),m=c.ccSelectionUpdate(f,m),!m)return!1}else if(b.hasOwnProperty("executionInfo")&&0!==Object.keys(b.executionInfo).length)g(b),a.push([{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b.executionInfo}]),m=d(b,a[0]),m=c.ccSelectionUpdate(f,m);else return!0;h(b);k=setTimeout(function(){h(b)},1E3);return m}}});"use strict";p.when("A","cc-payment-options").register("payment-options-actions",
function(b,c){b.declarative("select-payment-option","click",function(b){c.updatePaymentOptionSelection(b.data)})});"use strict";p.when("A","payment-options-opt-out-state","compare-plan-modal","comparison-plans-state","payment-options-client-side-metric","price-block-messaging-constants","compare-plan-2_5-weblab-trigger").register("po-compare-plans-actions",function(b,c,e,h,g,d,l){function f(a){K(a.data.buyingOptionIndex,!1);e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);
w(a);b.hide(n.MORE_OPTION_CLASS);m(h.paymentOptionSelected.paymentOptionSelectedButtonId)}function k(a){K(a.data.buyingOptionIndex,!1);e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);a=q([n.COMPARISON_TABLE_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER));b.show(a)}function w(B){var c=B.data.buyingOptionIndex;B=B.data.selectText;b.hide(n.OFFER_SELECTION_SHEET_CLASS);b.hide(n.LEARN_MORE_SHEET_CLASS);
q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,{buyingOptionIndex:c});var e=q([n.COMPARISON_TABLE_PREFIX,c].join(d.DASH_SPLITTER));b.show(e);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(n.COMPARISON_TABLE_COLUMN_CLASS).removeClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).removeClass(t.COMPARISON_TABLE_DISABLED_COLUMN);
e.find(n.COMPARISON_TABLE_COLUMN_CLASS).sort(function(a,b){a=q(a).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;b=q(b).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).paymentProductIndex;return a-b}).appendTo([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,c].join(d.DASH_SPLITTER));b.hide([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,
c].join(d.DASH_SPLITTER));q([n.COMPARISON_TABLE_MODAL_PREFIX,c].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);q.each(h.paymentOptionSelected.disabledPaymentOptionIds,function(a,b){if(b&&""!==b)if(u(b,t.OFFER_SELECTION_ROW_ACTION_PREFIX)){var B=q("#"+b).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);a=B.buyingOptionIndex;b=B.paymentProductIndex;B=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,B.paymentOptionIndex].join(d.DASH_SPLITTER);
q(B).addClass(t.OFFER_SELECTION_DISABLE_ROW_CLASS);var B=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,a,b].join(d.DASH_SPLITTER),c=q(B),B=c.children().length,c=c.children(n.OFFER_SELECTION_DISABLED_ROW_CLASS).length;B===c&&C(a,b)}else B=q("#"+b).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),a=B.buyingOptionIndex,b=B.paymentProductIndex,C(a,b)});e.find(n.COMPARISON_TABLE_COLUMN_CLASS).each(function(){var b=q(this).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);
if(1===b.numberOfPaymentOptionsWithinProduct)return!0;if(q(this).hasClass(t.COMPARISON_TABLE_DISABLED_COLUMN))var B=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);else B=q(this),b=[n.OFFER_SELECTION_OPTION_LIST_ID_PREFIX,b.buyingOptionIndex,b.paymentProductIndex].join(d.DASH_SPLITTER),b=q(b).children().not("."+t.OFFER_SELECTION_DISABLE_ROW_CLASS).first().find(".a-declarative").data(t.OFFER_SELECTION_ACTION_NAME_CAMEL_CASE);
a(B,b)});b.show(n.COMPARISON_TABLE_OPTION_LIKE);b.hide(n.COMPARISON_TABLE_MORE_OPTION);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS).removeClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);q(n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS).text(B);P(e.find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!1)}function a(a,d){a.find('[id^\x3d"'+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX+'"]').html(d.paymentDetailsSubtitle);a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX+
'"]').text(d.interestDisplayString);var c=a.find('[id^\x3d"'+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX+'"]'),e=c.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);c.text(d.interestApr);e&&(e.removeClass(d.isZeroPercentAPROffer?t.COLOR_BASE:t.COLOR_SUCCESS),e.addClass(d.isZeroPercentAPROffer?t.COLOR_SUCCESS:t.COLOR_BASE));a.find('[id^\x3d"'+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX+'"]').text(d.planTotal);d.isOrderLevel?(b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),
b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]'))):(b.hide(a.find('[id^\x3d"'+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX+'"]')),b.show(a.find('[id^\x3d"'+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX+'"]')));a.find('[id^\x3d"'+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX+'"]').text(d.optionRewardText);a.find('[id^\x3d"'+t.COMPARISON_TABLE_LEARN_MORE_ID_PREFIX+'"]').closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_LEARN_MORE_ACTION_DATA).learnMoreViewDomId=d.learnMoreViewDomId}
function m(a){""===a||"oneTimePaymentOption"===a||b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,a)||(u(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME),a={data:a},E(a),H(a)):(a=q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA),a={data:a},r(a)))}function u(a,b){if(null===a||a===y||null===b||b===y||b.length>a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!==b[d])return!1;return!0}
function r(a){w(a);b.hide(n.MORE_OPTION_CLASS);M(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.selectedText);L(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function x(a,c){a=q(n.MORE_OPTION_PREFIX+[a,c].join(d.DASH_SPLITTER));b.show(a)}function M(a,b,c){var e=q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)),f=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(d.DASH_SPLITTER),g=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX,a,b].join(d.DASH_SPLITTER);
a=[n.COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID,a,b].join(d.DASH_SPLITTER);e.find(f).addClass(t.COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER);e.find(f).addClass(t.COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND);e.find(g).addClass(t.COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED);e.find(a).text(c);P(e.find(f).find(n.COMPARISON_TABLE_SELECT_ACTION_BUTTON),!0)}function C(a,b){a=[n.COMPARISON_TABLE_COLUMN_ID_PREFIX,a,b].join(d.DASH_SPLITTER);q(a).find(n.COMPARISON_TABLE_CAN_DISABLE_CLASS).addClass(t.COMPARISON_TABLE_DISABLED_COLUMN);
q(a).appendTo(q(a).parent())}function p(a){D(a)&&x(a.data.buyingOptionIndex,a.data.paymentProductIndex);b.hide(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER)));e.updateModalHeader(a.data.buyingOptionIndex,a.data.comparisonTableHeaderText);b.hide(q("#"+a.data.currentViewDomId));b.show(q("#"+a.data.comparisonTableDomId))}function D(a){return d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data?!0:(b.show(q([n.COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER))),
!1)}function K(a,b){a=q([n.COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX,a].join(d.DASH_SPLITTER));b?a.animate({scrollLeft:0},100):a.scrollLeft(0)}function I(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);var b=q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,a.data.buyingOptionIndex].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA);d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in b&&u(b.paymentOptionSelectButtonId,t.OFFER_SELECTION_ROW_ACTION_PREFIX)&&
(b={data:q("#"+b.paymentOptionSelectButtonId).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME)},E(b));e.updateModalHeader(a.data.buyingOptionIndex,a.data.offerSelectionHeaderText);Q(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.shouldByPassMarketplaceCheck,a.data.shouldPreselectFirstOffer)}function v(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex);e.updateModalHeader(a.data.buyingOptionIndex,a.data.offerSelectionHeaderText);Q(a.data.buyingOptionIndex,a.data.paymentProductIndex,
a.data.shouldByPassMarketplaceCheck,a.data.shouldPreselectFirstOffer)}function J(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)));q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,a,c].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,
{buyingOptionIndex:a,paymentProductIndex:c})}function F(a,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER));e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(n.OFFER_SELECTION_ROW_CLASS).removeClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS);b.hide(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function E(a){J(a.data.buyingOptionIndex,a.data.paymentProductIndex);A(a.data.buyingOptionIndex,
a.data.paymentProductIndex,a.data.paymentOptionIndex);z(a.data.buyingOptionIndex,a.data.paymentProductIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function G(a){F(a.data.buyingOptionIndex,a.data.paymentProductIndex)}function H(a){if(!(d.PAYMENT_OPTION_SELECT_BUTTON_ID_KEY in a.data))return b.show(q([n.OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX,a.data.buyingOptionIndex,a.data.paymentProductIndex].join(d.DASH_SPLITTER))),!1;w(a);M(a.data.buyingOptionIndex,a.data.paymentProductIndex,
a.data.selectedText);x(a.data.buyingOptionIndex,a.data.paymentProductIndex);var c=a.data.buyingOptionIndex,e=a.data.paymentProductIndex;q(["#"+t.COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).html(a.data.paymentDetailsSubtitle);q(["#"+t.COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.interestDisplayString);var f=q(["#"+t.COMPARISON_TABLE_INTEREST_APR_ID_PREFIX,c,e].join(d.DASH_SPLITTER)),g=f.closest(n.COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER);
f.text(a.data.interestApr);g&&(g.removeClass(a.data.isZeroPercentAPROffer?t.COLOR_BASE:t.COLOR_SUCCESS),g.addClass(a.data.isZeroPercentAPROffer?t.COLOR_SUCCESS:t.COLOR_BASE));q(["#"+t.COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.planTotal);a.data.isOrderLevel?(b.show(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER))),b.hide(q(["#"+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)))):(b.hide(q(["#"+t.COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX,
c,e].join(d.DASH_SPLITTER))),b.show(q(["#"+t.COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX,e].join(d.DASH_SPLITTER))));q(["#"+t.COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).text(a.data.optionRewardText);q("#"+a.data.learnMoreLinkDomId).closest(n.SPAN_DECLARATIVE).data(a.data.learnMoreLinkActionName).learnMoreViewDomId=a.data.learnMoreViewDomId;b.show(q([n.COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID,c,e].join(d.DASH_SPLITTER)));b.hide(q([n.COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID,
c,e].join(d.DASH_SPLITTER)));L(a.data.buyingOptionIndex,a.data.paymentOptionSelectButtonId,a.data.buttonActionName)}function A(a,b,c){var e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,b].join(d.DASH_SPLITTER));a=[n.OFFER_SELECTION_ROW_ID_PREFIX,a,b,c].join(d.DASH_SPLITTER);e.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS);e.find(a).addClass(t.OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS)}function z(a,b,c,e){c=q("#"+c).closest(n.SPAN_DECLARATIVE).data(e);q([n.OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX,
a,b].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_CONTINUE_ACTION_DATA,c)}function L(a,b,c){b=q("#"+b).closest(n.SPAN_DECLARATIVE).data(c);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,a].join(d.DASH_SPLITTER)).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA,b)}function Q(a,c,e,f){b.hide(q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)));e&&!f||0<q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)).find("."+t.OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS).length||
(A(a,c,0),e=n.OFFER_SELECTION_ROW_ACTION_CLASS.replace(".","")+d.DASH_SPLITTER+[a,c,0].join(d.DASH_SPLITTER),z(a,c,e,t.OFFER_SELECTION_ROW_ACTION_NAME));b.show(q([n.OFFER_SELECTION_VIEW_ID_PREFIX,a,c].join(d.DASH_SPLITTER)))}function R(a){b.hide(q("#"+a.data.comparisonTableDomId));e.updateModalHeader(a.data.buyingOptionIndex,a.data.learnMoreHeaderText);b.show(q("#"+a.data.learnMoreViewDomId))}function S(a){return u(a,t.OFFER_SELECTION_ROW_ACTION_PREFIX)?q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME):
q("#"+a).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA)}function P(a,b){a&&a.attr(T.ariaChecked,b)}var q=b.$,n=d.selector,t=d.classes,T=d.attributes;b.declarative("price-block-compare-plans","click",function(a){var x=a.data.changePlanBehavior,m=c.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?g.logNexusEventForChangePlansLink(a):
g.logNexusEventForComparePlansLink(a);b.loadImageManually(q(".comparison-table-comparison-card-image"));m||"OPT_OUT_PLAN"!==x?(g.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1),a.data.isMxViewableExperienceEnabled?k(a):f(a),e.showModal(a),l.triggerWeblab()):(c.paymentOptionOptOutSelected.changePlanEventData=a,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",a))});b.declarative("comparison-table-select-plan",["click","keydown"],function(a){if("keydown"!==a.type||
13===a.$event.keyCode||32===a.$event.keyCode)g.logNexusEventForComparePlansOfferSelection(a),b.loadImageManually(q(".compare-plan-payment-product-card-image")),a.data.shouldNotSelectFinancingOptionColumn||(a.data.isMxViewableExperienceEnabled||1<a.data.numberOfPaymentOptionsWithinProduct?(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_MORE_OFFER_CLICK,1),a.data.isMxViewableExperienceEnabled?v(a):I(a)):(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK,
1),r(a)))});b.declarative("offer-selection-select-row",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_SELECT_ROW_CLICK,1),a.data.isMxViewableExperienceEnabled?G(a):E(a)});b.declarative("compare-plan-offer-selection-continue",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_OFFER_SELECTION_CONTINUE_CLICK,
1),a.data.isMxViewableExperienceEnabled||H(a),b.hide(n.MORE_OPTION_CLASS),p(a)});b.declarative("comparison-table-confirm-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK,1),a.data.isMxViewableExperienceEnabled?e.hideModal(a.data.buyingOptionIndex):D(a)&&(g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK,1),b.trigger("a:declarative:price-block-select-payment-plan:click",
a),e.hideModal(a.data.buyingOptionIndex))});b.declarative("comparison-table-cancel-plan",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_CANCEL_PLAN_CLICK,1),g.logNexusEventForCancelPlan(a),e.hideModal(a.data.buyingOptionIndex),w(a),b.trigger("a:declarative:price-block-otp-action:click",a)});b.declarative("comparison-table-learn-more","click",function(a){b.loadImageManually(q(".compare-plan-learn-more-feature-image-content"));
b.loadImageManually(q(".compare-plan-payment-product-card-image"));g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_LEARN_MORE_CLICK,1);R(a)});b.declarative("back-to-comparison-table",["click","keydown"],function(a){if("keydown"!==a.type||13===a.$event.keyCode||32===a.$event.keyCode)g.incrementWithValuePriceBlockMessaging(d.metrics.CP2_BACK_CLICK,1),p(a)});var U=function(a,b){return a.id<b.id?-1:a.id>b.id?1:0};return{renderComparisonTable:f,renderViewableComparisonTable:k,selectPaymentOptionInComparisonTable:r,
selectPaymentOptionInOfferSelection:E,selectPaymentOptionInViewableOfferSelection:G,confirmPlanInOfferSelection:H,renderOfferSelectionView:I,renderViewableOfferSelectionView:v,renderLearnMoreView:R,selectAndConfirmPlan:function(a,b){m(b);q([n.COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX,a].join(d.DASH_SPLITTER)).click()},isAnyOfferSelected:D,getMaxQuantityData:function(a){return S(a).maxQuantity},findMaximumMaxQuantity:function(a){var b=1;a=q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_COLUMN_CLASS);
q.each(a,function(a,c){a=q(c).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);c=a.buyingOptionIndex;var e=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,c,e].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(a,function(a,c){a=q(c).closest(n.SPAN_DECLARATIVE).data(t.OFFER_SELECTION_ROW_ACTION_NAME);b=Math.max(b,a.maxQuantity)})):b=Math.max(b,a.maxQuantity)});return b},
getTotalOptionCount:function(a){var b=0;q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).each(function(){var a=q(this).closest(n.SPAN_DECLARATIVE).data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA).numberOfPaymentOptionsWithinProduct;b+=a});return b},getTopEnabledOfferDataInComparisonTable:function(a){a=q([n.COMPARISON_TABLE_PREFIX,a].join(d.DASH_SPLITTER)).find(n.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).sort(U);var c;q.each(a,function(a,e){if(c)return!1;
a=q(e).parent().data(t.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);var f=a.buyingOptionIndex,g=a.paymentProductIndex;if(1<a.numberOfPaymentOptionsWithinProduct)e=q([n.OFFER_SELECTION_VIEW_ID_PREFIX,f,g].join(d.DASH_SPLITTER)).find(n.OFFER_SELECTION_ROW_ACTION_CLASS),q.each(e,function(a,d){a=q(d).attr("id");if(!h.paymentOptionSelected.disabledPaymentOptionIds||!b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,a))return c=a,!1});else if(e=q(e).attr("id"),!h.paymentOptionSelected.disabledPaymentOptionIds||
!b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,e))return c=e,!1});if(c)return S(c)},backToComparisonTable:p}});"use strict";p.when("A","compare-plan-row-constants").register("compare-plan-row-height-updater",function(b,c){var e=[c.COMPARE_PLAN_PAYMENT_DETAILS,c.COMPARE_PLAN_INTEREST_ROW];return{updateRowHeight:function(c){for(var g=0;g<e.length;g++){for(var d=b.$(c).find(e[g]),l,f=l=0;f<d.length;f++)d[f].offsetHeight>l&&(l=d[f].offsetHeight);if(0<l)for(f=0;f<d.length;f++)d[f].style.height=
l.toString()+"px"}}}});"use strict";p.when("A").register("compare-plan-row-constants",function(b){return{COMPARE_PLAN_CARD_OPTION:".comparison-table-comparison-card-option",COMPARE_PLAN_PAYMENT_DETAILS:".comparison-table-payment-details",COMPARE_PLAN_INTEREST_ROW:".comparison-table-interest-row-value",COMPARE_PLAN_TOTAL_AMOUNT:".comparison-table-total-amount",COMPARE_PLAN_APPLIES_TO_ROW:".comparison-table-plan-applies-to-row-value",COMPARE_PLAN_REWARD_ROW:".comparison-table-card-reward-row-value"}});
"use strict";p.when("A").register("po-sidesheet-ajax-state",function(b){var c=b.$,e={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},h={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(b){return e[b]},setComparePlansState:function(b,c){e[b]=c},getLearnMoreState:function(b){return h[b]},setLearnMoreState:function(b,c){h[b]=c},checkInconsistentState:function(){if(e.isAjaxContentLoaded&&h.isAjaxContentLoaded){if(e.ajaxContentAsin!==h.ajaxContentAsin)return this.resetComparePlansState(),
this.resetLearnMoreState(),!0;var b=c("#twister-plus-asin").val();if(e.ajaxContentAsin!==b)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin","")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin",
"")}}});"use strict";p.when("A","payment-options-state","payment-options-opt-out-state","comparison-plans-state","po-compare-plans-actions","price-block-messaging-constants","payment-options-client-side-metric").register("ufo-compare-payment-plans",function(b,c,e,h,g,d,l){var f=b.$;b.declarative("compare-payment-plans","click",function(d){b.trigger("a:declarative:side-sheet:click",d);c.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",d):g.renderPreselection(d)});
b.declarative("price-block-compare-payment-plans","click",function(f){l.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_CLICK,1);var w=f.data.changePlanBehavior,a=e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet;h.paymentOptionSelected.paymentOptionSelectedButtonId&&"oneTimePaymentOption"!==h.paymentOptionSelected.paymentOptionSelectedButtonId?l.logNexusEventForChangePlansLink(f):l.logNexusEventForComparePlansLink(f);a||"OPT_OUT_PLAN"!==w?(b.trigger("a:declarative:open-payment-options-side-sheet:click",
f),c.getWeblabData().isDesktopComparePlansAjaxEnabled?b.trigger("a:declarative:compare-payment-plans-ajax:click",f):(g.renderPreselection(f),l.incrementWithValuePriceBlockMessaging(d.metrics.COMPARE_PLAN_RENDERED,1))):(e.paymentOptionOptOutSelected.changePlanEventData=f,b.trigger("a:declarative:open-priceblock-change-plan-modal:click",f))});b.declarative("compare-payment-plans-ajax","click",function(b){g.loadAjaxContent(b)});b.declarative("overflow-sidesheet","click",function(c){var d=f(c.$currentTarget);
d!==y&&null!==d&&(f("#"+c.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||b.trigger("a:declarative:monthly-payment-option-selection:click",c))})});"use strict";p.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",function(b,c,e,h,g,d){function l(){c.resetLearnMoreState();r(e.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");r(e.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function f(a,b){a=r(a);var c=w(),d=e.learnMoreSelector.preselectiedOptionSelector+"-"+c,f=e.learnMoreSelector.paymentOptionsCountSelector+"-"+c,l=e.learnMoreSelector.firsOfferIdSelector+"-"+c;return 0!==a.filter(e.learnMoreSelector.viewModelFailedSelector+"-"+c).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(d).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(f).data("paymentPlansCount")!==b.numberOfPaymentOptions?(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",
1),!0):a.filter(l).data("firstOfferId")!==b.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function k(d,f,g){r(e.learnMoreSelector.learnMoreSidesheetSelector).html(c.getLearnMoreState("ajaxContent"));g=e.learnMoreSelector.learnMoreContentSelector+"-"+g;g+=w();r(g).removeClass("aok-hidden");b.loadDescendantImagesManually(r(".payment-options-side-sheet-header"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(r(".payment-options-side-sheet-comparison-group-container"));
b.loadDescendantImagesManually(r(".payment-options-comparison-sheet-comparison-card-option"));a(d,f)}function w(){return b.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function a(a,b){m(d.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function m(a,b,c){u(b);r(function(){r("[id\x3d"+a+"]").removeClass(x.unselectedButton);r("[id\x3d"+a+"]").addClass(x.selectedButton);r("[id\x3d"+a+"]").children(0).children(0).text(c);r("[id\x3d"+a+"]").text(c)})}function u(a){r(x.sideSheetButton).removeClass(x.selectedButton);
r(x.sideSheetButton).addClass(x.unselectedButton);r(x.sideSheetButton).text(a);r(x.oneTimePaymentHeadButton).removeClass(x.selectedButton);r(x.oneTimePaymentHeadButton).addClass(x.unselectedButton);r(x.oneTimePaymentHeadButton).text(a)}var r=b.$,x=e.selector;b.on("PageRefresh:ATF",function(){c.resetLearnMoreState()});return{loadAjaxContent:function(a){var d=a.data.selectText,x=a.data.selectedText,h=r("#twister-plus-asin").val();null===h||""===h?(g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",
1),l()):c.getLearnMoreState("isAjaxContentLoaded")&&!c.checkInconsistentState()?k(d,x,a.data.index):(r(e.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),r(e.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,params:{asin:h,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions"},success:function(b){null===b||/^\s*$/.test(b)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",
1),l()):f(b,a.data)?l():(c.setLearnMoreState("ajaxContent",b),c.setLearnMoreState("isAjaxContentLoaded",!0),c.setLearnMoreState("ajaxContentAsin",h),k(d,x,a.data.index))},error:function(a,b){b===e.ajaxErrorReasons.timeoutStatus?g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);l()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:a}});"use strict";p.when("A","payment-options-state",
"po-learn-more-actions","payment-options-client-side-metric","payment-options-constants").register("payment-options-learn-more-events",function(b,c,e,h,g){b.declarative("payment-options-learn-more","click",function(d){h.increment("SideSheet:Link:Click");e.stopEventPropagation(d);b.trigger("a:declarative:side-sheet:click",d);!d.data.isComparePlansEvent&&c.getWeblabData().isDesktopLearnMoreAjaxEnabled?b.trigger("a:declarative:payment-options-learn-more-ajax:click",d):e.preRenderSelectedFinancingOption(d.data.selectText,
d.data.selectedText)});b.declarative("payment-options-gil-skip-learn-more","click",function(b){h.incrementWithValue(g.metricConstants.skipLearnMoreMetricForDesktop,1);v.open(b.data.partnerUrl,"_blank","noopener")});b.declarative("payment-options-learn-more-ajax","click",function(b){e.loadAjaxContent(b)})});"use strict";p.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,c,e,h,g){function d(b){if(a===
y||null===a||null===b.data.isExpand||b.data.isExpand===y){if(null===b.data.isExpand||b.data.isExpand===y)f("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,b.data.isExpand=!1;c.initSubtitle(b);m&&c.hideLoaderAnimation(b.data.isExpand)}}function l(b){a=!0;var d=b.data.renderPreselection;e.autoScroll=!b.data.isAutoExpand;d||m?c.expandPaymentOptions(m,d):(u.isStarted||u.start(),c.expandSkeletonLoader(d));h.logNexusEventForSwatchExpansion(b)}var f=b.$,k=g.expTreatment,
w=g.isFirstCard&&"T1"===k||"T2"===k||"T3"===k,a,m=e.isLoaded,u=new h.Timer("Desktop:Expander:Loading:UserWaiting:Time"),r=new h.Timer("Desktop:Expander:Loading:Time");r.start();p.when("cc-payment-options").execute(function(){r.stop();u.isStarted&&u.stop();m=!0;c.hideLoaderAnimation(a);h.incrementWithValue("Container:Swatch:Amount",f(".payment-options-list-item").length)});b.declarative("toggle-payment-options-expander",["click","keydown"],function(e){if("keydown"!==e.type||13===e.$event.keyCode||
32===e.$event.keyCode){d(e);a=e.data.isExpand;var g=e.data.renderPreselection;!0===a?(a=!1,h.increment("Desktop:Expander:Click:Collapse"),c.collapsePaymentOptions(g)):!1===a&&l(e);f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=a});b.trigger("a:declarative:expander-update-visible-payment-options:click",e)}});b.declarative("expand-payment-options-expander",function(a){if(!k||a.data.forceExpand)d(a),l(a),f("[data-toggle-payment-options-expander]").each(function(){f(this).data("toggle-payment-options-expander").isExpand=
!0})});w&&g.autoExpandCard()});"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(b,c,e,h,g,d){function l(){if(c.autoScroll){var b=a(m.expanderContainer),d=b.offset().top+b.outerHeight();if(a(v).scrollTop()+a(v).height()<d){var d=b.offset().top,e=a(v).height(),b=b.height(),b=d-(e-b)/2;a("html, body").animate({scrollTop:b},c.animationTimeoutUnit)}}}
function f(b,c){b=b?r.monthlyPaymentOptionsExpandedSubtitle:c?r.monthlyPaymentOptionsExpandedSubtitle:r.loadingSubtitle;a(m.subtitleText).text(b);!1===c&&a(m.cardImage).fadeOut(e.animationTimeoutUnit)}function k(b){""!==r.monthlyPaymentOptionsCollapsedSubtitle&&a(m.subtitleText).text(r.monthlyPaymentOptionsCollapsedSubtitle);!1===b&&a(m.cardImage).fadeIn(e.animationTimeoutUnit)}function w(b,c){a(b)&&a(b).attr(u.ariaExpanded,c)}var a=b.$,m=e.selector,u=e.attributes,r=c.expanderSubtitle;return{initSubtitle:function(a){var b=
a.data.expandSubtitle;r.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;r.monthlyPaymentOptionsExpandedSubtitle=b},expandPaymentOptions:function(c,g){h.increment("Desktop:Expander:Click:Expand");h.increment("Desktop:Expander:Click:Expand:loading");a(m.expanderContent).addClass(m.paymentOptionExpand);a(m.expanderIcon).addClass("rotate");d.cardExpanded(e.featureRegistration.featureName);b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);f(c,g);l()},e.animationTimeoutUnit);b.$(m.refreshToggle).hasClass("refresh-toggle")||
b.$(m.refreshCCText).removeClass("a-hidden");w(m.toggleExpanderButton,!0)},expandSkeletonLoader:function(c){h.increment("Desktop:Expander:Click:Expand");a(m.expanderContent).addClass(m.skeletonLoaderExpand);a(m.expanderIcon).addClass("rotate");b.delay(function(){c||(a(m.skeletonLoader).addClass(m.twisterPlusFadeIn),f(!1,c),l())},e.animationTimeoutUnit);w(m.toggleExpanderButton,!0)},hideLoaderAnimation:function(c,d){c&&a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);b.delay(function(){a(m.skeletonLoader).hide();
a(m.swatch).removeClass("invisible");c&&(a(m.subtitleText).text(r.monthlyPaymentOptionsExpandedSubtitle),a(m.expanderContent).addClass(m.paymentOptionExpand),b.delay(function(){a(m.swatch).addClass(m.twisterPlusFadeIn);f(!0,d);l()},e.animationTimeoutUnit))},e.animationTimeoutUnit)},collapsePaymentOptions:function(d){a(m.swatch).removeClass(m.twisterPlusFadeIn);c.isLoaded||d||a(m.skeletonLoader).removeClass(m.twisterPlusFadeIn);a(m.expanderIcon).removeClass("rotate");b.delay(function(){a(m.expanderContent).removeClass(m.paymentOptionExpand);
a(m.expanderContent).removeClass(m.skeletonLoaderExpand);k(d)},e.animationTimeoutUnit);w(m.toggleExpanderButton,!1);b.$(m.refreshCCText).hasClass("a-hidden")||b.$(m.refreshCCText).addClass("a-hidden")},showSubtitleInCollapsedView:k,showSubtitleInExpandedView:f,scrollToShowCompleteExpander:l}});"use strict";p.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(b,c,e,
h,g){var d=!1,l=function(){var f=document.getElementById("payment-options-expander-header"),l=c.getWeblabData().isAutoExpandWeblabInT1||c.getWeblabData().isAutoExpandWeblabInT2;if(f){if(f=l)f=h.getRenderedFeaturesList(),l=f[0]===g.featureRegistration.featureName,f=1===f.length&&l;f&&(f=JSON.parse(b.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),f.isAutoExpand=!0,b.trigger("a:declarative:expand-payment-options-expander",{data:f}),e.increment("Expander:AutoExpanded"),
d=!0)}};l();b.on("a:pageUpdate",l);return{isAutoExpanded:d}});"use strict";p.when("A").register("payment-options-expander-state",function(b){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"Loading options..."},get isLoaded(){return this.property},set isLoaded(b){this.property=b}}});"use strict";p.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(b,
c,e,h){var g=b.$,d=!h.expTreatment||"T3"===h.expTreatment;b.declarative("payment-options-otp-action",["click","keydown"],function(l){if("keydown"!==l.type||13===l.$event.keyCode||32===l.$event.keyCode){e.increment("Swatch:OneTimePayment:Click");b.trigger("a:declarative:select-payment-option:click",{data:{}});var f=g(l.$currentTarget);f!==y&&null!==f&&(c.updateDefaultOptionSubtitle(l.data.defaultPOSubtitle,l.data.oneTimePaymentPOSubtitle),b.trigger("a:declarative:otp-selection:click",l),d||h.collapseCard())}});
b.declarative("payment-options-monthly-payment-action",["click","keydown"],function(c){if("keydown"!==c.type||13===c.$event.keyCode||32===c.$event.keyCode){var f=g(c.$currentTarget);f!==y&&null!==f&&(b.trigger("a:declarative:monthly-payment-option-selection:click",c),d||h.collapseCard(),e.logNexusEventForMonthlyPaymentSelection(c))}});b.declarative("payment-options-overflow","click",function(b){c.manageOverflow(b)});b.declarative("expander-update-visible-payment-options","click",function(b){var d=
g(b.$currentTarget);d!==y&&null!==d&&c.resetOverflowDefaultOptions(b)});b.declarative("update-swatch","click",function(b){"oneTimePaymentOption"===b.data.selectedPaymentOptionId?c.updateSwatchStyle(b.data.selectedPaymentOptionId):(c.updateSwatchStyle(b.data.selectedPaymentOptionId),c.updateFinancingOptionSubtitle(b.data.subtitleMessage,b.data.cardImageUrl))});b.declarative("disable-swatch","click",function(b){c.disableSwatch(b.$currentTarget)});b.declarative("enable-swatch","click",function(b){c.enableSwatch(b.$currentTarget)})});
"use strict";p.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(b,c,e,h){function g(b){f(k.swatchOption).removeClass(k.selectedOption);var c=f(k.swatchActionButton);c&&c.attr(a.ariaChecked,!1);b="oneTimePaymentOption"===b?f(k.oneTimePaymentOption):f("#"+b+"Swatch");b.addClass(k.selectedOption);(b=b.closest(k.swatchActionButton))&&b.attr(a.ariaChecked,!0)}function d(a){a.addClass(w.hideSwatchMainViewClass)}
function l(a,b){a.removeClass(w.hideSwatchMainViewClass);g(b);h.paymentOptionSelected.paymentOptionSelectedButtonId=b;h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var f=b.$,k=e.selector,w=e.classes,a=e.attributes,m=c.expanderSubtitle;return{updateSwatchStyle:g,updateDefaultOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=b;f(k.subtitleText).text(b);f(k.subtitle).removeClass("a-color-success");f(k.subtitle).addClass("a-color-tertiary");
f(k.checkmark).addClass("a-hidden");f(k.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=a;f(k.subtitleText).text(a);f(k.subtitle).removeClass("a-color-tertiary");f(k.subtitle).addClass("a-color-success");f(k.checkmark).removeClass("a-hidden");f(k.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(k.financingOptions);b.removeClass(k.selectedOption);b.addClass(k.unavailableOption);a.addClass(k.disabledSwatch)},enableSwatch:function(a){a.find(k.financingOptions).removeClass(k.unavailableOption);a.removeClass(k.disabledSwatch)},manageOverflow:function(a){h.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var b=f("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(b.hasClass(w.hideSwatchMainViewClass)){for(var c=f(w.paymentOptionsList)[0].children,
e="",m=c.length-2;0<=m;m--)if(!f(c[m]).hasClass(w.hideSwatchMainViewClass)){e=f(c[m]);break}d(e);l(b,a.data.paymentOptionSelectButtonId)}else g(a.data.paymentOptionSelectButtonId),h.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:d,unhideCorrespondingSwatch:l,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=f(w.paymentOptionsList)[0].children;
a="";for(var c=b.length-2;0<=c;c--)if(!f(b[c]).hasClass(w.hideSwatchMainViewClass)){a=f(b[c]);break}b=f(f(f(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(k.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(d(a),f("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(w.hideSwatchMainViewClass))}}}});"use strict";p.when("A").register("payment-plan-state",function(b){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(b){this.property=b}}});"use strict";p.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(b,c,e,h){var g=b.$;b.declarative("otp-selection","click",function(d){var e=g(d.$currentTarget[0].parentNode);d=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===e[0].parentNode.className?
c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(h.increment("SideSheet:OneTimePayment:Click"),c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);c.paymentOptionSelected.paymentOptionSelectedButtonId=d;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:c.paymentOptionSelected.paymentOptionSelectedButtonId}})});b.declarative("monthly-payment-option-selection","click",function(d){d.data.hasOwnProperty("optionId")&&""!==d.data.optionId&&h.increment("Swatch:Financing:"+
d.data.optionId+":Click");h.increment("Swatch:MonthlyPayment:Click");b.trigger("a:declarative:select-payment-option:click",d);var e=g(d.$currentTarget);if(e!==y&&null!==e){var e=d.data.posubtitle,f=d.data.cardImageUrl,k=g(d.$currentTarget[0].parentNode),w=d.data.paymentOptionSelectButtonId;"payment-options-list-item"===k[0].parentNode.className?c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(d.data.hasOwnProperty("optionId")&&""!==d.data.optionId?h.increment("SideSheet:Financing:"+d.data.optionId+
":Click"):h.increment("SideSheet:Financing:"+d.data.executionInfo.offerType+":"+d.data.termType+":"+d.data.termCount+":Click"),c.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);c.paymentOptionSelected.paymentOptionSelectedButtonId=w;b.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:c.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:e,cardImageUrl:f}});b.trigger("a:declarative:payment-options-overflow:click",d)}});b.declarative("compare-payment-plans-disable",
"click",function(b){c.paymentOptionSelected.paymentOptionUnAvailableMsg=b.data.paymentOptionUnAvailableMsg;b=b.data.disabledPaymentOptionId;var h=b.match(/\d+/g)[0],h="#"+e.disabledPaymentOptionSelecter+h;c.paymentOptionSelected.paymentOptionDisabledButtonId=b;c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=g(h).text()});b.declarative("compare-payment-plans-enable","click",function(b){(b=b.data.enablePaymentOptionId)&&""!==b&&(b=b.match(/\d+/g)[0],c.paymentOptionSelected.paymentOptionDisabledButtonId=
"",g("#"+e.disabledPaymentOptionSelecter+b).text(c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),c.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",g("[id\x3d"+e.popOverText+b+"cell]").removeClass(e.classes.popOverShowClass),g("[id\x3d"+e.popOverText+b+"cell]").addClass(e.classes.popOverHideClass))})});"use strict";p.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(b,c,e){b.declarative("payment-options-emp-action","change",function(b){c.updatePaymentOptionSelection(b.data)});
var h=b.debounce(function(){var c=b.$,d=c("#PaymentOptionsEmpAction");0<d.length&&d.trigger("change");0<c("#monthly-payments-not-applicable").length&&e.increment("Container:Render:Error");0<c(".payment-options-container").length&&e.increment("Container:Render:Success")},100);h();b.on("PageRefresh:ATF",h)});"use strict";p.when("A","price-block-payment-options","payment-options-client-side-metric","price-block-messaging-constants","ready").execute(function(b,c,e,h){var g=b.$;b.declarative("payment-options-emp-action-priceblock",
"change",function(b){c.updateUfoSelection(b.data)});var d=b.debounce(function(){var b=g("#PaymentOptionsEmpActionPriceBlock");0<b.length&&b.trigger("change");0<g("#monthly-payments-not-applicable").length&&e.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_FALSE,1);0<g(h.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&0<g(h.selector.PRICE_BLOCK_STRING_CONTAINER).length&&e.incrementWithValuePriceBlockMessaging(h.metrics.RENDERED_TRUE,1)},100);d();b.on("PageRefresh:ATF",d)});"use strict";p.when("A",
"payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(b,c,e,h){var g=b.$;c=new c.Timer("Expander:Loading:Images:Time");c.start();e=function(){b.loadDescendantImagesManually(g(".payment-options-financing-option-card-image"));b.loadDescendantImagesManually(g(".payment-options-expander-heading-image-container"));b.loadDescendantImagesManually(g(".payment-option-detailed-feature-scroll"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-header"));
b.loadDescendantImagesManually(g(".payment-options-side-sheet-option-summary"));b.loadDescendantImagesManually(g(".payment-options-side-sheet-comparison-group-container"));b.loadDescendantImagesManually(g(".payment-options-comparison-sheet-comparison-card-option"))};e();b.on("a:pageUpdate",e);c.stop()});"use strict";p.when("A","payment-options-swatch-actions","payment-options-constants","payment-options-state","cc-manager").execute(function(b,c,e,h,g){function d(a){var b=a.executionInfo;b.cartType=
e.parameters.cartTypes.addToCart;return{itemType:e.parameters.itemType,price:a.price,selectionType:e.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,
displayQuantityMessage:!0,formData:[{inputType:e.paymentOfferInputElement.inputType,inputName:e.paymentOfferInputElement.name,inputValue:b}]}}var l=b.$,f=e.selector,k=e.featureRegistration.featureName,w;b.on("a:dropdown:selected:quantity",function(a){var m=l("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,u=l("#paymentOption_"+m+" .payment-options-list-item"),m=l("#paymentOption_"+m+" #oneTimePaymentOptionSwatch");a=a.value;for(var r=b.$(e.classSelector+f.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(f.monthlyPaymentAction),
x=1;x<u.length;x++){var p=u.eq(x).find("span.a-declarative").data(f.monthlyPaymentAction),C=p.maxQuantity;C&&(a>C?(c.disableSwatch(u.eq(x)),C={data:{paymentOptionUnAvailableMsg:p.unAvailableText,numberOfPaymentOptions:p.numberOfPaymentOptions,disabledPaymentOptionId:p.paymentOptionSelectButtonId}},h.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-disable:click",C):c.disableOptionInCompareAllPlans(C),r&&p.offerGroup===r.offerGroup&&(l(m).click(),g.ccRemovedSelectionUpdate(k,
d(p)),w=p.offerGroup)):(c.enableSwatch(u.eq(x)),h.getWeblabData().isComparePlansRefactorWeblabInT1?b.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:p.paymentOptionSelectButtonId}}):c.enableOptionInCompareAllPlans(p.numberOfPaymentOptions),w&&p.offerGroup===w&&(l(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&b.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:u.eq(x).find("span.a-declarative"),
data:p}),g.ccRemovedSelectionsClear(k))))}})});"use strict";p.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options","po-compare-plans-actions","price-block-buy-box-utils").execute(function(b,c,e,h,g,d,l,f){function k(a,d){if(d.maxQuantity)if(a>d.maxQuantity){a=d.unAvailableMsg;var e=d.paymentOptionSelectButtonId;d=h.ID_PREFIX+c.disabledPaymentOptionSelecter+d.paymentOptionIndex;b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,
e)||(g.paymentOptionSelected.paymentOptionUnAvailableMsg.push(a),g.paymentOptionSelected.disabledPaymentOptionIds.push(e),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(m(d).text()))}else 0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(d.paymentOptionSelectButtonId)&&(a=d.paymentOptionIndex,(d=d.paymentOptionSelectButtonId)&&""!==d&&b.contains(g.paymentOptionSelected.disabledPaymentOptionIds,d)&&(d=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(d),g.paymentOptionSelected.disabledPaymentOptionIds.splice(d,
1),m(h.ID_PREFIX+c.disabledPaymentOptionSelecter+a).text(g.paymentOptionSelected.paymentOptionDisabledTitleSupplement[d]),g.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(d,1),g.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(d,1),m("[id\x3d"+c.popOverText+a+"cell]").removeClass(c.classes.popOverShowClass),m("[id\x3d"+c.popOverText+a+"cell]").addClass(c.classes.popOverHideClass)))}function w(a){if(a=l.getTopEnabledOfferDataInComparisonTable(a))return a.paymentOptionSelectButtonId}
function a(a,b,c){v&&a.find(h.ID_PREFIX+v).length?0<=g.paymentOptionSelected.disabledPaymentOptionIds.indexOf(v)?(a={},a[u.MAX_QUANTITY_VARIABLE]=l.getMaxQuantityData(v)+1,e.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a),d.cancelUfoSelection()):l.selectAndConfirmPlan(D,v):C&&C!==p?e.resetPriceBlockMessageWithTopEligibleOffer(b):(a=l.getTotalOptionCount(D))&&a===g.paymentOptionSelected.disabledPaymentOptionIds.length&&(a={},a[u.MAX_QUANTITY_VARIABLE]=l.findMaximumMaxQuantity(D)+
1,e.showErrorMessage(h.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,b,!0,a))}var m=b.$,u=h.selector,r=h.classes,x=h.DASH_SPLITTER,p,C,v,D;b.on("a:dropdown:selected:quantity",function(b){if(m(u.PRICE_BLOCK_STRING_CONTAINER).length){D=f.getActiveBuyingOptionIndex();var c=b.value;b=m([u.COMPARISON_TABLE_MODAL_PREFIX,D].join(x));var d=b.find(u.COMPARISON_TABLE_COLUMN_CLASS);p=w(D);var e=m(u.PRICE_BLOCK_CONTAINER_PREFIX+D);m.each(d,function(a,b){a=m(b).find(u.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS).parent().data(r.COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA);
b=a.buyingOptionIndex;var d=a.paymentProductIndex;1<a.numberOfPaymentOptionsWithinProduct?(a=m([u.OFFER_SELECTION_VIEW_ID_PREFIX,b,d].join(x)).find(u.OFFER_SELECTION_ROW_ACTION_CLASS),m.each(a,function(a,b){a=m(b).closest(u.SPAN_DECLARATIVE).data(r.OFFER_SELECTION_ROW_ACTION_NAME);k(c,a)})):k(c,a)});C=w(D);v=g.paymentOptionSelected.paymentOptionSelectedButtonId;a(b,e,d)}})});"use strict";p.when("A","payment-options-client-side-metric","price-block-consistency-check","price-block-ajax-constants","price-block-skeleton",
"ready").register("price-block-ajax",function(b,c,e,h,g){function d(a,c){u(h.COMPARE_PLAN_PLACEHOLDER_SELECTOR).each(function(){var c=u(this),d=c.attr("id").replace("compare-plan-ajax-placeholder-",""),e=a.find("#compare-plan-ajax-"+d);c.fadeOut(200,function(){e.length?(c.html(e.html()),b.loadImageManually(u(".comparison-table-comparison-card-image")),b.loadImageManually(u(".compare-plan-payment-product-card-image")),b.loadImageManually(u(".compare-plan-learn-more-feature-image-content"))):k(c);c.fadeIn(400)})});
"function"===typeof c&&c()}function l(a,b){u(h.NTH_ASIN_POPUP_PLACEHOLDER_SELECTOR).each(function(){var c=u(this),d=c.attr("id").replace("change-plan-modal-ajax-placeholder-",""),e=a.find("#nth-asin-popup-ajax-"+d);c.fadeOut(200,function(){e.length?c.html(e.html()):k(c);c.fadeIn(400).promise().done(function(){"function"===typeof b&&b()})})})}function f(a){var b=u("#payment-options-request-parameters").get(0);if(b){var b=JSON.parse(b.getAttribute("data-ajax-request-parameters")),c;for(c in r)if(c){var d=
r[c];b.hasOwnProperty(d)&&0!==b[d].length&&(a[c]=b[d])}}}function k(a){b.hide(a.find(".payment-option-loading-view"));b.show(a.find(".payment-option-error-view"))}function w(b){var c={};c.showFeatures=b+",paymentOptions";c.asin=a();return c}function a(){return u("#page-load-asin").text().trim()}function m(a,b){try{v.ueLogError&&v.ueLogError({message:a,attribution:b,logLevel:"ERROR"})}catch(d){c.incrementWithValue("Priceblock:Ajax:LogErrorFailed",1)}}var u=b.$,r={merchantId:"EXCLUSIVE_MERCHANT_ID",
preselectedMerchantId:"PRESELECTED_MERCHANT_ID"};return{renderPriceBlockWithAjax:function(k,r,p){if(0!==u(h.COMPARE_PLAN_PLACEHOLDER_SELECTOR).length||0!==u(h.NTH_ASIN_POPUP_PLACEHOLDER_SELECTOR).length){k=w(k);f(k);var v=a();null===v||v===y||""===v||"null"===v||0===v.trim().length?(c.incrementWithValue("Priceblock:Ajax:InvalidAsin",1),m("Invalid ASIN was extracted from HTML, asin: "+v,"Priceblock:Ajax:InvalidAsin")):b.ajax("/gp/product/ajax/paymentOptionsAjaxExperience?",{method:"get",timeout:1E4,
params:k,success:function(a){if(null===a||/^\s*$/.test(a))c.incrementWithValue("Priceblock:Ajax:Failure:Inconsistency",1),m("Ajax Call return empty response, asin: "+v,"Priceblock:Ajax:Failure:Inconsistency");else{a=u("\x3cdiv\x3e").html(a);var b=e.extractBuyingOptions(a.find("#ajax-buying-option")),f=e.extractBuyingOptions(u("#page-load-buying-option"));e.areBuyingOptionsEqual(b,f)?(d(a,r),l(a,p),c.incrementWithValue("Priceblock:Ajax:Success",1),g.removeSkeletonLoaderAndShowPriceblock()):(c.incrementWithValue("Priceblock:Ajax:Failure:Inconsistency",
1),m("Ajax Call Failed with buying option inconsistency for asin, "+v+". Page load buying options: "+JSON.stringify(f,null,2)+". Ajax buying options: "+JSON.stringify(b,null,2),"Priceblock:Ajax:Failure:Inconsistency"),g.removeSkeletonLoaderAndCollapsePriceBlock())}},error:function(a,b){"Request Timeout"===b?(c.incrementWithValue("Priceblock:Ajax:Failure:Timeout",1),m("Ajax Call Failed with timeout for asin, "+v+", with status: "+b,"Ajax:Failure:Timeout")):(c.incrementWithValue("Priceblock:Ajax:Failure:OtherErrors",
1),m("Ajax call failed for asin, "+v+", with status: "+b,"Ajax:Failure"));g.removeSkeletonLoaderAndCollapsePriceBlock()}})}}}});"use strict";p.when("A","price-block-ajax-weblab-trigger","price-block-ajax","price-block-ajax-constants").execute("price-block-ajax-rendering",function(b,c,e,h){function g(){var b=d(h.COMPARE_PLAN_PLACEHOLDER_SELECTOR).closest(".a-popover-modal"),c=b.outerHeight(),e=b.find(".a-popover-header").outerHeight(),c=c-e;b.find(".a-popover-inner").height(c)}var d=b.$;0<d(h.COMPARE_PLAN_LINK_CLASS).length&&
c.triggerWeblab();e.renderPriceBlockWithAjax("priceblockAjaxDesktop",g);var l=b.debounce(function(){0<d(h.COMPARE_PLAN_LINK_CLASS).length&&c.triggerWeblab();e.renderPriceBlockWithAjax("priceblockAjaxDesktop",g)},1500);b.on("PageRefresh:ATF",l)});"use strict";p.when("A","ready").register("price-block-ajax-constants",function(b){return{COMPARE_PLAN_PLACEHOLDER_SELECTOR:"[id^\x3dcompare-plan-ajax-placeholder-]",COMPARE_PLAN_LINK_CLASS:".compare-plan-link",NTH_ASIN_POPUP_PLACEHOLDER_SELECTOR:"[id^\x3dchange-plan-modal-ajax-placeholder-]",
PRICE_BLOCK_CONTAINER_CSS_CLASS:".price-block-container",PRICE_BLOCK_SKELETON_LOADER_CLASS:".price-block-skeleton-loader"}});"use strict";p.when("A").register("price-block-ajax-weblab-trigger",function(b){var c=b.$;return{triggerWeblab:function(){if(v.ue&&v.ue.trigger){var b=c("#priceBlockAjaxRenderingTreatment"),h=c('[data-action\x3d"price-block-compare-plans"]');b.length&&h.length&&(h=h.data("priceBlockComparePlans").customerId)&&"undef"!==h&&v.ue.trigger("PAYTECH_UFO_DP_PRICEBLOCK_AJAX_1157799",
b.data("treatment"))}}}});"use strict";p.when("A","price-block-ajax-constants","ready").register("price-block-skeleton",function(b,c){var e=b.$;return{removeSkeletonLoaderAndShowPriceblock:function(){e(c.PRICE_BLOCK_CONTAINER_CSS_CLASS).css("visibility","visible");e(c.PRICE_BLOCK_SKELETON_LOADER_CLASS).remove()},removeSkeletonLoaderAndCollapsePriceBlock:function(){e(c.PRICE_BLOCK_SKELETON_LOADER_CLASS).remove();e(c.PRICE_BLOCK_CONTAINER_CSS_CLASS).css("display","none")}}});"use strict";p.when("A").register("price-block-consistency-check",
function(b){return{extractBuyingOptions:function(b){if(0===b.length)return[];b=b.text().trim();if(!b||"[]"===b)return[];b=b.slice(1,-1);b=b.split("), ");for(var e=[],h=0;h<b.length;h++){var g=b[h].replace("BuyingOptionData(","").split(", "),d=g[0].split("\x3d")[1],l=g[1].split("\x3d")[1],f=g[2].split("\x3d")[1].replace(")",""),g=g[3].split("\x3d")[1].replace(")","");e.push({buyingOptionType:d,price:l,merchantId:f,offerListingId:g})}return e},areBuyingOptionsEqual:function(b,e){if(!(b&&0!==b.length||
e&&0!==e.length))return!0;if(!b||0===b.length||b.length>e.length)return!1;for(var h=0;h<b.length;h++){var g=b[h],d=e[h];if(g.buyingOptionType!==d.buyingOptionType||g.price!==d.price||g.merchantId!==d.merchantId)return!1}return!0}}});"use strict";p.when("A","payment-options-constants").register("payment-options-state",function(b,c){function e(){if(!g||0===Object.keys(g).length){var b=h(c.selector.paymentOptionsWeblabs).attr(c.selector.paymentOptionsWeblabsAttribute);b&&(g=JSON.parse(b))}return g}var h=
b.$,g={};b={getWeblabData:e};e();return b});"use strict";p.when("A","compare-plan-row-constants","ready").register("price-block-messaging-constants",function(b,c){var e={UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",DASH_SPLITTER:"-",PAYMENT_OPTION_SELECT_BUTTON_ID_KEY:"paymentOptionSelectButtonId",HIDDEN_CSS_CLASS:"aok-hidden",parameter:{cartTypes:{addToCart:"ADD_TO_CART",
buyNow:"BUY_NOW"}},deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},paymentOfferInputElement:{inputType:"hidden",poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",
BUYBOX_ACCORDION:"#buybox .a-accordion",ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",SPAN_DECLARATIVE:"span.a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",
NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",PAYMENT_OFFER_INFO_INPUT:"input[name\x3d'paymentOfferInfo']",SELECT_BUTTON_TEXT_PREFIX:"#monthlyPaymentOption-button-text-",SELECT_BUTTON_TEXT_CLASS:".monthlyPaymentOption-button-text",
SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",PRICE_BLOCK_STRING_CONTAINER:".price-block-label",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",COLUMN_ID_PREFIX:"#monthly-payment-option-column-",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",
PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_STRING:"#price-block-message",OPTION_SELECTION_MESSAGE:"#option-selection-message",PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE:"#previous-option-item-applicability-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",
PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",
DELIVERY_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_1']",PICKUP_TAB:"#offerDisplayGroupTabSet [id$\x3d'_buybox_group_2']",OFFER_DISPLAY_GROUP_TAB_SET:"#offerDisplayGroupTabSet",COMPARE_PLAN_AFTER_SHOW:"a:popover:afterShow:",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",
PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption",PAYMENT_OPTIONS_CHECKBOX:".payment-options-checkbox",COMPARISON_TABLE_COLUMN_CLASS:".comparison-table-product-column",COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS:".comparison-table-row-value-action",
OFFER_SELECTION_SHEET_CLASS:".compare-plan-offer-selection-sheet",LEARN_MORE_SHEET_CLASS:".compare-plan-learn-more-sheet",COMPARISON_TABLE_PREFIX:"#comparison-table",COMPARISON_TABLE_WITHOUT_FOOTNOTE_PREFIX:"#comparison-table-compare-sheet-monthly-payment",COMPARISON_TABLE_CONFIRM_BUTTON_PREFIX:"#comparison-table-confirm-plan-button",COMPARISON_TABLE_ERROR_MESSAGE_ID_PREFIX:"#comparison-table-error-message",COMPARISON_TABLE_MODAL_PREFIX:"#compare-plan-modal",COMPARISON_TABLE_OPTION_LIKE:".comparison-table-row-value-options-like",
COMPARISON_TABLE_MORE_OPTION:".comparison-table-row-value-more-option",COMPARISON_TABLE_SELECT_PLAN_BUTTON_CLASS:".comparison-table-modal-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_CLASS:".comparison-table-modal-select-plan-button-text",COMPARISON_TABLE_COLUMN_ID_PREFIX:"#monthly-comparison-table-column",COMPARISON_TABLE_SELECT_PLAN_BUTTON_ID_PREFIX:"#comparison-table-select-plan-button",COMPARISON_TABLE_SELECT_PLAN_BUTTON_TEXT_ID:"#comparison-table-modal-select-plan-button-text",
COMPARISON_TABLE_ROW_VALUE_MORE_OPTION_ID:"#comparison-table-row-value-more-option",COMPARISON_TABLE_ROW_VALUE_OPTION_LIKE_ID:"#comparison-table-row-value-options-like",COMPARISON_TABLE_MODAL_CLASS:".compare-plan-modal-wrapper",OFFER_SELECTION_ROW_CLASS:".compare-plan-offer-selection-value-row",OFFER_SELECTION_OPTION_LIST_ID_PREFIX:"#compare-plan-offer-selection-value-row-list",OFFER_SELECTION_ROW_ID_PREFIX:"#compare-plan-offer-selection-value-row",OFFER_SELECTION_VIEW_ID_PREFIX:"#compare-plan-offer-selection-sheet",
OFFER_SELECTION_ERROR_MESSAGE_ID_PREFIX:"#compare-plan-offer-selection-error-message",OFFER_SELECTION_CONTINUE_BUTTON_ID_PREFIX:"#compare-plan-offer-selection-continue-button",OFFER_SELECTION_DISABLED_ROW_CLASS:".compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_CLASS:".compare-plan-offer-selection-value-row-action",COMPARISON_TABLE_CAN_DISABLE_CLASS:".comparison-table-can-disable",COMPARISON_TABLE_CANCEL_BUTTON_CLASS:".comparison-table-modal-cancel-plan-button",COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX:".compare-plan-select-plan",
MORE_OPTION_CLASS:".comparison-table-more-options",MORE_OPTION_PREFIX:"#payment-option-more-options-",COMPARE_PLAN_2_5_INTEREST_APR_CONTAINER:".interest-apr-container",COMPARE_PLAN_2_5_TREATMENT_CONTAINER:"#comparePlan2_5Treatment"}};b.$.extend(e.selector,c);e.classes={SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",
DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer",COMPARISON_TABLE_SELECT_PLAN_COLUMN_BORDER:"comparison-table-selected-column-border",COMPARISON_TABLE_SELECTED_COLUMN_BACKGROUND:"comparison-table-selected-column-background",COMPARISON_TABLE_DISABLED_COLUMN:"comparison-table-disabled-column",
COMPARISON_TABLE_SELECT_PLAN_ACTION_DATA:"comparison-table-select-plan",COMPARISON_TABLE_MODAL_SELECT_PLAN_BUTTON_SELECTED:"comparison-table-modal-select-plan-button-selected",COMPARISON_TABLE_LEARN_MORE_ACTION_DATA:"comparison-table-learn-more",COMPARISON_TABLE_CONFIRM_PLAN_ACTION_DATA:"comparison-table-confirm-plan",COMPARISON_TABLE_PAYMENT_DETAILS_AMOUNT_TEXT_ID_PREFIX:"comparison-table-payment-details-amount-text",COMPARISON_TABLE_INTEREST_AMOUNT_ID_PREFIX:"comparison-table-interest-amount",COMPARISON_TABLE_INTEREST_APR_ID_PREFIX:"comparison-table-interest-apr",
COMPARISON_TABLE_TOTAL_AMOUNT_ID_PREFIX:"comparison-table-total-amount",COMPARISON_TABLE_CART_LEVEL_TEXT_ID_PREFIX:"cart-level-text",COMPARISON_TABLE_ITEM_LEVEL_TEXT_ID_PREFIX:"item-level-text",COMPARISON_TABLE_CARD_REWARD_TEXT_ID_PREFIX:"comparison-table-card-reward-text",COMPARISON_TABLE_LEARN_MORE_ID_PREFIX:"comparison-table-learn-more",OFFER_SELECTION_DISABLE_ROW_CLASS:"compare-plan-offer-selection-disabled-row",OFFER_SELECTION_ROW_ACTION_PREFIX:"compare-plan-offer-selection-value-row-action",
OFFER_SELECTION_ROW_ACTION_NAME:"offer-selection-select-row",OFFER_SELECTION_VALUE_ROW_SELECTED_BORDER_CLASS:"compare-plan-offer-selection-value-row-selected-border",OFFER_SELECTION_VALUE_ROW_SELECTED_BACKGROUND_CLASS:"compare-plan-offer-selection-value-row-selected-background",OFFER_SELECTION_CONTINUE_ACTION_DATA:"compare-plan-offer-selection-continue",OFFER_SELECTION_ACTION_NAME_CAMEL_CASE:"offerSelectionSelectRow",MORE_OPTION_CLASS:".comparison-table-more-options",COMPARISON_TABLE_SELECT_ACTION_BUTTON:".comparison-table-modal-select-action-button",
COLOR_SUCCESS:"a-color-success",COLOR_BASE:"a-color-base"};e.actionData={SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",COMPARE_PLAN_V2_ACTION_DATA:"priceBlockComparePlans"};e.attributes={TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan",ariaChecked:"aria-checked"};e.natcParams={paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"};
e.classActions={ADD:"add",REMOVE:"remove"};e.errorMessageType={PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"};e.metrics={RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",CONFIRM_PLAN_CLICK:"PriceBlock2:ConfirmPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",
COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful",CP2_SELECT_BUTTON_SINGLE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonSingleOffer:Click:Desktop",CP2_CONFIRM_PLAN_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanOfferSelected:Click:Desktop",CP2_CONFIRM_PLAN_WITHOUT_OFFER_SELECTED_CLICK:"PriceBlock2:CP2:ConfirmPlanNoOfferSelected:Click:Desktop",CP2_CANCEL_PLAN_CLICK:"PriceBlock2:CP2:CancelPlan:Click:Desktop",
CP2_LEARN_MORE_CLICK:"PriceBlock2:CP2:LearnMore:Click:Desktop",CP2_SELECT_BUTTON_MORE_OFFER_CLICK:"PriceBlock2:CP2:SelectButtonMoreOffer:Click:Desktop",CP2_OFFER_SELECTION_SELECT_ROW_CLICK:"PriceBlock2:CP2:OfferSelectionSelectRow:Click:Desktop",CP2_OFFER_SELECTION_CONTINUE_CLICK:"PriceBlock2:CP2:OfferSelectionContinue:Click:Desktop",CP2_BACK_CLICK:"PriceBlock2:CP2:Back:Click:Desktop",CP2_COMPARE_PLAN_CHECKOUT_CLICK:"PriceBlock2:CP2:ComparePlanCheckout:Click:Desktop",CP2_COMPARE_PLAN_OFFER_CHECKOUT_CLICK:"PriceBlock2:CP2:ComparePlanOfferCheckout:Click:Desktop"};
return e});"use strict";p.when("A","price-block-messaging-constants","payment-options-opt-out-state","turbo-checkout-handler-pb","payment-options-client-side-metric","price-block-buy-box-utils","ready").register("price-block-payment-options",function(b,c,e,h,g,d){var l,f;function k(a,d){a.data.buyingOptionType!==c.UNKNOWN&&(b.delay(function(){l=r(p(d));D(p(d),l,a,!0)}),f=r(v(d)),D(v(d),f,a,!1))}function w(a,b){a=I(a.data.executionDetails);var c=C(b);J(a,!0);O(a);K(a,c);b=N(b);J(a,!1);K(a,b);h.updateInputCheckbox(!0)}
function a(){if(e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet){var a={data:{executionDetails:{paymentOfferInfoType:'{"isOTP": true}'}}};k(a);w(a)}}function m(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=
JSON.stringify(b)}function u(a){var b=JSON.parse(a.executionDetails.paymentOfferInfoType);b.isFinancingCartLevel=a.isOrderLevel;a.executionDetails.paymentOfferInfoType=JSON.stringify(b)}function r(a){var c=[];a.each(function(){var a=A(this).parents(z.DECLARATIVE_CLASS);if(0<a.length){var d;d=A(a).data(z.DATA_ATTRIBUTE_ACTION).split("-");for(var e=d[0],f=1;f<d.length;f++)var g=d[f].charAt(0).toUpperCase()+d[f].slice(1),e=e+g;d=e;a=b.copy(A(a).data(d));c.push({dataActionKey:d,initialFormData:a})}});
return c}function p(a){return a||(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&1===a.length?a.find(z.ADD_TO_CART_BUTTON_ID):A(z.ADD_TO_CART_BUTTON_ID)}function v(a){a&&a.find(z.BUYNOW_BUTTON_ID);return(a=A(z.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(z.BUYNOW_BUTTON_ID):(a=A(z.BUYBOX_ACCORDION))&&1===a.length?a.find(z.BUYNOW_BUTTON_ID):A(z.BUYNOW_BUTTON_ID)}function C(a){return[a&&1===a.length?a.find(z.ADD_TO_CART_FORM_ID):A(z.ADD_TO_CART_FORM_ID)]}
function N(a){return[a&&1===a.length?a.find(z.BUY_NOW_FORM_ID):A(z.BUY_NOW_FORM_ID)]}function D(a,b,c,d){var e=0,f=d?"addToCartData":"buyNowData",g=I(c.data.executionDetails);J(g,d);d&&O(g);a.each(function(){var a=A(this).parents(z.DECLARATIVE_CLASS);if(0<a.length){var c=b[e++];if(c!==y){Object.keys(L[f]).forEach(function(a,b){delete c.initialFormData.inputs[a]});var d=A.extend({},c.initialFormData.inputs,g),h=A.extend({},c.initialFormData);h.inputs=d;a.data(c.dataActionKey,h)}}});L[f]=g}function K(a,
b){var d=A("\x3cfieldset\x3e",{"class":z.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){A("\x3cinput\x3e").attr({type:c.paymentOfferInputElement.inputType,name:b,value:a[b]}).appendTo(A(d))});var e=b[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);e.length?A(e).replaceWith(d):b[0].append(d);return!!b[0].length}function I(a){var b={};Object.keys(a).forEach(function(d){b[d===c.PAYMENT_OFFER_INFO_TYPE?c.PAYMENT_OFFER_INFO_FIELD:d]=a[d]});return b}function O(a){Object.keys(a).forEach(function(b){c.natcParams[b]&&
(a[c.natcParams[b]]=a[b])})}function J(a,b){if(a[c.PAYMENT_OFFER_INFO_FIELD]){var d=JSON.parse(a[c.PAYMENT_OFFER_INFO_FIELD]);d.cartType=b?c.parameter.cartTypes.addToCart:c.parameter.cartTypes.buyNow;a[c.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(d)}}function F(a,c){c=d.getActiveAccordionBuyBox(c);a=I(a.data.executionDetails);var e;e=C(c);var f=N(c);e=E(a,e)||E(a,f);b.capabilities.isAmazonApp&&(f=r(p(c)),c=r(v(c)),e=G(a,f)||G(a,c)||e);return e}function E(a,c){c=c[0].find(z.PAYMENT_OFFER_INPUTS_CLASS);
var d=Object.keys(a).length;a=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e],g=A(f).find(z.PAYMENT_OFFER_INFO_INPUT).attr("value");if(f.children.length<d||!b.contains(g,a))return!1}return!0}return!1}function G(a,c){var d=JSON.parse(a.paymentOfferInfo).businessMetric;if(c.length){for(var e=0;e<c.length;e++){var f=c[e].initialFormData.inputs,g=f.paymentOfferInfo;if(H(a,f)||!b.contains(g,d))return!1}return!0}return!1}function H(a,c){a=Object.keys(a);
return b.filter(a,function(a){return 0>b.indexOfArray(Object.keys(c),a)}).length}var A=b.$,z=c.selector;l=[];f=[];var L={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(a,e){var f=a.data.deviceType,h=a.data.buyingOptionType;u(a.data);m(a.data);var l=d.getActiveAccordionBuyBox(e);b.capabilities.isAmazonApp&&(f=c.deviceType.MOBILE_APP,k(a,l));var r=c.metrics.OFFER_SELECTION_SUCCESSFUL+":"+f+":"+h+":";w(a,l);g.logNexusEventForMonthlyPaymentSelection(a);b.delay(function(){var b=F(a,
e);g.incrementWithValuePriceBlockMessaging(r+b,1);g.incrementWithValuePriceBlockMessaging(c.metrics.OFFER_SELECTION_SUCCESSFUL+":"+b,1)})},updateOneTimePaymentSelection:a,cancelUfoSelection:function(){A(z.PAYMENT_OFFER_INPUTS_CLASS).empty();(l.length||f.length)&&k({data:{executionDetails:{}}});a();h.updateInputCheckbox(!1)},isPaymentOfferInputsUpdated:F}});"use strict";p.when("A","price-block-messaging-constants").register("turbo-checkout-handler-pb",function(b,c){var e=b.$,h,g={updateInputCheckbox:function(b){h=
e(c.selector.PAYMENT_OPTIONS_CHECKBOX);e.each(h,function(c,f){c=e(f);f=c.prop("checked");!f&&b?c.prop("checked","true").trigger("change"):f&&!b&&c.click()})}};g.updateInputCheckbox(!1);b.on("PageRefresh:ATF",function(){g.updateInputCheckbox(!1)});return g});"use strict";p.when("A").register("comparison-plans-state",function(b){function c(){e.paymentOptionSelected={paymentOptionSelectedButtonId:"",paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],
paymentOptionUnAvailableMsg:[]}}var e={get isSelected(){return this.property},set isSelected(b){this.property=b}};c();b.on("PageRefresh:ATF",c);return e});"use strict";p.when("A").register("payment-options-opt-out-state",function(b){return{paymentOptionOptOutSelected:{isOneTimePaymentPreferenceSet:!1,changePlanEventData:""},secondaryViewInstance:null}});"use strict";p.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",
function(b,c,e,h,g,d){function l(b){var a=f(b.$currentTarget);a!==y&&null!==a&&(a=b.data.paymentOptionSelectButtonId,h.paymentOptionSelected.paymentOptionSelectedButtonId=a,a===g.ONE_TIME_PAYMENT_OPTION_ID?delete h.paymentOptionSelected.offerGroup:h.paymentOptionSelected.offerGroup=b.data.offerGroup)}var f=b.$,k=g.selector;b.declarative("price-block-select-payment-plan","click",function(g){d.logNexusEventForComparePlansOfferSelection(g);var a=f(g.$currentTarget);a===y||null===a||b.contains(h.paymentOptionSelected.disabledPaymentOptionIds,
g.data.paymentOptionSelectButtonId)||(a=g.data.buyingOptionIndex,e.updateUfoSelection(g,a),l(g),g=g.data.optionSelectedString,a=f(k.PRICE_BLOCK_CONTAINER_PREFIX+a),c.hideErrorMessage(a),c.updatePriceBlockMessageWithSelectedOption(g,a))});b.declarative("price-block-otp-action","click",function(b){var a=f(b.$currentTarget);a!==y&&null!==a&&(a=b.data.buyingOptionIndex,e.cancelUfoSelection(),l(b),b=f(k.PRICE_BLOCK_CONTAINER_PREFIX+a),c.resetPriceBlockMessageWithTopEligibleOffer(b))})});"use strict";p.when("A",
"price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions","po-compare-plans-actions","price-block-buy-box-utils").register("price-block-mod-buy-box-listener",function(b,c,e,h,g,d,l){var f=b.$,k=h.selector;b.on("a:tabs:offerDisplayGroup_tabs:select",function(c){f(k.PRICE_BLOCK_STRING_CONTAINER).length&&(c=h.ID_PREFIX+c.selectedTab.$tab[0].id,l.updateActiveTab(c),c=l.getActiveBuyingOptionIndex(c),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",
c))});b.on("a:accordion:buybox-accordion:select",function(c){f(k.PRICE_BLOCK_STRING_CONTAINER).length&&(c=parseInt(c.selectedRow.$row.index()),l.updateActiveBuyingOptionIndex(c),b.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",c))});b.declarative("update-offer-selection-on-switch-buying-option","click",function(b){var a=e.paymentOptionSelected.offerGroup,m=e.paymentOptionSelected.paymentOptionSelectedButtonId,l=f([k.COMPARISON_TABLE_MODAL_PREFIX,b].join(h.DASH_SPLITTER)),
r=f(k.PRICE_BLOCK_CONTAINER_PREFIX+b);m===h.ONE_TIME_PAYMENT_OPTION_ID?l.length?l.find(k.COMPARISON_TABLE_CANCEL_BUTTON_CLASS).click():g.hideErrorMessage(r):a&&(m=l.find(k.COMPARISON_TABLE_SELECT_PLAN_ACTION_CLASS),a=l.find(f([k.COMPARISON_TABLE_SELECT_PLAN_WITH_OFFER_GROUP_CLASS_PREFIX,a].join(h.DASH_SPLITTER))),l&&a&&a.length?d.selectAndConfirmPlan(b,a.attr("id")):(b=l&&m&&m.length,c.cancelUfoSelection(),g.showErrorMessage(h.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,r,b,{})))})});"use strict";
p.when("A","price-block-messaging-constants").register("price-block-buy-box-utils",function(b,c){function e(){if(g(d.PRICE_BLOCK_STRING_CONTAINER).length){g(d.OFFER_DISPLAY_GROUP_TAB_SET).length&&(m=c.ID_PREFIX+g(d.DELIVERY_TAB)[0].id,u=c.ID_PREFIX+g(d.PICKUP_TAB)[0].id);k={};var b=g(u),e=g(d.PRICE_BLOCK_CONTAINER_CLASS);b.length&&e.length&&(a=0===b.index()?0:parseInt(e.slice(-1).attr("id").split("-").pop()));h(a,u);b=g(d.ACTIVE_ACCORDION).data(f.BUYING_OPTION_INDEX);0===a?(h(b?b:1,m),p=u):(h(b?b:
0,m),p=m)}}function h(a,b){b||(b=p);k[b]=a}var g=b.$,d=c.selector,l=c.attributes,f=c.actionData,k,p,a,m,u;e();b.on("PageRefresh:ATF",e);return{getActiveAccordionBuyBox:function(b,c){b=parseInt(b);c=c?g(c):g(d.ACTIVE_TAB);c.length&&b!==y&&(c=b===a?g(u):g(m));var e,f;1===c.length?(e=c.attr(l.TAB_CONTENT_ID),f=g(d.TAB_PREFIX+e+" "+d.BUY_BOX_ACCORDION_ROWS)):f=g(d.BUY_BOX_ACCORDION_ROWS);var h;1===f.length?h=b||0===b?f.find(d.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(d.BUYING_OPTION_INDEX_VARIABLE,
b)):f.find(d.ACTIVE_ACCORDION):1===c.length&&(h=g(d.TAB_PREFIX+e));return h},updateActiveBuyingOptionIndex:h,updateActiveTab:function(a){p=a},getActiveBuyingOptionIndex:function(a){a||(a=p);return k[a]},getActiveTab:function(){return p}}});"use strict";p.when("A","comparison-plans-state","price-block-messaging-constants","po-compare-plans-actions").register("price-block-message-actions",function(b,c,e,h){function g(c,e){b.hide(e.find(f.PRICE_BLOCK_ALERT_SUCCESS));d(c,e);l(a.CLEAR,e)}function d(a,
c){var d=c.find(f.PRICE_BLOCK_AMOUNT_PREFIX_ID),e=c.find(f.PRICE_BLOCK_AMOUNT_ID),g=c.find(f.PRICE_BLOCK_AMOUNT_SUFFIX_ID),h=c.find(f.PRICE_BLOCK_INNER_AMOUNT);b.hide(c.find(f.PREVIOUS_OPTION_ITEM_APPLICABILITY_MESSAGE));b.show(c.find(f.OPTION_SELECTION_MESSAGE));b.hide(d);b.hide(e);b.hide(g);b.hide(h);g.html(a.regularPriceBlockFragment);b.show(g);if(a=a.highlightedPriceBlockFragment)e.find(".a-price").length?(e.find(".a-price-symbol").text(a.currencySymbol),e.find(".a-price-whole").html(a.wholeNumber+
'\x3cspan class\x3d"a-price-decimal"\x3e'+a.decimalSeparator+"\x3c/span\x3e"),e.find(".a-price-fraction").text(a.fractionalNumber),e.find(".a-offscreen").text(a.amountDisplayString)):e.html(a.amountDisplayString),b.show(e),a.prefix&&(d.html(a.prefix),b.show(d)),b.show(h)}function l(c,d){c===a.CLEAR?(b.hide(d.find(f.COMPARE_PLAN_LINK_SELECTED)),b.show(d.find(f.COMPARE_PLAN_LINK_UNSELECTED))):c===a.SELECT&&(b.hide(d.find(f.COMPARE_PLAN_LINK_UNSELECTED)),b.show(d.find(f.COMPARE_PLAN_LINK_SELECTED)))}
var f=e.selector,k=e.actionData,p={updatePriceBlockMessageWithSelectedOption:function(c,e){b.hide(f.PRICE_BLOCK_ALERT);b.show(e.find(f.PRICE_BLOCK_ALERT_SUCCESS));d(c,e);l(a.SELECT,e)},resetPriceBlockMessageWithTopEligibleOffer:function(a){var b=a.find(f.COMPARE_PLAN_LINK).find(f.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_V2_ACTION_DATA).buyingOptionIndex,b=h.getTopEnabledOfferDataInComparisonTable(b).optionNotSelectedString;p.hideErrorMessage(a);g(b,a)},updatePriceBlockMessageWithNotSelectedOption:g,
showErrorMessage:function(c,d,e,g){b.hide(d.find(f.PRICE_BLOCK_ALERT_SUCCESS));b.hide(d.find(f.PRICE_BLOCK_STRING));b.show(d.find(f.PRICE_BLOCK_ALERT_ERROR));var h=d.find(f.PRICE_BLOCK_ERROR_STRING_ID);c=h.data(c);if(g)for(var k in g)g[k]&&(c=c.replace(k,g[k]));h.html(c);b.show(d.find(f.PRICE_BLOCK_ERROR_CONTAINER));g=d.find(f.COMPARE_PLAN_LINK);l(a.SELECT,d);e?b.show(g):b.hide(g)},hideErrorMessage:function(a){b.hide(a.find(f.PRICE_BLOCK_ALERT_ERROR));b.hide(a.find(f.PRICE_BLOCK_ERROR_CONTAINER));
b.show(a.find(f.PRICE_BLOCK_STRING));b.show(a.find(f.PRICE_BLOCK_ALERT_SUCCESS));b.show(a.find(f.COMPARE_PLAN_LINK))}},a={SELECT:"select",CLEAR:"clear"};return p});"use strict";p.when("A","a-modal","payment-options-opt-out-state","price-block-messaging-constants","payment-options-client-side-metric","ready").execute("payment-options-modal",function(b,c,e,h,g){var d={};b.declarative("open-priceblock-change-plan-modal","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:Link:Click");
var e="priceblock-change-plan-modal-"+b.data.buyingOptionIndex;Object.hasOwn(d,e)||(d[e]=c.create(b.$target,{header:b.data.optOutModalHeader,name:e,dataStrategy:"preload",width:484}));d[e].show()});b.declarative("priceblock-change-plan-modal-cancel-button","click",function(b){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:CancelButton:Click");d["priceblock-change-plan-modal-"+b.data.buyingOptionIndex].hide()});b.declarative("priceblock-change-plan-modal-continue-button","click",
function(l){g.incrementWithValuePriceBlockMessaging("Modal:PaymentOptions:Optout:ContinueButton:Click");l=e.paymentOptionOptOutSelected.changePlanEventData;for(var f=Object.keys(d),k=0;k<f.length;++k){var p=f[k];c.remove(p);delete d[p]}e.paymentOptionOptOutSelected.isOneTimePaymentPreferenceSet=!0;f=b.copy(l);f.data.paymentOptionSelectButtonId=h.ONE_TIME_PAYMENT_OPTION_ID;b.trigger("a:declarative:price-block-otp-action:click",f);l=b.copy(l);b.trigger("a:declarative:price-block-compare-plans:click",
l)})});"use strict";p.when("A","a-modal","price-block-messaging-constants","compare-plan-row-height-updater","ready").register("compare-plan-modal",function(b,c,e,h){var g=b.$;b.on("PageRefresh:ATF",function(){for(var b=g('[id^\x3d"compare-plan-modal-"]').length,e=0;e<b;e++){var f="compare_plan_"+e;null!==c.get(f)&&c.remove(f)}});return{showModal:function(d){var g=d.data.buyingOptionIndex,f="compare_plan_"+g,k=c.get(f);if(!b.isListening(e.selector.COMPARE_PLAN_AFTER_SHOW+f))b.on(e.selector.COMPARE_PLAN_AFTER_SHOW+
f,function(){h.updateRowHeight("#comparison-table-"+g)});null!==k?k.update({height:860<=v.innerHeight?770:v.innerHeight-90}):(k=d.data.numberOfPaymentOptions,k=c.create(d.$target,{name:f,dataStrategy:"preload",padding:"none",width:2>=Number(k)?530:Math.min(218*k+96,1180),height:860<=v.innerHeight?770:v.innerHeight-90,header:d.data.comparisonTableHeaderText}));k.show()},hideModal:function(b){(b=c.get("compare_plan_"+b))&&b.hide()},updateModalHeader:function(b,e){(b=c.get("compare_plan_"+b))&&b.update({header:e})}}});
"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-landing-page-events",function(b,c,e){b.declarative("acquisition-offer-see-details","click",function(b){e.incrementWithValuePriceBlockMessaging(c.metrics.ACQUISITION_OFFER_SEE_DETAILS_BUTTON_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).bannerDetailsPageUrl;v.open(g,"_blank")}catch(d){e.incrementWithValue("AcquisitionOffer:Desktop:LandingPageUrlParsingError",
1)}});b.declarative("acquisition-offer-learn-more","click",function(b){e.incrementWithValuePriceBlockMessaging(c.metrics.ACQUISITION_OFFER_LEARN_MORE_CLICK,1);try{var g=JSON.parse(b.data.landingPageUrl.paymentOfferInfoType).learnMoreUrl;v.open(g,"_blank")}catch(d){e.incrementWithValue("AcquisitionOffer:Desktop:LearnMoreUrlParsingError",1)}})});"use strict";p.when("A","price-block-messaging-constants","payment-options-client-side-metric","comparison-plans-actions").register("checkbox-price-block-actions",
function(b,c,e,h){function g(b){l(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY,b)}function d(b){l(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY,b)}var l=b.$,f=c.selector,k=c.actionData;return{getComparePlansV1SelectedOfferButtonId:function(){var b=f.COMPARE_PLAN_OFFER_BUTTON_ID_PREFIX,a=l(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);a||(a=b+"01",g(a));return a},getComparePlansV2SelectedOfferButtonId:function(){var b=l(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_KEY);
b||(b=f.CHECKBOX_PRICE_BLOCK_INITIAL_CP2_BUTTON,g(b));return b},getOptionNotSelectedString:function(){return l(f.CHECKBOX_PRICE_BLOCK).data(f.CHECKBOX_PRICE_BLOCK_DATA_OPTION_NOT_SELECTED_STRING_KEY)},updateCheckboxPriceblockData:g,updateCheckboxPriceblockOptionNotSelectedString:d,updateCheckboxWithTopOffer:function(b){b=b.find(f.COMPARE_PLAN_LINK).find(f.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex;b=h.getTopEnabledOfferDataInComparisonTable(b);g(c.ID_PREFIX+b.paymentOptionSelectButtonId);
d(b.optionNotSelectedString)},markCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!0},unmarkCheckboxPriceblock:function(){document.getElementById(f.CHECKBOX_PRICE_BLOCK_INPUT_ID).checked=!1},triggerCheckboxSelectedActions:function(c,a){b.defer(function(){l(c).click();l(a).click()})},triggerCheckboxUnCheckedActions:function(b){l(b).click()},hasCheckboxPriceblock:function(){return l(f.CHECKBOX_PRICE_BLOCK).length}}});"use strict";p.when("A").register("compare-plan-2_5-weblab-trigger",
function(b){return{triggerWeblab:function(){var c=b.$("#comparePlan2_5Treatment");v.ue&&v.ue.trigger&&c.length&&v.ue.trigger("PAYTECH_UFO_DP_COMPARE_PLAN2_5_1317666",c.data("treatment"))}}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,k=f._namespace||f.attributeErrors,a=k?k("DetailPageLoyaltyRewardPointsEarningsAssets",""):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,k){b.when("A","a-modal","earnings-bottom-sheet-aapi-util").register("diamonds-earnings-modal",function(a,l,d){function g(c){var e=JSON.stringify({domain:c.currencyType,marketplaceId:c.marketplaceId,balanceTypes:[h.PRIMARY],consistencyType:h.CONSISTENCY_TYPE});d.getAAPIProductData(c.aapiEndpoint,
c.csrfToken,c.language,e).done(function(c){c=m(c,h.PRIMARY);a.$(b.ajaxTextPointsDiv).text(parseInt(c).toLocaleString("en-US"));a.$(b.earningsSheetContentSpinner).addClass("aok-hidden");a.$(b.earningsBottomSheetContent).removeClass("aok-hidden")})}function m(c,a){return c&&c.entity&&c.entity.balances?(c=c.entity.balances.find(function(c,e){return c.balanceType===a}))?c.amount:0:0}var h=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),e=Object.freeze({MODAL_NAME:"diamonds-earnings-modal-content",
WIDTH:"390",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"}),b={earningsBottomSheetContent:".earnings-sheet-content",ajaxTextPointsDiv:".earningsPointsBalance",earningsSheetContentSpinner:".earnings-bottom-sheet-spinner"};a.declarative("diamonds-earnings-modal","click",function(c){var d;if(d=l.get(e.MODAL_NAME)||l.create(c.$target,{name:e.MODAL_NAME,height:e.HEIGHT,width:e.WIDTH,padding:e.PADDING,hideHeader:e.HIDE_HEADER,closeType:e.CLOSE_TYPE}))a.$(b.earningsSheetContentSpinner).removeClass("aok-hidden"),
a.$(b.earningsBottomSheetContent).addClass("aok-hidden"),d.show(),g(c.data)})});b.when("A").register("earning-shimmer-observer-desktop",function(a){function b(){if(f.IntersectionObserver){var a=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&d(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-earningsDesktopRewardIconContainer").forEach(function(b){a.observe(b)});return a}}function d(b){g(b).hasClass("shimmer-active")||
(g(b).addClass("shimmer-active"),a.delay(function(){g(b).removeClass("shimmer-active")},4E3))}var g=a.$;a.on.ready(function(){b()});return{initShimmerObserver:b,triggerShimmer:d}});"use strict";b.when("A").register("earnings-bottom-sheet-aapi-util",function(a){var b=a.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(a,f,h,e){return b.ajax({url:"https://"+a+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",type:"POST",
headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":f,"Accept-Language":h,"x-amzn-encrypted-slate-token":d},data:e,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,l=b._namespace||b.attributeErrors,c=l?l("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,b,l){var c=Object.freeze({PRIMARY:"PRIMARY",LIFETIME_EARNINGS:"LIFETIME_EARNINGS",CONSISTENCY_TYPE:"STRICT"}),k=Object.freeze({MODAL_NAME:"diamonds-redemption-modal-content",WIDTH:"395",PADDING:"none",HIDE_HEADER:!0,CLOSE_TYPE:"icon"});"undefined"===typeof b.REDEMPTION_MODULES_REGISTERED&&
(b.REDEMPTION_MODULES_REGISTERED={});b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-bottom-sheet-desktop"]=!0,d.when("A","a-modal","redemption-bottom-sheet-aapi-util").register("redemption-bottom-sheet",function(b,p,m){function h(g){function h(a,e){return a&&a.entity&&a.entity.balances?(a=a.entity.balances.find(function(a,b){return a.balanceType===e}))?a.amount:0:0}function l(g,f){if(g>=f)a(e.progressBarContents).addClass("aok-hidden");
else{var c=g/f*100;d.when("a-meter").execute(function(){b.$(e.progressBar).find(".a-meter-bar")["0"].attributes["1"].nodeValue="width: "+c+"%;background-color: #008296; margin-left: -6%;";a(e.progressBarContents).removeClass("aok-hidden")})}}var f=g.data,n;n||(n=p.create(g.$target,{name:k.MODAL_NAME,height:k.HEIGHT,width:k.WIDTH,padding:k.PADDING,hideHeader:k.HIDE_HEADER,closeType:k.CLOSE_TYPE}));a(e.redemptionSheetContentSpinnerClass).removeClass("aok-hidden");a(e.redemptionBottomSheetContentClass).addClass("aok-hidden");
n.show();g=JSON.stringify({domain:f.currencyType,marketplaceId:f.marketplaceId,balanceTypes:[c.PRIMARY,c.LIFETIME_EARNINGS],consistencyType:c.CONSISTENCY_TYPE});m.getAAPIProductData(f.aapiEndpoint,f.csrfToken,f.language,g).done(function(b){var g=h(b,c.PRIMARY);a(e.ajaxTextPointsDivClass).text(parseInt(g).toLocaleString(f.language));a(e.redemptionSheetContentSpinnerClass).addClass("aok-hidden");a(e.redemptionBottomSheetContentClass).removeClass("aok-hidden");f.lifetimeBalanceEnabled&&(b=h(b,c.LIFETIME_EARNINGS),
g=parseInt(f.minimumLifetimeBalanceThreshold),a(e.remainingDiamondsTextDiv).text(parseInt(g-b).toLocaleString(f.language)),a(e.diamondsCollected).text(parseInt(b).toLocaleString(f.language)),a(e.minimumLifetimeBalanceRequired).text(parseInt(f.minimumLifetimeBalanceThreshold).toLocaleString(f.language)),l(b,g))})}var a=b.$,e={redemptionBottomSheetContentClass:".redemption-bottom-sheet-container-class",ajaxTextPointsDivClass:".redemptionPointsTextDivClass",redemptionSheetContentSpinnerClass:".redemption-bottom-sheet-spinner-class",
remainingDiamondsTextDiv:"#remainingDiamondsToCollect",diamondsCollected:"#diamondsCollectedNumerator",progressBarContents:"#progressBarContents",progressBar:"#progress-bar-bottom-sheet",minimumLifetimeBalanceRequired:"#diamondsCollectedDenominator"};b.declarative("diamonds-redemption-modal","click",function(a){h(a)})}));b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]||(b.REDEMPTION_MODULES_REGISTERED["redemption-shimmer-observer-desktop"]=!0,d.when("A").register("redemption-shimmer-observer-desktop",
function(c){function d(){if(b.IntersectionObserver){var a=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&.1<a.intersectionRatio&&m(a.target)})},{root:null,rootMargin:"50px 0px -50px 0px",threshold:[.1,.5]});document.querySelectorAll(".shimmer-redemptionsDesktopRewardIconContainer").forEach(function(b){a.observe(b)});document.querySelectorAll(".shimmer-redemptionsDiamondIcon").forEach(function(b){a.observe(b)});return a}}function m(a){h(a).hasClass("shimmer-active")||
(h(a).addClass("shimmer-active"),c.delay(function(){h(a).removeClass("shimmer-active")},4E3))}var h=c.$;c.on.ready(function(){d()});return{initShimmerObserver:d,triggerShimmer:m}}));"use strict";d.when("A").register("redemption-bottom-sheet-aapi-util",function(b){var c=b.$,d=document.querySelector('meta[name\x3d"encrypted-slate-token"]'),d=d?d.content:d;return{getAAPIProductData:function(b,a,e,g){return c.ajax({url:"https://"+b+"/custom/marbleserviceaapicontracts/marblesservice-getbalances-aapi",
type:"POST",headers:{Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.response/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"aapi.marbleserviceaapicontracts.custom.marbleserviceaapi.getbalances.request/v1"',"x-api-csrf-token":a,"Accept-Language":e,"x-amzn-encrypted-slate-token":d},data:g,xhrFields:{withCredentials:!0}})}}})});
/* ******** */
