//tealium universal tag - utag.loader ut4.0.202601291031, Copyright 2026 Tealium.com Inc. All Rights Reserved.
(function(w){if(typeof w.utag!=='undefined'&&typeof w.utag.e==='object'){w.utag_events=w.utag.e;delete w.utag;}}(window));var utag_condload=false;window.__tealium_twc_switch=false;try{try{function isAppWebView(){const params=new URLSearchParams(location.search);if(params.get("appvi")||params.get("appWebView")==="true"){return true;}
const cookies=document.cookie.split(";").reduce((acc,cookie)=>{const[key,value]=cookie.trim().split("=");acc[key]=value;return acc;},{});return!!(cookies.NativeAppVID||cookies.app_vi||cookies.appWebView==="true");}
function isOneTrustConsentSet(){return document.cookie.indexOf('OptanonAlertBoxClosed')>-1;}
window._tealiumIsAppWebView=isAppWebView();window._oneTrustConsentSet=isOneTrustConsentSet();if(_tealiumIsAppWebView&&!_oneTrustConsentSet){const domHideOneTrustBanner=document.createElement("style");domHideOneTrustBanner.id="tealium-hide-onetrust"
domHideOneTrustBanner.textContent="#onetrust-consent-sdk { display: none; }";document.head.appendChild(domHideOneTrustBanner);}}catch(e){console.log(e)}}catch(e){console.log(e);}
if(!utag_condload){try{try{window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.noview=true;window.utag_cfg_ovrd.ignoreLocalStorage=true;window.utag_cfg_ovrd.ignoreSessionStorage=true;window.utag_cfg_ovrd.always_set_v_id=true;window.utag_cfg_ovrd.split_cookie=false;window.utag_cfg_ovrd.nonblocking_tags=true;}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{window.dataUtils=window.dataUtils||{};window.dataUtils.domain=location.hostname;if(/\.argos\.co\.uk$/i.test(location.hostname)){window.dataUtils.domain='.argos.co.uk';window.dataUtils.customVisitorIdCookieName='SG-ARGUK-1ST';}
if(/\.habitat\.co\.uk$/i.test(location.hostname)){window.dataUtils.domain='.habitat.co.uk';window.dataUtils.customVisitorIdCookieName='SG-HAB-1ST';}
if(/tuclothing\.sainsburys\.co\.uk$/i.test(location.hostname)){window.dataUtils.domain='.tuclothing.sainsburys.co.uk';window.dataUtils.customVisitorIdCookieName='SG-TU-1ST';}
const isHabitat=window.dataUtils.domain.includes('habitat');const isTuClothing=window.dataUtils.domain.includes('tuclothing.sainsburys.co.uk')||window.dataUtils.domain.includes('uat2.test-tuc-uk.com');const isArgos=window.dataUtils.domain.includes('arg');window.dataUtils.performanceCookieCategoryId=isHabitat||isTuClothing||isArgos?2:1;window.dataUtils.functionalCookieCategoryId=isHabitat||isTuClothing||isArgos?3:7;window.dataUtils.marketingCookieCategoryId=isHabitat||isTuClothing||isArgos?4:3;window.dataUtils.strictlyNecessaryCookieCategoryId=isHabitat||isTuClothing||isArgos?1:10;window.dataUtils.socialMediaCategoryId=5;window.dataUtils.getCookie=function(key){if(typeof key!=='string'||key.length===0){return null;}
const value=document.cookie
.split(';')
.filter(function(cookie){return cookie.trim().startsWith(key+'=');})
.map(function(cookie){return cookie.split('=')[1];})[0];return value?decodeURIComponent(value):null;};window.dataUtils.getCookieV2=function(name){let value=null;if(typeof name==='string'&&name.length>0){const re=new RegExp('[; ]'+name+'=([^\\s;]*)');const m=(' '+document.cookie).match(re);if(m&&m.length>1){value=decodeURIComponent(m[1]);}}
return value;};window.dataUtils.setCookie=function(key,value,expiresInDays,domain,path){if(typeof key==='string'&&key.length>0){let cookie=key+'='+encodeURIComponent(value);if(typeof expiresInDays==='number'&&(expiresInDays>0||expiresInDays===-1)){const expiryDate=new Date();expiryDate.setDate(expiryDate.getDate()+(expiresInDays>400?400:expiresInDays));cookie+='; expires='+expiryDate.toUTCString();}
cookie+='; domain='+(typeof domain==='string'&&domain.length>0?domain:window.dataUtils.domain);cookie+='; path='+(typeof path==='string'&&path.length>0?path:'/');document.cookie=cookie;}};window.dataUtils.clearCookie=function(key,domain,path){window.dataUtils.setCookie(key,'',-1,domain,path);const now=new Date();document.cookie=key+'=; expires='+now.toUTCString()+'; path=/;';};window.dataUtils.getLocalStorageItemWithExpiry=function(key){const itemString=localStorage.getItem(key);if(!itemString){return null;}
const item=JSON.parse(itemString);if(Date.now()>item.expiry){localStorage.removeItem(key);return null;}
return item.value;};window.dataUtils.setLocalStorageItemWithExpiry=function(key,value,expiresInDays){if(typeof key==='string'&&key.length>0){let expiresInMilliseconds=24*60*60*1000;if(typeof expiresInDays==='number'&&expiresInDays>0){expiresInMilliseconds*=expiresInDays<=400?expiresInDays:400;}
const item={value:value,expiry:Date.now()+expiresInMilliseconds,};localStorage.setItem(key,JSON.stringify(item));}};window.dataUtils.isPageReload=function(){let result=false;if(window.performance&&typeof window.performance.getEntriesByType==='function'){const navigationType=window.performance.getEntriesByType('navigation').map(function(navigation){return navigation.type;});result=navigationType.indexOf('reload')>-1;}
return result;};window.dataUtils.getConsentCookie=function(){if(isHabitat||isTuClothing||isArgos){return window.dataUtils.getCookieV2('OptanonConsent');}else{const consentCookieName=window.utag_cfg_ovrd&&window.utag_cfg_ovrd.cmcookiens?window.utag_cfg_ovrd.cmcookiens:'CONSENTMGR';return window.dataUtils.getCookie(consentCookieName);}};window.dataUtils.consentedToCookieCategory=function(categoryId){const cookieValue=window.dataUtils.getConsentCookie();if(!cookieValue)return false;try{if(isHabitat||isTuClothing||isArgos){const decoded=decodeURIComponent(cookieValue);const groupsMatch=decoded.match(/groups=([^&]*)/);if(!groupsMatch)return false;const groups={};groupsMatch[1].split(',').forEach(function(pair){const[key,value]=pair.split(':');groups[key]=value;});return groups[String(categoryId)]==='1';}
const categoryKey='c'+String(categoryId);const regex=new RegExp(categoryKey+'\\:0');return/consent\:true/.test(cookieValue)&&!regex.test(cookieValue);}catch(e){return false;}};window.dataUtils.consentedToPerformanceCookies=function(){return window.dataUtils.consentedToCookieCategory(window.dataUtils.performanceCookieCategoryId);};window.dataUtils.consentedToFunctionalCookies=function(){return window.dataUtils.consentedToCookieCategory(window.dataUtils.functionalCookieCategoryId);};window.dataUtils.consentedToMarketingCookies=function(){return window.dataUtils.consentedToCookieCategory(window.dataUtils.marketingCookieCategoryId);};window.dataUtils.consentedToSocialMediaCookies=function(){return window.dataUtils.consentedToCookieCategory(window.dataUtils.socialMediaCategoryId);};window.dataUtils.mapConsentCategoriesCompact=function(){if(!isHabitat&&!isTuClothing&&!isArgos)return null;const rawCookie=window.dataUtils.getConsentCookie();if(!rawCookie)return null;try{const decoded=decodeURIComponent(rawCookie);const keyValuePairs=decoded.split('&').reduce(function(acc,pair){const parts=pair.split('=');if(parts.length===2){acc[parts[0]]=parts[1];}
return acc;},{});const groups=keyValuePairs.groups?keyValuePairs.groups.split(','):[];let consentMap={};let tcStackValue='off';for(let i=0;i<groups.length;i++){const parts=groups[i].split(':');const categoryId=parts[0];const value=parts[1];if(/^V2STACK\d+$/i.test(categoryId)){tcStackValue=value==='1'?'on':'off';}else{consentMap[categoryId]=value==='1'?'on':'off';}}
const categoryLabels={1:'Necessary',2:'Analytics',3:'Functional',4:'Marketing',5:'Social',};let output=[];for(let id=1;id<=4;id++){const label=categoryLabels[id];const status=typeof consentMap[id]==='string'?consentMap[id]:'off';output.push(label+':'+id+':'+status);}
if(consentMap[5]!==undefined){output.push('Social:5:'+consentMap[5]);}
output.push('TC:STACK:'+tcStackValue);return output.join('|');}catch(e){return null;}};window.dataUtils.getAdobeOrgId=function(){return'095C467352782EB30A490D45';};window.dataUtils.getAmcvCookieName=function(){return encodeURIComponent('AMCV_'+window.dataUtils.getAdobeOrgId()+'@AdobeOrg');};window.dataUtils.getAdobeExperienceCloudIdFromCookie=function(){const amcvCookieValue=window.dataUtils.getCookie(window.dataUtils.getAmcvCookieName());const pattern=/\|MCMID\|(.*?)\|/;return pattern.test(amcvCookieValue)?amcvCookieValue.match(pattern)[1]:null;};window.dataUtils.getAdobeExperienceCloudId=function(){let adobeExperienceCloudIdFromCookie=window.dataUtils.getAdobeExperienceCloudIdFromCookie();if(adobeExperienceCloudIdFromCookie){return adobeExperienceCloudIdFromCookie;}
if(window.Visitor&&typeof window.Visitor.getInstance==='function'){return window.Visitor.getInstance(window.dataUtils.getAdobeOrgId()).getMarketingCloudVisitorID()||null;}
return null;};window.dataUtils.createUuid=function(){if(crypto&&typeof crypto.randomUUID==='function'){return crypto.randomUUID();}};window.dataUtils.setCustomVisitorIdCookie=function(){const key=window.dataUtils.customVisitorIdCookieName;const value=window.dataUtils.createUuid();const expiresInDays=window.utag_cfg_ovrd&&window.utag_cfg_ovrd.consentPeriod?window.utag_cfg_ovrd.consentPeriod:90;window.dataUtils.setCookie(key,value,expiresInDays);};window.dataUtils.getCustomVisitorIdFromCookie=function(){return window.dataUtils.getCookie(window.dataUtils.customVisitorIdCookieName);};function getCookieCategoryMap(){return{strictlyNecessary:String(window.dataUtils.strictlyNecessaryCookieCategoryId),performance:String(window.dataUtils.performanceCookieCategoryId),functional:String(window.dataUtils.functionalCookieCategoryId),marketing:String(window.dataUtils.marketingCookieCategoryId),socialMedia:String(window.dataUtils.socialMediaCategoryId),};}
window.dataUtils.clearUnconsentedCookies=function(){const cookieCategoryMap=getCookieCategoryMap();const allCookies=[{name:'__gads',category:'marketing'},{name:'__utma',category:'performance'},{name:'__utmb',category:'performance'},{name:'__utmc',category:'performance'},{name:'__utmt',category:'performance'},{name:'__utmz',category:'performance'},{name:'_4c_',category:'performance'},{name:'_cl_ev',category:'performance'},{name:'_cls_s',category:'performance'},{name:'_cls_v',category:'performance'},{name:'_fbp',category:'marketing'},{name:'_ga',category:'performance'},{name:'_ga_CM9YRX82EG',category:'performance'},{name:'_ga_JWCPD5SJK1',category:'performance'},{name:'_gat_tealium_0',category:'performance'},{name:'_gcl',category:'marketing'},{name:'_gcl_au',category:'marketing'},{name:'_gcl_aw',category:'marketing'},{name:'_gcl_dc',category:'marketing'},{name:'_gid',category:'performance'},{name:'_pangle',category:'marketing'},{name:'_pin_unauth',category:'marketing'},{name:'_pinterest_ct_rt',category:'marketing'},{name:'_pinterest_ct_ua',category:'marketing'},{name:'_rdt_uuid',category:'marketing'},{name:'_scid',category:'marketing'},{name:'_SS',category:'marketing'},{name:'_taggstar_exp',category:'marketing'},{name:'_taggstar_ses',category:'marketing'},{name:'_taggstar_vid',category:'marketing'},{name:'_ttp',category:'marketing'},{name:'_twitter_sess',category:'marketing'},{name:'_uetsid',category:'marketing'},{name:'_uetvid',category:'marketing'},{name:'ArgosPopUp_Active_User',category:'functional'},{name:'ArgosPopUp_customer1In20Chance',category:'functional'},{name:'ArgosPopUp_lastShownPopupTimestamp',category:'functional'},{name:'s_ecid',category:'performance'},{name:'ufvd',category:'marketing',domain:'www.argos.co.uk'},{name:'SG-HAB-1ST',category:'performance'},];const adobeCookie=window.dataUtils.getAmcvCookieName&&window.dataUtils.getAmcvCookieName();if(adobeCookie){allCookies.push({name:adobeCookie,category:'performance'});allCookies.push({name:adobeCookie.replace('AMCV_','AMCVS_'),category:'performance'});}
allCookies.forEach(function(cookie){const categoryId=cookieCategoryMap[cookie.category];if(!window.dataUtils.consentedToCookieCategory(categoryId)){cookie.domain=isTuClothing?'.sainsburys.co.uk':cookie.domain||window.dataUtils.domain;window.dataUtils.clearCookie(cookie.name,cookie.domain,cookie.path);}});};window.dataUtils.removeUnconsentedFromLocalStorage=function(){const cookieCategoryMap=getCookieCategoryMap();const allLocalStorageKeys=[{name:'ufvisitor',category:'marketing'},{name:'fcData',category:'marketing'},];allLocalStorageKeys.forEach(function(key){if(!window.dataUtils.consentedToCookieCategory(cookieCategoryMap[key.category])){localStorage.removeItem(key.name);}});};window.dataUtils.sendGetRequest=function(url){if(typeof XMLHttpRequest==='function'&&typeof url==='string'&&url.length>0){let xhr=new XMLHttpRequest();xhr.open('GET',url,true);xhr.send();}};window.dataUtils.sendPostRequest=function(url,options={}){if(typeof XMLHttpRequest==='function'&&typeof url==='string'&&url.length>0){let xhr=new XMLHttpRequest();xhr.open('POST',url,true);const headers=options.headers||{};let withCredentials=options.withCredentials||false;Object.keys(headers).forEach(function(key){xhr.setRequestHeader(key,headers[key]);});xhr.onload=function(){if(xhr.status===200){if(typeof options.onSuccess==='function'){options.onSuccess();}}else{if(typeof options.onError==='function'){options.onError();}}};xhr.onerror=function(){if(typeof options.onError==='function'){options.onError();}};const data=options.data||{};withCredentials?(xhr.withCredentials=true):false;xhr.send(JSON.stringify(data));}};window.dataUtils.loadExternalScriptFromUrl=function(url,options){if(typeof url==='string'&&url.length>0){let script=document.createElement('script');script.src=url;options=options||{};if(typeof options.async==='boolean'&&options.async){script.async=true;}else{script.defer=true;}
if(typeof options.type==='string'&&options.type.length>0){script.type=options.type;}
if(typeof options.id==='string'&&options.id.length>0){script.id=options.id;}
const targetElement=options.target==='head'?document.head:document.body;if(!script.id||!document.getElementById(script.id)){targetElement.appendChild(script);}}};window.dataUtils.sendPostRequestOnConsentChange=function(url,isMarketingAllowed){window.dataUtils.sendPostRequest(url,{headers:{'Content-Type':'application/json'},data:isMarketingAllowed?{}:{mkt_consent:'denied'},withCredentials:true,});};window.dataUtils.sendConsentRejectedRequest=(url)=>{let umid=JSON.parse(localStorage.getItem('fcData'))?.umid;if(umid){url=url+'&consent_umid='+umid;}
window.dataUtils.sendPostRequest(url,{headers:{'Content-Type':'application/json'},withCredentials:true,});};window.dataUtils.detectOperatingSystem=function(){const ua=navigator.userAgent;if(/Windows NT/i.test(ua))return'Windows';if(/Macintosh/i.test(ua))return'macOS';if(/iPhone|iPad|iPod/i.test(ua))return'iOS';if(/Android/i.test(ua))return'Android';if(/Linux/i.test(ua))return'Linux';const match=ua.match(/\(([^)]+)\)/);return match?match[1].split(';')[0].trim():'Unknown';};}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{utag_cfg_ovrd=window.utag_cfg_ovrd||{};const botList='bot|google(?! pixel)|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|ktxn|360Spider|404checker|404enemy|80legs|Abonti|Aboundex|Acunetix|ADmantX|AfD-Verbotsverfahren|AhrefsBot|AIBOT|AiHitBot|Aipbot|Alexibot|Alligator|AllSubmitter|AlphaBot|Anarchie|Apexoo|archive.org_bot|ASPSeek|Asterias|Attach|autoemailspider|BackDoorBot|Backlink-Ceck|backlink-check|BacklinkCrawler|BackStreet|BackWeb|Badass|Bandit|Barkrowler|BatchFTP|Battleztar Bazinga|BBBike|BDCbot|BDFetch|BetaBot|Bigfoot|Bitacle|Blackboard|Black Hole|BlackWidow|BLEXBot|Blow|BlowFish|Boardreader|Bolt|BotALot|Brandprotect|Brandwatch|Bubing|Buddy|BuiltBotTough|BuiltWith|Bullseye|BunnySlippers|BuzzSumo|Calculon|CATExplorador|CazoodleBot|CCBot|Cegbfeieh|CheeseBot|CherryPicker|CheTeam|ChinaClaw|Chlooe|Claritybot|Cliqzbot|Cloud mapping|coccocbot-web|Cogentbot|cognitiveseo|Collector|com.plumanalytics|Copier|CopyRightCheck|Copyscape|Cosmos|Craftbot|crawler4j|crawler.feedback|crawl.sogou.com|CrazyWebCrawler|Crescent|CSHttp|Curious|Custo|DatabaseDriverMysqli|DataCha0s|DBLBot|demandbase-bot|Demon|Deusu|Devil|Digincore|DigitalPebble|DIIbot|Dirbuster|Disco|Discobot|Discoverybot|DittoSpyder|DnyzBot|DomainAppender|DomainCrawler|DomainSigmaCrawler|DomainStatsBot|Dotbot|Download Wonder|Dragonfly|Drip|DTS Agent|EasyDL|Ebingbong|eCatch|ECCP/1.0|Ecxi|EirGrabber|EMail Siphon|EMail Wolf|EroCrawler|evc-batch|Evil|Exabot|Express WebPictures|ExtLinksBot|Extractor|ExtractorPro|Extreme Picture Finder|EyeNetIE|Ezooms|FDM|FemtosearchBot|FHscan|Fimap|Firefox/7.0|FlashGet|Flunky|Foobot|Freeuploader|FrontPage|FyberSpider|Fyrebot|GalaxyBot|Genieo|GermCrawler|Getintent|GetRight|GetWeb|Gigablast|Gigabot|G-i-g-a-b-o-t|Go-Ahead-Got-It|Gotit|GoZilla|Go!Zilla|Grabber|GrabNet|Grafula|GrapeFX|GrapeshotCrawler|GridBot|GT::WWW|Haansoft|HaosouSpider|Harvest|Havij|HEADMasterSEO|Heritrix|Hloader|HMView|HTMLparser|HTTP::Lite|HTTrack|Humanlinks|HybridBot|Iblog|IDBot|Id-search|IlseBot|Image Fetch|Image Sucker|IndeedBot|Indy Library|InfoNaviRobot|InfoTekies|instabid|Intelliseek|InterGET|Internet Ninja|InternetSeer|internetVista monitor|ips-agent|Iria|IRLbot|Iskanie|IstellaBot|JamesBOT|Jbrofuzz|JennyBot|JetCar|JikeSpider|JOC Web Spider|Joomla|Jorgee|JustView|Jyxobot|Kenjin Spider|Keyword Density|Kozmosbot|Lanshanbot|Larbin|LeechFTP|LeechGet|LexiBot|Lftp|LibWeb|Libwhisker|Lightspeedsystems|Likse|Linguee|Linkdexbot|LinkextractorPro|LinkpadBot|LinkScan|LinksManager|LinkWalker|LinqiaMetadataDownloaderBot|LinqiaRSSBot|LinqiaScrapeBot|Lipperhey|Litemage_walker|Lmspider|LNSpiderguy|Ltx71|lwp-request|LWP::Simple|lwp-trivial|Magnet|Mag-Net|magpie-crawler|Mail.RU_Bot|Majestic12|MarkMonitor|MarkWatch|Masscan|Mass Downloader|Mata Hari|MauiBot|Meanpathbot|Mediatoolkitbot|mediawords|MegaIndex.ru|Metauri|MFC_Tear_Sample|Microsoft Data Access|Microsoft URL Control|MIDown tool|MIIxpc|Mister PiX|MJ12bot|Mojeek|Morfeus Fucking Scanner|Mr.4x3|MSFrontPage|MSIECrawler|Msrabot|MS Web Services Client Protocol|muhstik-scan|Musobot|Name Intelligence|Nameprotect|Navroad|NearSite|Needle|Nessus|NetAnts|Netcraft|netEstate NE Crawler|NetLyzer|NetMechanic|NetSpider|Nettrack|Net Vampire|Netvibes|NetZIP|NextGenSearchBot|Nibbler|NICErsPRO|Niki-bot|Nikto|NimbleCrawler|Ninja|Nmap|NPbot|Nutch|oBot|Octopus|Offline Explorer|Offline Navigator|Openfind|OpenLinkProfiler|Openvas|OpenVAS|OrangeBot|OrangeSpider|OutclicksBot|OutfoxBot|PageAnalyzer|Page Analyzer|PageGrabber|page scorer|PageScorer|Panscient|Papa Foto|Pavuk|pcBrowser|PECL::HTTP|PeoplePal|PHPCrawl|Picscout|Picsearch|PictureFinder|Pimonster|Pi-Monster|Pixray|PleaseCrawl|plumanalytics|Pockey|POE-Component-Client-HTTP|Probethenet|ProPowerBot|ProWebWalker|Psbot|Pump|PxBroker|PyCurl|QueryN Metasearch|Quick-Crawler|RankActive|RankActiveLinkBot|RankFlex|RankingBot|RankingBot2|Rankivabot|RankurBot|RealDownload|Reaper|RebelMouse|Recorder|RedesScrapy|ReGet|RepoMonkey|Ripper|RocketCrawler|Rogerbot|s1z.ru|SalesIntelligent|SBIder|ScanAlert|Scanbot|scan.lol|Scrapy|Screaming|ScreenerBot|Searchestate|SearchmetricsBot|Semrush|SemrushBot|SEOkicks|SEOlyticsCrawler|Seomoz|SEOprofiler|seoscanners|SeoSiteCheckup|SEOstats|sexsearcher|Shodan|Siphon|SISTRIX|Sitebeam|SiteExplorer|Siteimprove|SiteLockSpider|SiteSnagger|SiteSucker|Site Sucker|Sitevigil|Slackbot-LinkExpanding|SlySearch|SmartDownload|SMTBot|Snake|Snapbot|Snoopy|SocialRankIOBot|sogouspider|Sogou web spider|Sosospider|Sottopop|SpaceBison|Spammen|SpankBot|Spanner|Spbot|Spinn3r|SputnikBot|Sqlmap|Sqlworm|Sqworm|Steeler|Stripper|Sucker|Sucuri|SuperBot|SuperHTTP|Surfbot|SurveyBot|Suzuran|Swiftbot|sysscan|Szukacz|T0PHackTeam|T8Abot|tAkeOut|Teleport|TeleportPro|Telesoft|Telesphoreo|Telesphorep|The Intraformant|TheNomad|TightTwatBot|Titan|Toata|Toweyabot|Tracemyfile|Trendiction|Trendictionbot|trendiction.com|trendiction.de|True_Robot|Turingos|Turnitin|TurnitinBot|TwengaBot|Twice|Typhoeus|UnisterBot|URLy.Warning|URLy Warning|Vacuum|Vagabondo|VB Project|VCI|VeriCiteCrawler|VidibleScraper|Virusdie|VoidEYE|Voil|Voltron|Wallpapers/3.0|WallpapersHD|WASALive-Bot|WBSearchBot|Webalta|WebAuto|Web Auto|WebBandit|WebCollage|Web Collage|WebCopier|WEBDAV|WebEnhancer|Web Enhancer|WebFetch|Web Fetch|WebFuck|Web Fuck|WebGo IS|WebImageCollector|WebLeacher|WebmasterWorldForumBot|webmeup-crawler|WebPix|Web Pix|WebReaper|WebSauger|Web Sauger|Webshag|WebsiteExtractor|WebsiteQuester|Website Quester|Webster|WebStripper|WebSucker|Web Sucker|WebWhacker|WebZIP|WeSEE|Whack|Whacker|Whatweb|Who.is Bot|Widow|WinHTTrack|WiseGuys Robot|WISENutbot|Wonderbot|Woobot|Wotbox|Wprecon|WPScan|WWW-Collector-E|WWW-Mechanize|WWW::Mechanize|WWWOFFLE|x09Mozilla|x22Mozilla|Xaldon_WebSpider|Xaldon WebSpider|Xenu|xpymep1.exe|YandexBot|YoudaoBot|Zade|Zauba|zauba.io|Zermelo|Zeus|zgrab|Zitebot|ZmEu|ZoominfoBot|ZumBot|ZyBorg|Phantom'.toLowerCase();utag_cfg_ovrd.user_agent_regex=new RegExp(botList,'i');if(utag_cfg_ovrd.user_agent_regex.test(navigator.userAgent)){utag_cfg_ovrd.noload=true;}
if(navigator.userAgent.toLowerCase().indexOf('phantom')>-1||navigator.userAgent=='Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.230 Safari/537.36'||navigator.userAgent=='Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.141 Safari/537.36'){utag_cfg_ovrd.noload=true;}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{let consentEvents=[];if(!window._tealiumConsentTrackingFlags){window._tealiumConsentTrackingFlags={buttons:false,visibility:false,tc:false,};}
const specialPurposeNames=['Geolocation','Scan device'];const purposeNames=['Device info','Limited ads','Profiles for ads','Use for personalised ads','Profiles for content','Use for personalised content','Ad performance','Content performance','Understand audiences','Services','Limited select content',];function trackConsentButtons(){const buttonConfigs=[{selector:'#onetrust-pc-btn-handler',placement:'Cookie Banner',url:'https://www.argos.co.uk/browse/cb-manage-preferences'},{selector:'#onetrust-reject-all-handler',placement:'Cookie Banner',url:'https://www.argos.co.uk/browse/cb-reject-all'},{selector:'#onetrust-accept-btn-handler',placement:'Cookie Banner',url:'https://www.argos.co.uk/browse/cb-accept-all'},{selector:'.ot-pc-refuse-all-handler',placement:'Preference Centre',url:'https://www.argos.co.uk/browse/pc-reject-all'},{selector:'.save-preference-btn-handler',placement:'Preference Centre',url:'https://www.argos.co.uk/browse/pc-accept-selected'},{selector:'#accept-recommended-btn-handler',placement:'Preference Centre',url:'https://www.argos.co.uk/browse/pc-accept-all'},];const buttonMap={'#onetrust-pc-btn-handler':'ChooseCB:Click','#onetrust-reject-all-handler':'RequiredCB:Click','#onetrust-accept-btn-handler':'AcceptCB:Click','.ot-pc-refuse-all-handler':'RequiredPC:Click','.save-preference-btn-handler':'ConfirmPC:Click','#accept-recommended-btn-handler':'AcceptAllPC:Click',};const log=window.utag.DB;const sendRequest=window.dataUtils.sendGetRequest;function handleConsent(config){sendRequest(config.url);const label=buttonMap[config.selector];if(label)consentEvents.push(label);log('OneTrust Button Clicked â€” Placement: '+config.placement+' | Button: '+label);}
buttonConfigs.forEach(function(config){let el=document.querySelector(config.selector);el?.addEventListener('click',()=>handleConsent(config));});}
function trackConsentVisibility(){const targets=[{selector:'#onetrust-banner-sdk',placement:'CB:View',url:'https://www.argos.co.uk/browse/cb-view'},{selector:'#onetrust-pc-sdk',placement:'PC:View',url:'https://www.argos.co.uk/browse/pc-view'},];if(!('IntersectionObserver'in window))return;const observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){if(entry.isIntersecting){targets.forEach(function(target){if(entry.target.matches(target.selector)){window.utag.DB('OneTrust Visibility Triggered - Placement: '+target.placement);window.dataUtils.sendGetRequest(target.url);consentEvents.push(target.placement);}});}});});targets.forEach(function(target){const el=document.querySelector(target.selector);if(el)observer.observe(el);});}
function formatEntries(entries,prefix,names){return Object.entries(entries)
.map(function(entry){const key=entry[0],value=entry[1];const name=names[parseInt(key,10)-1]||prefix+' '+key;return name+':'+(value?'on':'off');})
.join('|');}
window.OptanonWrapper=function(){if(!window._isWebViewOneTrustBannerSuppressed){if(window._tealiumIsAppWebView&&!window.OTExternalConsent){window._isWebViewOneTrustBannerSuppressed=true;if(!OneTrust.IsAlertBoxClosed()){OneTrust.OnConsentChanged(function(){setTimeout(function(){const domHideOneTrustBanner=document.getElementById('tealium-hide-onetrust');if(domHideOneTrustBanner&&domHideOneTrustBanner.parentNode){domHideOneTrustBanner.parentNode.removeChild(domHideOneTrustBanner);}},2000);});OneTrust.AllowAll();}
return;}}
['buttons','visibility'].forEach(function(type){if(!window._tealiumConsentTrackingFlags[type]){window._tealiumConsentTrackingFlags[type]=true;type==='buttons'?trackConsentButtons():trackConsentVisibility();}});if(typeof OneTrust!=='undefined'&&typeof OneTrust.OnConsentChanged==='function'){OneTrust.OnConsentChanged(function(){if(typeof __tcfapi==='function'){__tcfapi('getTCData',2,function(tcData,success){if(success&&tcData){let tcString=tcData.tcString||'';let purposeConsents='';let codedPurposeConsents='';let specialPurposes='';let codedSpecialPurposes='';let tcDetails='';if(tcData.purpose&&tcData.purpose.consents){const allPurposeConsents={};for(let i=1;i<=11;i++)allPurposeConsents[i]=tcData.purpose.consents[i]===true;purposeConsents=formatEntries(allPurposeConsents,'Purpose',purposeNames);codedPurposeConsents=Object.entries(allPurposeConsents)
.map(function(entry){return entry[0]+':'+entry[1];})
.join('|');}
if(tcData.specialFeatureOptins){const allSpecialPurposes={};for(let i=1;i<=2;i++)allSpecialPurposes[i]=tcData.specialFeatureOptins[i]===true;specialPurposes=formatEntries(allSpecialPurposes,'Special Feature',specialPurposeNames);codedSpecialPurposes=Object.entries(allSpecialPurposes)
.map(function(entry){return's'+entry[0]+':'+entry[1];})
.join('|');}
tcDetails=['CMPID:'+tcData.cmpId,'CMPVersion:'+tcData.cmpVersion,'GDPRApplies:'+(tcData.gdprApplies?'yes':'no'),'TCFPolicy:'+tcData.tcfPolicyVersion,'EventStatus:'+tcData.eventStatus,'CMPStatusLoaded:'+(tcData.cmpStatus==='loaded'?'yes':'no'),].join('|');const consentCookie=encodeURIComponent((window.dataUtils.getConsentCookie()||'')
.split('&')
.find(function(e){return e.indexOf('group')>-1;})
.split('=')[1]);const consentAccepted=window.dataUtils.consentedToPerformanceCookies()&&window.dataUtils.consentedToFunctionalCookies()&&window.dataUtils.consentedToMarketingCookies();if(!consentAccepted)
window.dataUtils.sendPostRequestOnConsentChange('https://fc.argos.co.uk/op/argos-web-consent/info?consent_qp='+consentCookie,window.dataUtils.consentedToMarketingCookies());const analyticsAllowed=window.dataUtils.consentedToPerformanceCookies();if(analyticsAllowed){window.digitalData.track('consentUpdate',{eventInfo:{eventName:'consentUpdate',eventAction:'OneTrust Consent Updated',},attributes:{tcString:tcString,purposeConsents:purposeConsents,specialPurposes:specialPurposes,codedPurposes:codedPurposeConsents+'|'+codedSpecialPurposes,tcDetails:tcDetails,consentPreference:window.dataUtils.mapConsentCategoriesCompact(),consentEvents:consentEvents.join('|'),},});}
window.dataUtils.clearUnconsentedCookies();window.dataUtils.removeUnconsentedFromLocalStorage();}});}});}};window.addCmp=function(){let isOtProd=window.location.hostname==='www.argos.co.uk'||window.location.hostname==='help.argos.co.uk';let domainId=isOtProd?'b7b86492-4d84-4b05-950b-ed66298bbb71':'b7b86492-4d84-4b05-950b-ed66298bbb71-test';const domOneTrustScript=document.querySelector(['script[data-domain-script*="',domainId,'"]'].join(''));if(domOneTrustScript){utag.DB('OneTrust script already exists!');return;}
const head=document.getElementsByTagName('head')[0];const script=document.createElement('script');script.type='text/javascript';script.src='https://cdn-ukwest.onetrust.com/scripttemplates/otSDKStub.js';script.setAttribute('data-domain-script',domainId);script.async=true;head.appendChild(script);};if(!window.utag_cfg_ovrd?.noload)window.addCmp();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{var dd=window.digitalData
if((/ArgosReserveAvailabilityMobile/.test(window.location.pathname)||/webapp\/wcs\/stores\/servlet\/(EditMyAccountMobile|AccessMyAccountMobile)/.test(window.location.pathname))&&window.digitalData.page){delete dd.page}else if(dd.page&&dd.page.pageInfo&&dd.page.pageInfo.pageName==='trolley:prepay:yourdetails:partial:'){dd.page.attributes.platform='react'}else if(/\/product\//.test(window.location.pathname)&&(!dd||!dd.page)){dd=dd||{}
dd.page={'attributes':{'platform':"wcs"},'pageInfo':{'pageName':"ar:pdp-404:",'siteSection':"ar:productdetails:"}}}}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{if(typeof window.s==='object'&&window.s.version==='dummy'){window.s.tl=function(_this,linkType,linkName,variableOverrides,doneAction){try{window.utag.DB('pagename : '+window.s.pageName)
window.utag.DB('linkName : '+linkName)
var ltvArray=this.linkTrackVars.split(',')
for(var v=0;v<ltvArray.length;v++){window.utag.DB(ltvArray[v]+' : '+this[ltvArray[v]])}
var eventData={evtDetails:'',tealium_event:window.utag_data.eventLookup('s.tl Hijack'),event:'s.tl Hijack',_this:this}
if(linkName!=='homedelivery:deliveryslots'){window.utag.link(eventData)}}catch(e){window.utag.DB(e)}}
window.s_gi=function(){var iterationCopy=function(src){var target={}
for(var prop in src){if(src.hasOwnProperty(prop)){target[prop]=src[prop]}}
return target}
var sCopy=iterationCopy(window.s)
sCopy.t=window.s.t.bind(sCopy)
sCopy.tl=window.s.tl.bind(sCopy)
return sCopy}}
}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{window.dataUtils=window.dataUtils||{};window.dataUtils.decodeXmlString=function(string){var map={};map["&amp"+";"]="&";map["&quot"+";"]='"';map["&lt"+";"]="<";map["&gt"+";"]=">";var mapString=[];for(var name in map){mapString.push(name);}
mapString=mapString.join("|");var regex=new RegExp("("+mapString+")","g");return string.replace(regex,function(str,item){return map[item];});};window.dataUtils.removeCharacters=function(obj,regex){var _this=this;if(Array.isArray(obj)){return obj.map(function(el){return _this.removeCharacters(el,regex);});}else if(typeof obj==="string"){return _this.decodeXmlString(obj).replace(regex,"");}else{return obj;}};window.dataUtils.removeSpecialCharacters=function(obj){return window.dataUtils.removeCharacters(obj,/[^a-zA-Z0-9]/g);};window.dataUtils.arrayIncludes=function(value,arr,caseSensitive){if(typeof value!=="string"&&!Array.isArray(arr)){return false;}
caseSensitive=typeof caseSensitive!=="boolean"?true:caseSensitive;if(!caseSensitive){value=value.toLowerCase();arr=arr.map(function(val){return val.toLowerCase();});}
return arr.indexOf(value)!==-1;};window.dataUtils.c_r=function(t,n,r,i){n=document.cookie.split("; ");var e={};for(i=n.length-1;i>=0;i--){r=n[i].split("=");e[r[0]]=r[1];}
return e[t];};window.dataUtils.c_w=function(e,t,n,r,i,s){var o=new Date();o.setTime(o.getTime());if(n){n=n*1e3*60*60*24;}
var u=new Date(o.getTime()+n);document.cookie=e+
"="+
escape(t)+
(n?";expires="+u.toGMTString():"")+
(r?";path="+r:"")+
(i?";domain="+i:"")+
(s?";secure":"");};window.dataUtils.c_d=function(e,t,n){if(window.utag.data.c_r(e))
document.cookie=e+
"="+
(t?";path="+t:"")+
(n?";domain="+n:"")+
";expires=Thu, 01-Jan-1970 00:00:01 GMT";};window.dataUtils.createUDOString=function(bricks,glue,bypassCheck){glue=glue||window.utag.data.udoGlue||":";bricks=bricks.filter(function(b){return b!=="none";});if(!bypassCheck){for(var x=0;x<bricks.length;x++){if(typeof bricks[x]==="undefined"||bricks[x]===""){return undefined;}}}
return bricks.join(glue);};}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{const extensionName='Extension UID: 9, "FUNCTION: Helper Functions"';window.utag_data=window.utag_data||{};window.utag_data.needToWait=function(fireTealiumHit,eventData){try{var dd=window.digitalData;if(/^pdp_.*APIs$/.test(eventData.event)&&dd.product[0].attributes.fulfillmentMethod.split('|').length===2){if(!dd.availabilityAPIsIgnore){var HDStockLevelMessage;var colStockLevelMessage;var availabilityDataCheck=function(){checkStockMessages();if(HDStockLevelMessage&&colStockLevelMessage){fireAPITealiumHit('Both messages available');}else if(time>=3000){window.utag_data.debug='PDP APIs:Time up';fireAPITealiumHit('Time out!');}else{window.utag.DB('availabilityAPIs: Waiting '+interval+' ms');time+=interval;setTimeout(availabilityDataCheck,interval);}};var checkStockMessages=function(){var prodAttributes=window.digitalData.product[0].attributes;colStockLevelMessage=prodAttributes.collectionStockLevelMessage;HDStockLevelMessage=prodAttributes.deliveryStockLevelMessage;};var fireAPITealiumHit=function(message){window.utag.DB('availabilityAPIs: '+message+'. Sending hit after '+time+' ms');fireTealiumHit(eventData);setTimeout(function(){dd.availabilityAPIsIgnore=false;},4000);};dd.availabilityAPIsIgnore=true;var interval=500;var time=0;availabilityDataCheck();}
return true;}else if(/pdp_recommendations/.test(eventData.event)){setTimeout(function(){fireTealiumHit(eventData);},500);return true;}else{return false;}}catch(e){return false;}};window.utag_data.doNotTrack=function(eventData){var evtGroup=eventData.tealium_event;var evtTitle=eventData.event;if(evtTitle==='pdp_mediaPlayerInteraction'){try{var component=window.digitalData.component.filter(function(el){return el.componentInfo.componentID===eventData.evtData.attributes.componentID;})[0];var eventInteractionType=eventData.evtData.attributes.interactionType;if(eventInteractionType==='mainVideoPlay'){if(component.videoPlayHasBeenTracked){return true;}else{component.videoPlayHasBeenTracked=true;return false;}}
if(eventInteractionType==='mainVideoPause'){if(component.videoPauseHasBeenTracked){return true;}else{component.videoPauseHasBeenTracked=true;return false;}}
return false;}catch(e){utag.DB('Error in doNotTrack for pdp_mediaPlayerInteraction: '+e);}}
var doNotTrackEvtGroupArr=['ev | namogoo','ev | Interaction: CGC',];var doNotTrackEvtArr=['pdpCheckStockHD','pdp_fulfillmentModulesInteraction'];return doNotTrackEvtGroupArr.indexOf(evtGroup)>-1||doNotTrackEvtArr.indexOf(evtTitle)>-1;};window.utag_data.c_r=function t(t,n,r,i){n=document.cookie.split('; ');var e={};for(i=n.length-1;i>=0;i--){r=n[i].split('=');e[r[0]]=r[1];}
return e[t];};window.utag_data.c_w=function(e,t,n,r,i,s){var o=new Date();o.setTime(o.getTime());if(n){n=n*1e3*60*60*24;}
var u=new Date(o.getTime()+n);document.cookie=e+'='+escape(t)+(n?';expires='+u.toGMTString():'')+(r?';path='+r:'')+(i?';domain='+i:'')+(s?';secure':'');};window.utag_data.c_d=function(e,t,n){if(window.utag.data.c_r(e))document.cookie=e+'='+(t?';path='+t:'')+(n?';domain='+n:'')+';expires=Thu, 01-Jan-1970 00:00:01 GMT';};window.utag_data.createUDOString=function(bricks,glue,bypassCheck){glue=glue||window.utag.data.udoGlue||':';bricks=bricks.filter(function(b){return b!=='none';});if(!bypassCheck){for(var x=0;x<bricks.length;x++){if(typeof bricks[x]==='undefined'||bricks[x]===''){return undefined;}}}
return bricks.join(glue);};window.utag_data.eventLookup=function(evtName){switch(evtName){case'exit_link_click':return'ev | Exit Link';case'faq_contactUs':return'defined: unknown - '+evtName;case'hp_globalNav':case'hp_signInButton':return'ignored';case'yd_ServerValidationError':case'yd_systemError':return'ev | Error: Page';case'ma_errorMessage':case'yd_formProgressionError':case'yd_formProgressionComplete':case'trolleySignInField_errorMessage':case'trolleySignInSystem_errorMessage':case'trolleyRegisterField_errorMessage':case'trolleyRegisterSystem_errorMessage':case'trolleyCustomerDetailsField_errorMessage':case'trolleyCustomerDetailsSystem_errorMessage':case'trolleyForgotPasswordField_errorMessage':case'trolleyForgotPasswordSystem_errorMessage':case'trolleyResetPasswordField_errorMessage':case'trolleyResetPasswordSystem_errorMessage':case'trolleySignInField_emailSuggestionOffered':case'trolleySignInField_emailSuggestionAccepted':case'trolleyReservationField_emailSuggestionOffered':case'trolleyReservationField_emailSuggestionAccepted':case'yd_fieldCompletionError':return'ev | Form';case'finance_contactUs':return'ev | Interaction Detail: Finance';case'pdp_attLightboxContinueShopping':return'ev | Interaction: ???';case'cgc_AnswerQuestionInteraction':case'cgc_AnswerQuestionSubmit':case'cgc_AskQuestionInteraction':case'cgc_clickPreviewAnswer':case'cgc_clickPreviewQuestion':case'cgc_clickPreviewReview':case'cgc_clickSubmitAnswer':case'cgc_clickSubmitQuestion':case'cgc_clickSubmitReview':case'cgc_reviews_notificationPreference':case'cgc_reviewsInteraction':return'ev | Interaction: CGC';case'cyo_openFilter':case'cyo_shareSofa':return'ev | Interaction: CYO';case'hp_storeLocatorWidgetSearch':return'ev | Interaction: Home Page';case'ma_emailAddressChangeLink':case'ma_emailAddressChangeSuccessful':case'ma_EmailAddressDidYouMeanClicked':case'ma_passwordChangeLink':case'ma_passwordChangeSuccessful':case'ma_PasswordChangeSuccessful':case'ma_prepayCancelled':case'ma_prepayExtended':case'ma_rescheduleDelivery':case'ma_rescheduleDeliveryConfirmation':case'ma_rescheduleDeliveryDisplayed':case'ma_RescheduleDeliveryError':case'ma_rescheduleDeliveryNewSlot':case'ma_rescheduleDeliveryNewSlotYes':case'ma_reservationCancelled':case'ma_reservationExtended':case'ma_searchOrdersError':case'ma_searchOrdersLookLike':case'ma_searchOrdersOpened':case'ma_sendLink':case'ma_sendLinkAgain':case'ma_signIn':case'ma_timeoutContinue':case'ma_timeoutDisplayed':case'ma_timeoutExpired':case'ma_timeoutSignout':case'ma_VATReceiptRendered':case'ma_VATReceiptClicked':case'ma_manageMarketingPreferenceCtaClick':return'ev | Interaction: My Account';case'myAccount_home':case'myAccount_addressBook':case'myAccount_orderSummary':case'myAccount_personalDetails':case'myAccount_storedCards':case'myAccount_giftCards':case'myAccount_argosCard':case'myAccount_orderDetails':case'myAccount_accountSignIn':return'pl | My Account';case'pdp_reviewsSpecialOfferAnchor':case'pdp_showMore':case'pdp_showMore_partiallyOpened':case'pdp_showMore_ctaClick':case'pdp_beFirstToAsk':case'pdp_collectionAlternativeStore':case'pdp_collectionLocationChange':case'pdp_deliveryChangePostCode':case'pdp_deliveryLocationCheck':case'pdp_fulfillmentModulesInteraction':case'pdp_mediaPlayerInteraction':case'pdp_moreQuestions':case'pdp_moreReviews':case'pdp_readReviewsIncentive':case'pdp_reviewStarRating':case'pdp_reviewsStarRating':case'pdp_reviewsSearch':case'pdpBundle_enterViewport':case'pdp_quantityDropdownStickyBar':case'pdp_stickyBarAnchorLink':case'pdp_askQuestion':case'pdp_productDescExpand':case'pdp_ar3d_Interaction':case'installationLbPage':case'pdp_reviewsFBTAnchor':case'pdp_nectarPointsSideDrawerOpen':case'pdp_essentialExtrasProductClicked':case'pdp_matchingAccessoriesAnchor':case'pdp_reviewsSort':case'pdp_reviewsAddRatingFilter':case'pdp_reviewsRemoveRatingFilter':case'pdp_reviewsSubmitFeedback':case'pdp_reviewsShowMore':case'pdp_reviewsPhotoClick':case'pdp_emailWhenInStockSubmit':case'pdp_priceOptionSelect':case'pdp_moneyOffBundlesAnchor':case'pdp_mtoSideDrawer':case'pdp_mtoSideDrawerCtaClick':case'pdp_mtoCtaClick':case'pdp_mtoMediaPlayerInteraction':case'pdp_AppleComparisonDropdown':return'ev | Interaction: PDP';case'plp_allFiltersCta':return'ev | Interaction: PLP';case'so_addToOffer':case'so_changeProduct':case'so_paginate':return'ev | Interaction: SPO';case'pdp_storeLocatorChooseAStore':case'pdp_storeLocatorChooseAStoreEvent':case'pdp_storeLocatorLocationsListPage':case'pdp_storeLocatorNoResults':case'pdp_storeLocatorStoreDetails':case'pdp_storeSelectorSelectThisStore':case'pdp_storeSelectorShowStoreDetails':case'pdp_storeSelectorTellMeWhere':case'pdp_storeSelectorWantItDelivered':case'tlp_storeSelectorSelectThisStore':case'tlp_storeSelectorShowStoreDetails':case'tlp_storeSelectorTellMeWhere':case'tlp_storeSelectorWantItDelivered':return'ev | Interaction: Store Selector';case'storeLocator_interaction':case'SSRInteraction':case'trade-in panel':case'product_disclaimer_interaction':return'ev | Generic Interaction';case'justForYou_initialLoad':return'pl | Just For You';case'tabGroup':case'tabGroup_justForYou':case'tabGroup_entryPointCarousel':case'personalisation_tabGroup':return'ev | Interaction: Tab Group';case'personalisation_buttonClick':return'ev | Interaction: Button Click';case'tlp_alternativeStoreChosen':case'tlp_fulfilmentTypeChanged':case'tlp_itemQuantityChanged':case'tlp_itemRemoved':case'tlp_productEdit':case'tlp_itemUndoRemoval':case'tlp_newPostCodeSelected':case'tlp_newStoreSelected':case'tlp_recommendedStoreDisplayed':case'tlp_recommendedStoreSelected':case'trolleyList_removeProduct':case'tlp_continueDeliveryClicked':case'tlp_continueCollectionClicked':case'tlp_signInJoinClicked':case'tlp_emptyTrolleyLinks':case'tlp_monthlyCareButtonClicked':case'tlp_creditSideDrawer':case'tlp_creditSideDrawerExpanderClicked':case'tlp_alternativeProductRecommendationsProductClicked':case'tlp_alternativeProductRecommendationsLightBoxReplaceItem':case'tlp_complementaryProductRecommendationPaginate':case'tlp_complementaryProductRecommendationsProductClicked':case'removeProductCareLbPage':case'removeProductCareLbRemoveProtection':case'removeProductCareLbStayProtected':case'tlp_mtoBasketCtaClick':case'tlp_quickViewCtaClick':case'tlp_missedOffersBannerViewed':case'missedOffersBanner_copyCode':case'missedOffersBanner_showMoreItems':case'missedOffersBanner_checkbox':case'shopMoreItemsSidebar':return'ev | Interaction: Trolley';case'wishlist_interaction':case'tlp_wishlist_interaction':case'wishlist_emptyWishlistLinks':case'wishlistInteraction_wishlistHeader':case'wishlistInteraction_startShopping':case'wishlistInteraction_signIn':case'wishlistInteraction_register':case'wishlistInteraction_energyEfficiency':case'wishlistInteraction_mergeWishlistAddItems':case'wishlistInteraction_mergeWishlistRemoveItems':return'ev | Interaction: Wishlist';case'continueShoppingATTLb':case'goToTrolleyATTLb':return'ev | Interaction: ATT Lightbox';case'hd_partial_yourdetails_use_delivery_address':case'prepay_partial':case'yd':case'yd_changeBillingDetails':case'yd_changeDeliveryDetails':case'yd_deliveryPhoneTypeSwitch':case'yd_enterAddressManually':case'yd_FieldCompletionValid':case'yd_findAddress':case'yd_findDifferentAddress':case'yd_phoneTypeSwitch':case'yd_useMyDeliveryAddressTickbox':return'ev | Interaction: Your Details';case'pdp_SLNewStoreStockAPIs':case'pdp_newHDPostcodeStockAPIs':case'pdp_quantityStockAPIs':case'pdp_initialStockAPIs':case'pdp_variantStockAPIs':case'pdp_AlternativeNewStoreStockAPIs':return'ev | Localisation: PDP';case'slp_initiateLocalisation':case'plp_initiateLocalisation':case'cat_initiateLocalisation':return'ev | Interaction: Initiate Localisation';case'namogoo':return'ev | namogoo';case'events_recommendationsViewed':case'brands_recommendationsViewed':case'features_recommendationsViewed':case'jfy_recommendationsViewed':case'clp_recommendationsViewed':case'hp_featuredProducts':case'hp_recentlyViewedProducts':case'hp_recommendationsViewed':case'hp_recommendedProducts':case'pdp_recommendationsViewed':case'hp_entryPointCarouselViewed':case'hp_entryPointGridViewed':case'personalisation_componentViewed':return'ev | Recommendation: Impression';case'hp_recommendationsNewPage':case'hp_recommendationsNewPageViewed':return'ev | hp_recommendationsNewPageViewed';case'pdp_recommendationsNewPage':case'pdp_recommendationsNewPageViewed':return'ev | pdp_recommendationsNewPageViewed';case'jfy_recommendationsNewPageViewed':return'ev | jfy_recommendationsNewPageViewed';case'clp_recommendationsNewPageViewed':return'ev | clp_recommendationsNewPageViewed';case'pdp_requestRecommendations':return'ev | pdp_recommendationsRequested';case'addToTrolley':case'cnet_addToTrolley':return'ev | Add to Trolley';case'addToTrolley_error':return'ev | Add to Trolley Error';case'pdp_storeSelectorSearchErrorPage':case'pdp_storeSelectorLocationsListPage':case'pdp_storeSelectorStoresListPage':case'tlp_storeSelectorLocationsListPage':case'tlp_storeSelectorStoresListPage':return'pl | Store Selector';case'CLPResult':case'CLPResults':return'pl | CLPResults';case'cyo_initialLoad':return'pl | cyo_initialLoad';case'404Page':case'pdp_404':case'skuFinder_ProductNotFound':case'tlp_error':case'tlp_storeSelectorSearchErrorPage':return'pl | Error: Page';case'hp_initialLoad':case'magnoliaPage':case'pdp_initialLoad':case'PLPResult':case'PLPResults':case'searchResults':case'so_newPage':case'tlp_initialLoad':case'wishlist_initialLoad':case'yd_initialLoad':case'cgc_initialLoad':case'storeLocator_initialLoad':case'help_initialLoad':case'setUpMonthlyCare_initialLoad':return'pl | '+evtName;case'pdp_storeLocatorMainPage':return'pl | storeLocatorMainPage';case'pdp_storeLocatorStoresListPage':return'pl | storeLocatorStoresListPage';case'pdp_variant':return'pl | pdp';case'cnetContent':case'CNET More Details':return'ev | cnet';case'paynowpayinstore':case's.tl Hijack':return'ev | s.tl Hijack';case'ev_deliveryGridContinue':return'ev | Delivery Grid: Continue';case'ui-cms':return'pl | magnolia';case'quickviewLbPage':return'pl | quickviewLbPage';case'productCareLbPage':return'pl | productCareLbPage';case'productCareDrawerLbPage':return'pl | productCareDrawerLbPage';case'addToTrolleyLbPage':return'pl | addToTrolleyLbPage';case'creditOptionsLbPage':return'pl | creditOptionsLbPage';case'creditLbPage':return'pl | creditLbPage';case'search_localisationLbPage':case'plp_localisationLbPage':case'cat_localisationLbPage':return'pl | localisationLbPage';case'localisation_localisationSuccess':return'ev | Localisation Success';case'localisation_localisationFailure':return'ev | Localisation Failure';case'localisation_localisationNoStoresError':return'ev | No Stores within Range Error';case'plp_displayLocalisationPrompt':case'plp_closeLocalisationPrompt':case'slp_displayLocalisationPrompt':case'slp_closeLocalisationPrompt':return'ev | Localisation Prompt Interaction';case'collectionConfirmation_initialLoad':case'prepayConfirmation_initialLoad':case'homeDeliveryConfirmation_initialLoad':return'pl | orderConfirmation';case'pnpl_initialLoad':return'pl | pnpl';case'cr_yd_initialLoad':return'pl | collectionYourDetails';case'cr_yd_summary_initialLoad':return'pl | collectionYourDetailSummary';case'pageview':return'Page View';case'creditBannerLbPage':return'pl | creditBannerLbPage';case'productFinderLoaded':case'productFinderInteraction':return'ev | productFinder';case'ugcLoaded':return'ev | User Generated Content Loaded';case'ugcViewed':return'ev | User Generated Content Viewed';case'collection_errorPage':return'pl | collectionError';case'pnpl_payInStoreButtonCustom':return'ev | pnpl_payInStoreButton';case'pnpl_checkDetailsButtonCustom':return'ev | pnpl_checkDetails';case'pnpl_emailOnBlurCustom':return'ev | pnpl_emailOnBlur';case'pnpl_mobileNumberOnBlurCustom':return'ev | pnpl_mobileNumberOnBlur';case'pnpl_changeEmailLinkCustom':return'ev | pnpl_changeEmailLink';case'pnpl_placeReservationButtonCustom':return'ev | pnpl_placeReservationButton';case'productCareLbTermsAccepted':return'ev | productCareLbTermsAccepted';case'productCareDrawerClosed':return'ev | productCareDrawerClosed';case'productCareDrawerAddCare':return'ev | productCareDrawerAddCare';case'productCareDrawerContinueWithoutInsurance':return'ev | productCareDrawerContinueWithoutInsurance';case'taggstarDetails_populated':return'ev | taggstarDeatils_populated';case'deliverySlotSelectedLarge':return'ev | deliverySlotSelectedLarge';case'deliverySlotSelectedSmall':return'ev | deliverySlotSelectedSmall';case'livechatLbPage':return'ev | livechat LbPage';case'livechatAvailability':return'ev | livechat Availability';case'livechatMinimised':return'ev | livechat Minimised';case'livechatReopened':return'ev | livechat Reopened';case'tlp_productRecommendationLbPage':return'pl | productRecommendationLbPage';case'events_recommendationsLoaded':case'brands_recommendationsLoaded':case'features_recommendationsLoaded':case'jfy_recommendationsLoaded':case'clp_recommendationsLoaded':case'pdp_recommendationsLoaded':case'hp_recommendationsLoaded':case'tlp_recommendationsLoaded':case'attlb_recommendationsLoaded':case'hp_entryPointGridLoaded':case'personalisation_initialLoad':case'personalisation_componentLoaded':case'hp_personalisationSegmentLoaded':case'jfy_personalisationSegmentLoaded':case'clp_personalisationSegmentLoaded':case'plp_personalisationSegmentLoaded':case'brands_personalisationSegmentLoaded':case'events_personalisationSegmentLoaded':case'features_personalisationSegmentLoaded':case'hp_entryPointCarouselLoaded':case'jfy_listerLoaded':case'jfy_listerSeeMoreProductsClicked':case'guest_checkout_popup_impression':case'guest_checkout_popup_click':case'jfy_listerViewed':case'jfy_recentlyViewedListViewed':case'jfy_recentlyViewedListLoaded':case'jfy_recentlyViewedListNewPageViewed':case'jfy_recentlyViewedListClick':case'jfy_previouslyViewedProductViewed':case'jfy_previouslyViewedProductLoaded':case'jfy_previouslyViewedProductNewPageViewed':case'jfy_previouslyViewedProductChevronClicked':case'events_recommendationsNewPageViewed':case'brands_recommendationsNewPageViewed':case'features_recommendationsNewPageViewed':case'hp_entryPointCarouselNewPageViewed':case'hp_entryPointGridNewPageViewed':case'plp_personalisationComponentNewPageViewed':case'personalisation_componentNewPageViewed':return'ev | '+evtName;case'ev_setUpMonthlyCare_imNoLongerInterested':case'ev_setUpMonthlyCare_setUp':case'ev_setUpMonthlyCare_setUp_formProgressionError':case'ev_setUpMonthlyCare_error':return'ev | setUpMonthlyCare';case'open_attlb_warrantyhook':case'open_attlb_warrantydetails':return'ev | Impression: ATT Lightbox';case'attlb_click':case'attlb_quantityDropdown':return'ev | Interaction: ATT Lightbox';case'trolley_signIn':return'pl | trolley_signIn';case'trolleySignIn_signIn':case'trolleySignIn_register':case'trolleySignIn_forgotPassword':case'trolleySignIn_notYou':return'ev | Interaction: trolley_SignIn';case'trolley_register':case'new_trolley_register':return'pl | trolley_register';case'trolleyRegister_signIn':case'trolleyRegister_continue':case'new_trolleyRegister_continue':case'new_trolleyCustomerDetails_continue':return'ev | Interaction: trolley_register';case'trolley_forgotPassword':return'pl | trolley_forgotPassword';case'trolleyForgotPassword_sendLink':case'trolleyForgotPassword_emailSent':case'trolleyForgotPassword_enterEmailAgain':return'ev | Interaction: trolley_forgotPassword';case'trolley_resetPassword':return'pl | trolley_resetPassword';case'trolleyResetPasswordSave':case'trolleyResetPasswordSuccess':return'ev | Interaction: trolley_resetPassword';case'trolley_resetPasswordLinkExpired':return'pl | trolley_resetPasswordLinkExpired';case'trolley_signInError':return'pl | trolley_signInError';case'trolleyErrorSignIn_returnToBasket':return'ev | Interaction: trolley_signInError';case'trolley_paymentSelection_paypal':return'ev | Interaction: trolley_paymentSelection_paypal';case'ma_personalDetails':if(document.location.pathname=='/account/RegistrationConfirmation'){return'pl | My Account';}else{return'undefined event';}
case'afsBannerViewed':return'ev | afsBannerViewed';case'afsBannerClicked':return'ev | afsBannerClicked';case'afsCreditPlan_Close':return'ev | afsCreditPlan_Close';case'afsCreditPlan_keepOnShopping':case'afsCreditPlan_KeepOnShopping':return'ev | afsCreditPlan_keepOnShopping';case'afsCreditPlan_offersHere':case'afsCreditPlan_OffersHere':return'ev | afsCreditPlan_offersHere';case'bf_wibf_seeMore':return'ev | bf_wibf_seeMore';case'bf_plpNewPageViewed':return'ev | bf_plpNewPageViewed';case'hp_plpNewPageViewed':return'ev | hp_plpNewPageViewed';case'searchResults_searchQualityFeedback':return'ev | searchResults_searchQualityFeedback';case'pdp_moneyOffBundlesAnchorViewed':return'ev | pdp_moneyOffBundlesAnchorViewed';case'creditApplication_choice':case'creditApplication_eligibility':case'creditApplication_personalEligibility':case'creditApplication_importantInfo':case'creditApplication_aboutYou':case'creditApplication_whereYouLive':case'creditApplication_yourFinanceDetails':case'creditApplication_loading':case'creditApplication_offerSuccess':case'creditApplication_offerRefer':case'creditApplication_confirmation':case'creditApplication_completeRefer':case'creditApplication_declinedUnavailableToday':case'creditApplication_declineAvilableToday':case'creditApplication_downTime':case'creditApplication_agreementDetails':case'creditApplication_creditAgreement':case'creditApplication_leaveWithoutSubmitting':case'creditApplication_precontractInfo':return'pl | CAPE 2';case'creditApplication_waysToApplyShopNow':case'creditApplication_waysToApplyApplyToday':case'creditApplication_eligibilityContinue':case'creditApplication_personalEligibilityContinue':case'creditApplication_readOurFullTNCs':case'creditApplication_getStarted':case'creditApplication_aboutYouLeaveApplication':case'creditApplication_whereYouLiveBackToPreviousSection':case'creditApplication_yourFinanceDetailsBackToPreviousSection':case'creditApplication_offerSuccessViewCreditAgreement':case'creditApplication_offerSuccessViewAgreementDetails':case'creditApplication_offerSuccessViewPreContractInfo':case'creditApplication_offerSuccessSubmitApplication':case'creditApplication_offerSuccessMaybeLater':case'creditApplication_offerReferViewCreditAgreement':case'creditApplication_offerReferViewAgreementDetails':case'creditApplication_offerReferViewPreContractInfo':case'creditApplication_offerReferSubmitApplication':case'creditApplication_offerReferMaybeLater':case'creditApplication_confirmationWishlist':case'creditApplication_confirmationCreditOffers':case'creditApplication_confirmationDownloadIOSApp':case'creditApplication_confirmationDownloadAndroidApp':case'creditApplication_confirmationHelpPage':case'creditApplication_confirmationFAQs':case'creditApplication_confirmationBackToHomepage':case'creditApplication_completeReferWishlist':case'creditApplication_completeReferCreditOffers':case'creditApplication_completeReferDownloadIOSApp':case'creditApplication_completeReferDownloadAndroidApp':case'creditApplication_completeReferHelpPage':case'creditApplication_completeReferFAQs':case'creditApplication_completeReferBackToHomepage':case'creditApplicationDeclinedUnavilableToday_BackToPaymentsPage':case'creditApplicationdeclinedUnavailableToday_HowToImproveCreditScore':case'creditApplicationDeclineAvailableToday_backToHomepage':case'creditApplicationDeclineAvailableToday_howToImproveACreditScore':case'creditApplicationDeclineAvailableToday_checkEligibilityNow':case'creditApplication_downTimeReturnToHome':case'creditApplication_agreementDetailsDownloadPDF':case'creditApplication_agreementDetailsIveReadThis':case'creditApplication_agreementDetailsClose':case'creditApplication_creditAgreementDownloadPDF':case'creditApplication_creditAgreementIveReadThis':case'creditApplication_creditAgreementClose':case'creditApplication_lwsMybeLaterGoToBasket':case'creditApplication_lwsReturnToApplication':case'creditApplication_precontractInfoDownloadPDF':case'creditApplication_precontractInfoIveReadThis':case'creditApplication_precontractInfoClose':return'ev | Interaction: CAPE 2';case'billingNewAddress_formErrorMessage':case'billingEditAddress_formErrorMessage':case'billingNewAddressSystem_errorMessage':case'billingEditAddressSystem_errorMessage':case'creditApplication_formFieldError':case'creditApplication_formProgressionError':case'creditApplicationSystem_errorMessage':case'mpp_needToEnterPreviousAddressError':case'mpp_otpError':return'ev | Form';case'creditApplication_creditOptions':case'creditApplication_declineAvailableToday':case'creditApplication_insufficientCredit':case'creditApplication_creditOptionsLearnMoreLbPage':case'creditApplication_offerSuccessViewAllItemsLbPage':return'pl | Cape 2 - '+evtName;case'creditApplication_creditOptionsStartApplication':case'creditApplication_creditOptionsLeaveApplication':case'creditApplicationDeclinedUnavilableToday_backToHomePage':case'creditApplication_insufficientCreditGoBackAndEditTrolley':case'creditApplication_insufficientCreditPayAnotherWay':case'creditApplication_insufficientCreditSelectPlan':case'creditApplication_offerReferPayAnotherWay':case'creditApplication_whereYouLiveChangeAddress':return'ev | Interaction: Cape 2 - '+evtName;case'tlp_errorPage':return'pl | tlp_errorPage';case'tlp_changeVariant':return'ev | tlp_changeVariant';case'tlp_variantUpdated':return'ev | tlp_variantUpdated';case'tlp_variantSelected':return'ev | tlp_variantSelected';case'prepayCheckout_initialLoad':return'pl | prepayCheckout_initialLoad';case'prepayCheckout_paymentBilling':return'pl | prepayCheckout_paymentBilling';case'prepayCheckout_paymentBillingNewAddress':return'pl | prepayCheckout_paymentBillingNewAddress';case'prepayCheckout_paymentBillingEditAddress':return'pl | prepayCheckout_paymentBillingEditAddress';case'prepayCheckout_paymentBillingEditPreferredAddress':return'pl | prepayCheckout_paymentBillingEditPreferredAddress';case'prepayCheckout_partialBillingAddress':return'pl | prepayCheckout_partialBillingAddress';case'prepayCheckout_promoCodesGiftCard':return'pl | prepayCheckout_promoCodesGiftCard';case'prepayCheckout_nectarCard':return'pl | prepayCheckout_nectarCard';case'prepay_errorPage':return'pl | prepay_errorPage';case'prepayConfirmation_errorPage':return'pl | prepayConfirmation_errorPage';case'confirmation_errorPage':return'pl | confirmation_errorPage';case'homeDeliveryCheckout_initialLoad':return'pl | homeDeliveryCheckout_initialLoad';case'homeDeliveryCheckout_paymentBilling':return'pl | homeDeliveryCheckout_paymentBilling';case'homeDeliveryCheckout_paymentBillingNewAddress':return'pl | homeDeliveryCheckout_paymentBillingNewAddress';case'homeDeliveryCheckout_paymentBillingEditAddress':return'pl | homeDeliveryCheckout_paymentBillingEditAddress';case'homeDeliveryCheckout_partialBillingAddress':return'pl | homeDeliveryCheckout_partialBillingAddress';case'homeDeliveryCheckout_promoCodesGiftCard':return'pl | homeDeliveryCheckout_promoCodesGiftCard';case'homeDeliveryCheckout_nectarCard':return'pl | homeDeliveryCheckout_nectarCard';case'checkout_errorPage':return'pl | checkout_errorPage';case'homeDeliveryConfirmation_errorPage':return'pl | homeDeliveryConfirmation_errorPage';case'collectionPNChangeBillingAddress':case'collectionPNWhatIsThisLinkFor_Show':case'collectionPNWhatIsThisLinkFor_Hide':case'collectionPNTermsAndConditions':case'collectionPNFooterPrivacyHub':case'collectionPNFooterPrivacyPolicy':case'collectionPNFooterCookiePolicy':case'collectionPNFooterTermsAndConditions':case'collectionPNCollectionBreadcrumb':case'collectionPNViewAllItems':case'collectionPNViewItems':case'collectionPNViewTotal':case'collectionPNCloseOrderSummary':case'collectionPNOpenPromoGiftCardSummary':case'collectionPNAddPromoCodeGiftCard':case'collectionPNRemoveGiftCard':case'collectionPNOpenNectarSummary':case'collectionPNChangeNectar':case'collectionPNTrolleyBreadcrumb':case'collectionPNRemovePromoCodeSuccess':case'nectarSpendAmount':case'confirmNectarPoints':case'confirmNectarPointsApplied':case'collectionPNChoosePaymentOption':case'collectionPNChooseSavedPaymentOption':case'collectionPNChoosePaymentOption_newCardTab':case'collectionPNChoosePaymentOption_savedCardTab':case'billingAddress_DifferentAddress':case'billingAddress_SelectionAddress':case'billingAddress_AddNewAddress':case'billingAddress_Close':case'billingNewAddress_dontHaveMobile':case'billingNewAddress_noLandline':case'billingNewAddress_addNewAddressLine':case'billingNewAddress_backToBilling':case'billingNewAddress_saveAddress':case'billingNewAddress_close':case'billingEditAddress_dontHaveMobile':case'billingEditAddress_noLandline':case'billingEditAddress_addNewAddressLine':case'billingEditAddress_backToBilling':case'billingEditAddress_saveAddress':case'billingEditAddress_close':case'partialBillingAddress_dontHaveMobile':case'partialBillingAddress_addNewAddressLine':case'partialBillingAddress_backToTrolley':case'partialBillingAddress_saveAddress':case'partialBillingAddress_noLandline':case'giftCard_tab':case'promoCode_tab':case'switchToGiftCard':case'promoCode_applied':case'promoCode_invalid':case'enter2FACode':case'send2FACodeAgain':case'contactHelpLine':case'creditDebitCard_changelink':case'argosCardCreditPlan_selected':case'argosCardCreditPlan_findOutMore':case'argosCardCreditPlan_afsHowItWorks':case'argosCardCreditPlan_afsLegalStuff':case'argosCardCreditPlan_afsHowDoIGetArgosCard':case'argosCardDetails_change':case'argosCardDetails_edit':case'argosBusinessAccountCard_change':case'argosBusinessAccountCard_edit':case'argosPrepayError_BackToTrolley':case'argosPrepayConfirmationError_BackToTrolley':case'argosPrepayConfirmationError_ViewMyAccount':case'argosPrepayConfirmationError_ReturnToHome':case'argosPrepayConfirmationError_WeCanHelp':case'argosCheckoutError_BackToTrolley':case'argosConfirmationError_BackToTrolley':case'argosConfirmationError_ReturnToHome':case'argosConfirmationError_WeCanHelp':case'billingNewAddress_formProgressionSuccess':case'billingEditAddress_formProgressionSuccess':case'partialBillingAddress_formProgressionSuccess':case'promoCode_formProgressionSuccess':case'giftCard_formProgressionSuccess':case'argosBusinessAccountCard_formProgressionSuccess':case'billingEditAddress_setAsPreferredAddress':case'billingNewAddress_setAsPreferredAddress':case'billingEditAddress_uncheckPreferredAddress':case'billingNewAddress_uncheckPreferredAddress':case'billingEditAddress_saveAddressSuccess':case'billingNewAddress_saveAddressSuccess':case'changeBillingAddress':case'whatIsThisLinkFor_Show':case'whatIsThisLinkFor_Hide':case'choosePaymentOption_newCardTab':case'choosePaymentOption_savedCardTab':case'termsAndConditions':case'footerPrivacyHub':case'footerPrivacyPolicy':case'footerCookiePolicy':case'footerTermsAndConditions':case'deliveryBreadcrumb':case'changeDetails':case'viewAllItems':case'viewItems':case'viewTotal':case'closeOrderSummary':case'openPromoGiftCardSummary':case'addPromoCodeGiftCard':case'removeGiftCard':case'openNectarSummary':case'changeNectar':case'removePromoCodeSuccess':case'choosePaymentOption':case'chooseSavedPaymentOption':case'trolleyBreadcrumb':return'ev | Interaction: checkout';case'removePromoCodeFailure':case'collectionPNRemovePromoCodeFailure':return'ev | Form';case'billingNewAddress_formProgressionError':case'billingNewAddress_formFieldError':case'billingEditAddress_formProgressionError':case'billingEditAddress_formFieldError':case'partialBillingAddress_formProgressionError':case'partialBillingAddress_formFieldError':case'promoCode_formProgressionError':case'promoCode_formFieldError':case'giftCard_formProgressionError':case'giftCard_formFieldError':case'argosBusinessAccountCard_formProgressionError':case'argosBusinessAccountCard_formFieldError':case'error2FAVerification':case'prepayDataCashErrorMessage':case'dataCashErrorMessage':return'ev | Form';case'collectionPNSystemErrorMessage':case'partialBillingAddressSystem_errorMessage':return'ev | SystemError: prepayCheckout';case'CLPResults_lhsNavClick':return'ev | Interaction: CLPResults_lhsNavClick';case'updateConsentPreference':return'ev | updateConsentPreference';case'freeFabricSample':return'ev | freeFabricSample';case'monthlyCare_info':case'monthlyCare_howToGetStarted':case'monthlyCare_legal':case'monthlyCare_directDebitSetup':case'monthlyCare_directDebitSummary':case'monthlyCare_confirmation':case'monthlyCare_errorPage':return'pl | Monthly Care';case'monthlyCare_infoWhatsIncluded':case'monthlyCare_infoWhatsExcluded':case'monthlyCare_infoContinue':case'monthlyCare_infoBack':case'monthlyCare_systemErrorMessage':case'monthlyCare_howToGetStartedContinue':case'monthlyCare_howToGetStartedBack':case'monthlyCare_legalPolicyInformationDocumentLink':case'monthlyCare_legalIPIDdocumentLink':case'monthlyCare_legalContinue':case'monthlyCare_legalBack':case'monthlyCare_directDebitSetupProgressSuccess':case'monthlyCare_directDebitSetupBack':case'monthlyCare_directDebitSummaryBack':case'monthlyCare_directDebitSummaryBuyMonthlyCare':case'monthlyCare_confirmationArgosProductCareWebsiteLink':case'monthlyCare_confirmationBackToOrderConfirmation':case'monthlyCare_errorPageBackToOrderConfirmation':return'ev | Monthly Care';case'monthlyCare_formFieldError':case'monthlyCare_legalContinueError':return'ev | Form';case'monthlyProductCareLbPage':return'pl | MonthlyProductCareLbPage';case'changeVariantLbPage':return'pl | changeVariantLbPage';case'essentialExtrasATTLbPage':return'pl | essentialExtrasATTLbPage';case'close_essentialExtrasATTLb':return'ev | close_essentialExtrasATTLb';case'close_ATTLb':return'ev | close_ATTLb';case'goToTrolley_essentialExtrasATTLb':return'ev | goToTrolley_essentialExtrasATTLb';case'namogoo_indicatorEvent':return'ev | Namogoo Indicator Event';case'cmsStickyBarAnchorLink':return'ev | cmsStickyBarAnchorLink';case'accordionOpen':case'accordionClose':return'ev | accordionClicked';case'attLbOpenMonthlyCareAccordion':case'attLbMonthlyCareAccordionIPIDdocumentLink':case'attLbOpenTermCareAccordion':case'attLbTermCareAccordionIPIDdocumentLink':return'ev | Interaction: ATT Product Care Accordion';case'attWarrantiesOffered':return'ev | ATT Warranties Offered';case'pdp_syteDiscoveryButtonImpression':return'ev | pdp_syteDiscoveryButtonImpression';case'pdp_syteDiscoveryButtonClick':return'ev | pdp_syteDiscoveryButtonClick';case'pdp_syteProductClick':return'ev | pdp_syteProductClick';case'GISEvent':return'ev | Go In Store Interaction Event';case'stockholdOutOfStock_initialLoad':return'pl | stockhold_OutOfStock';case'stockholdOutOfStockShopAll':return'ev | stockhold_OutOfStock_shopAll';case'googlePDP_initialLoad':return'pl | pdp_initialLoad';case'googlePDP_chooseOptions':case'googlePDP_seeFullDetails':return'ev | Interaction: PDP Google';case'mpp_aboutYou':case'mpp_amIEligible':case'mpp_calculator':case'mpp_checkMyApplication':case'mpp_checkMyApplicationPleaseWait':case'mpp_declined':case'mpp_docuSignPleaseWait':case'mpp_error':case'mpp_howWeWillUseYourData':case'mpp_identityQuestioning':case'mpp_importantInfo':case'mpp_itsTimeToSign':case'mpp_myQuoteHighProbability':case'mpp_myQuoteLowProbability':case'mpp_myQuotePleaseWait':case'mpp_whatCanIExpect':case'mpp_youveBeenAccepted':case'mpp_yourDetails':case'mpp_yourFinanceDetails':case'mpp_yourOccupation':case'mpp_otp':case'mpp_yourApplication':case'mpp_yourApplicationPleaseWait':return'pl | MPP';case'mpp_accessibleCommunicationLbPage':case'mpp_accessibleCommunicationConfirmedLbPage':case'mpp_declineOfferLbPage':case'mpp_errorLbPage':case'mpp_leaveApplicationLbPage':case'mpp_leaveApplicationCreditFootprintLbPage':case'mpp_yourApplicationHasTimedOutLbPage':case'mpp_yourApplicationMayTimeOutLbPage':case'mpp_termsLbPage':case'mpp_dataPrivacyLbPage':case'mpp_importantInfoLbPage':case'mpp_noticeOfCorrectionLbPage':case'mpp_quoteTermsLbPage':case'mpp_whyIsThisLbPage':case'mpp_whyWeNeedYourBankAccountDetailsLbPage':case'mpp_directDebitGuaranteeLbPage':case'mpp_moreInformationLbPage':case'mpp_moreRefundInfoLbPage':case'mpp_navigationErrorLbPage':case'mpp_bankAccountErrorLbPage':case'mpp_notYourPhoneNumberLbPage':return'pl | MPP LightBoxPage';case'mpp_goToCheckout':case'mpp_leaveApplication':case'mpp_returnToCheckout':case'mpp_continueToDocuSign':case'monthlyPaymentPlan_returnToCheckout':case'monthlyPaymentPlan_continueToDocuSign':case'mpp_notMyPhoneNumber':case'mpp_sendMeAnotherCode':return'ev | MPP';case'creditOptionsAccordion_expanded':case'argosCardBanner_applyNow':case'argosCardBanner_yesApplyUsingThese':case'argosCardBanner_noINeedToChangeThem':case'argosCardBanner_error':case'argosCardBanner_updateAddress':case'mppBanner_applyNow':case'mppBanner_yesApplyUsingThese':case'mppBanner_noINeedToChangeThem':case'mppBanner_error':case'mppBanner_updateAddress':case'creditOptionsLb_argosCardApplyNow':case'creditOptionsLb_argosCardYesApplyUsingThese':case'creditOptionsLb_argosCardNoINeedToChangeThem':case'creditOptionsLb_argosCardError':case'creditOptionsLb_argosCardFindOutMoreAccordionExpanded':case'creditOptionsLb_argosCardUpdateAddress':case'creditOptionsLb_mppApplyNow':case'creditOptionsLb_mppYesApplyUsingThese':case'creditOptionsLb_mppNoINeedToChangeThem':case'creditOptionsLb_mppError':case'creditOptionsLb_mppFindOutMoreAccordionExpanded':case'creditOptionsLb_mppUpdateAddress':case'creditOptionsLb_alreadyHaveAnArgosCardAccordionExpanded':case'prepayConfirmation_idqNewArgosCardMoreInfo':case'idqNewArgosCardMoreInfo':case'mppMoreInformationHere':case'tlp_argosCardBannerLoaded':case'tlp_mppBannerLoaded':case'tlp_argosCardBannerViewed':case'tlp_mppBannerViewed':case'pdp_creditBannerViewed':case'pdp_mppBannerViewed':case'mppBanner_proceedUsingMyDeliveryDetails':case'mppBanner_updateDeliveryDetailsAndBookNewSlot':case'mppBanner_payAnotherWay':case'checkout_mppBannerRemoveTuClothingItem':case'checkout_mppBannerRemoveProductCareItem':case'creditOptionsLb_mppRemoveTuClothingItem':case'creditOptionsLb_mppRemoveProductCareItem':case'argosCardBanner_proceedUsingMyDeliveryDetails':case'argosCardBanner_updateDeliveryDetailsAndBookNewSlot':case'argosCardBanner_payAnotherWay':case'creditOptionsLb_argosCardProceedUsingMyDeliveryDetails':case'creditOptionsLb_argosCardUpdateDeliveryDetailsAndBookNewSlot':case'creditOptionsLb_argosCardPayAnotherWay':case'confirmAndPay_viewFlexibleCredit':case'creditOptionsAccordion_headerClickedOpened':case'tlp_creditOptionLearnMoreViewed':case'tlp_creditOptionSideDrawer':return'ev | Interaction: Credit Options';case'prepayConfirmation_showStoreDetails':return'ev | Interaction: PrePay Confirmation';case'ugcInteraction':return'ev | ugcInteraction';case'offline_initialLoad':return'pl | Offline';case'cms_carousel_viewed':return'ev | Impression';case'cms_carousel_interaction':return'ev | Interaction';case'ors_startReturnLbPage':return'pl | Start Return Lightbox';case'ors_startReturnConfirmation':return'pl | Start Return Confirmation';case'ors_startReturnRejected':return'pl | Start Return Rejected';case'startReturnContinueClicked':case'startReturnContinueClickedOnStep1':case'startReturnContinueClickedOnStep2':case'startReturnContinueClickedOnStep3':case'startReturnContinueClickedOnStep4':case'startReturnCreateReturnClicked':case'startReturnCancelClicked':case'startReturnCloseClicked':return'ev | Interaction: Start Return';case'importantInfoPage_initialLoad':return'pl | Important Information Page';case'importantInfoPage_ageRestrictionCheckbox':case'importantInfoPage_continueError':case'importantInfoPage_continueSuccessful':return'ev | Interaction: Important Information Page';case'fulfilmentPassDrawer':return'pl | Fulfilment Pass Drawer';case'fulfilmentPass_learnMore':case'pdp_wantFreeDelivery_ticked':case'fulfilmentPass_infoIcon':case'fulfilmentPass_termsAndConditions':case'fulfilmentPass_DrawerClosed':return'ev | Interaction: Fulfilment Pass';case'argosPayCheckEligibility_initialLoad':case'argosPayCheckEligibility_next':return'pl | Argos Pay Check Eligibility';case'argosPayCheckEligibilityButtonClicked':case'argosPaySignInButtonClicked':case'argosPayCheckEligibilityCancelClicked':case'argosPayCheckEligibilityExitClicked':case'argosPayCheckEligibilityReturnClicked':case'argosPayCheckEligibilityKeepGoingClicked':case'argosPayCheckEligibilitySubmitClicked':return'ev | Interaction: Argos Pay Check Eligibility';case'argosPayApplyStart':case'argosPayApplyDeclined':case'argosPayApplyVerify':case'argosPayApplyReview':case'argosPayApplyApproved':return'pl | Argos Pay Apply';case'argosPayApplyVerifySend1pClicked':case'argosPayApplyWhichBankClicked':case'argosPayApplyVerifyCodeClicked':case'argosPayApplyVerifyGoBackClicked':case'argosPayApplySubmitApplicationClicked':case'argosPayApplyApprovedContinueClicked':case'argosPayApplyTimeout':case'argosPayApplyTimeoutStartAgainClicked':case'argosPayApplyTimeoutExitClicked':return'ev | Interaction: Argos Pay Apply';case'argosPayPayment':return'pl | Argos Pay Payment';case'argosPayPaymentPayClicked':case'argosPayPaymentChangeMethodClicked':return'ev | Interaction: Argos Pay Payment';case'argosPayDrawerLbPage':return'pl | Argos Pay Drawer';case'argosPayTermSliderInteraction':case'argosPayKeyInformationClicked':case'argosPayMoreAboutClicked':case'argosPayDrawerClosed':return'ev | Interaction: Argos Pay Drawer';case'argosPayCtaClicked':case'argosPayLearnMoreClicked':return'ev | Interaction: Argos Pay CTA';case'prepayGuestCheckout_initialLoad':case'ors_initialLoad':return'pl | Page View';case'trolleySignIn_interaction':case'prepayGuestCheckout_interaction':case'ors_interaction':case'prepayConfirmation_interaction':case'homeDeliveryConfirmation_interaction':return'ev | Interaction';case'prepayGuestCheckout_error':case'orderRetrieval_formFieldError':case'ors_error':case'prepayConfirmation_error':return'ev | Error';case'pdp_payPalImpression':return'ev | pdp: payPal Impression';case'pdp_energySavingButtonViewed':return'ev | pdp_energySavingButtonViewed';case'pdp_energySavingButtonInteraction':return'ev | pdp_energySavingButtonInteraction';case'pdp_energySavingAlternativeProductClicked':return'ev | pdp_energySavingAlternativeProductClicked';case'pdp_energySavingUsageOption':return'ev | pdp_energySavingUsageOption';case'pdp_energySavingYearsOption':return'ev | pdp_energySavingYearsOption';case'pdp_energySavingTariffOption':return'ev | pdp_energySavingTariffOption';case'pdp_socialMediaComponentViewed':return'ev | pdp_socialMediaComponentViewed';case'pdp_socialMediaImageBasketClick':return'ev | pdp_socialMediaImageBasketClick';case'socialMediaLbPage':return'pl | socialMediaLbPage';case'socialMediaLbCarouselNext':return'ev | socialMediaLbCarouselNext';case'socialMediaLbCarouselPrevious':return'ev | socialMediaLbCarouselPrevious';case'hotspotLoaded':case'hotspotViewed':case'hotspotClicked':return'ev | Interaction: hotspot';case'hotspotLb_fullDetails':case'hotspotLb_chevron':case'hotspotLb_moreDetails':return'ev | Interaction: hotspotLb';case'cms_hotspotLbPage':return'pl | hotspotLbPage';case'shopMoreItemsSidebar_lightboxLoaded':return'pl | shopMoreItemsSidebar_lightboxLoaded';case'arrangeDelivery_initialLoad':return'pl | Arrange Delivery';case'arrangeDelivery_changeDeliveryAddress':case'arrangeDelivery_addDeliveryInstructionsCheckbox':case'arrangeDelivery_error':case'arrangeDelivery_messageDisplayed':case'arrangeDelivery_outOfStockErrorAddToWishlist':case'arrangeDelivery_postcodeRestrictionErrorChangePostcode':case'arrangeDelivery_postcodeRestrictionErrorBacktoTrolley':case'arrangeDelivery_digitalDownloadCheckbox':case'arrangeDelivery_ageRestrictionCheckbox':case'arrangeDelivery_installationServiceCheckbox':case'arrangeDelivery_installationServiceLearnMore':case'arrangeDelivery_continueSuccessful':case'arrangeDelivery_continueError':case'arrangeDelivery_slotBookingRadio':return'ev | Arrange Delivery';case'arrangeDelivery_changeAddressLb':return'pl | Change Address Lightbox';case'arrangeDelivery_changeAddressLb_edit':case'arrangeDelivery_changeAddressLb_saveEditedAddress':case'arrangeDelivery_changeAddressLb_addNewAddress':case'arrangeDelivery_changeAddressLb_saveNewAddress':case'arrangeDelivery_changeAddressLb_changeAddress':case'arrangeDelivery_changeAddressLb_confirm':return'ev | Change Address Lightbox';case'Trevor interaction':case'Trevor interaction - loaded':case'Trevor interaction - impression':case'Trevor products':return'ev | Interaction: Trevor Application Search Experience';case'close_attlb':case'close_attlb_warrantyhook':case'close_attlb_warrantydetails':case'close_attlb_recommendations':case'personalisation_uniformScoresReady':case'tlp_promoCodeField_loaded':case'tlp_promoCodeField_viewed':case'tlp_promoCodeField_applyClicked':case'tlp_promoCodeField_codeSuccessfullyApplied':case'tlp_promoCodeField_applyFailed':return'ev | '+evtName;default:return'undefined event';}};window.utag_data.decodeXmlString=function(string){var map={};map['&amp'+';']='&';map['&quot'+';']='"';map['&lt'+';']='<';map['&gt'+';']='>';var mapString=[];for(var name in map){mapString.push(name);}
mapString=mapString.join('|');var regex=new RegExp('('+mapString+')','g');return string.replace(regex,function(str,item){return map[item];});};window.utag_data.encodeXmlObject=function(itm){var xmlSpecialToEscapedOneMap={'&':'&amp'+';','"':'&quot'+';','<':'&lt'+';','>':'&gt'+';',};function encodeXmlString(string){return string.replace(/([&"<>])/g,function(str,item){return xmlSpecialToEscapedOneMap[item];});}
function removeFakeArray(string){return string.replace(/\[(.*)\]/,'$1');}
if(Array.isArray(itm)){return itm.map(function(el){return window.utag_data.encodeXmlObject(el);});}else if(typeof itm==='string'){return removeFakeArray(encodeXmlString(this.decodeXmlString(itm)));}else{return itm;}};window.utag_data.removeCharacters=function(obj,regex){var _this=this;if(Array.isArray(obj)){return obj.map(function(el){return _this.removeCharacters(el,regex);});}else if(typeof obj==='string'){return _this.decodeXmlString(obj).replace(regex,'');}else{return obj;}};window.utag_data.getConsentStatus=function(){var buildConsentObject=function(performance,marketing){return{performance:performance,marketing:marketing,};};var consentManagerCookie=window.utag_data.c_r('CONSENTMGR');if(consentManagerCookie){if(/consent:true/.test(consentManagerCookie)){return buildConsentObject(true,true);}else{return buildConsentObject(/c1:1/.test(consentManagerCookie),/c2:1/.test(consentManagerCookie));}}else{return buildConsentObject(false,false);}};}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(typeof utag=="undefined"&&!utag_condload){var utag={id:"argos.main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],blr_always:1,ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
if(utag.cfg.nonblocking_tags===true){var promises=[];var addExecutionPromise=function(self,functionToExecute,args,tagId){promises.push(async function(){try{setTimeout(function(){functionToExecute.apply(self,args)},1)}catch(e){utag.DB&&utag.DB(e);}})}
for(a=0;a<g.length;a++){addExecutionPromise(this,utag.loader.AS,[g[a]],g[a].id)}
var settlePromisesInSequence=async function(promises){const results=[];for(var i=0;i<promises.length;i++){var result=await promises[i]();results.push(result);}
return results;}
settlePromisesInSequence(promises)
.then(function(results){utag.DB('PROMISE RESULTS '+results)
if(d==0){utag.loader.END();}})}else{for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'||!utag.ut.hasOwn(a,'src')){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_argos.main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},getCookieState:function(key){utag.loader.cookieState=utag.loader.cookieState||{};return utag.loader.cookieState[key];},setCookieState:function(key,value){utag.loader.cookieState=utag.loader.cookieState||{};utag.loader.cookieState[key]=value;return utag.loader.cookieState[key];},hasSplitUtagMainCookie:function(){if(utag.loader.getCookieState('hasSplit')===true&&utag.cfg.split_cookie===true)return true
if(utag.loader.getCookieState('hasSplit')===false&&utag.cfg.split_cookie===false)return false
var hasSplitCookies=document.cookie.includes("utag_main_")
utag.loader.setCookieState('hasSplit',hasSplitCookies)
return hasSplitCookies;},hasUtagMainCookie:function(){if(utag.loader.getCookieState('hasUnsplit')===true&&utag.cfg.split_cookie===false)return true
if(utag.loader.getCookieState('hasUnsplit')===false&&utag.cfg.split_cookie===true)return false
var hasUnsplitCookie=document.cookie.includes("utag_main=")
utag.loader.setCookieState('hasUnsplit',hasUnsplitCookie)
return hasUnsplitCookie;},convertingToSplitCookies:function(){return utag.cfg.split_cookie&&utag.loader.hasUtagMainCookie();},revertingSplitCookies:function(){return!utag.cfg.split_cookie&&utag.loader.hasSplitUtagMainCookie();},readIndividualCookies:function(){if(!document.cookie||document.cookie===""){return{};}
var cookies=document.cookie.split("; ");return cookies.reduce(function(result,cookie){var kv=cookie.split("=");if(kv[0].startsWith("utag_")){var cookieName=kv[0].split("_")[1];var cookieNameWithTag="utag_"+cookieName;if(!result[cookieNameWithTag]){result[cookieNameWithTag]={};}
var nameTrimmed=kv[0].replace(cookieNameWithTag+"_","");result[cookieNameWithTag][nameTrimmed]=String(kv[1]).replace(/%3B/g,';')}
return result;},{});},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;o["ut.event"]=a||"view";t["tealium_event"]=o["tealium_event"]||o["ut.event"]
t["tealium_visitor_id"]=o["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]="prod";}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,1);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;var ses_id=utag.loader.addExpSessionFlag(o["cp.utag_main_ses_id"]||a);var pn=utag.loader.addExpSessionFlag(o["cp.utag_main__pn"]);var ss=utag.loader.addExpSessionFlag(o["cp.utag_main__ss"]);var st=utag.loader.addExpSessionFlag(c);var se=utag.loader.addExpSessionFlag(o["cp.utag_main__se"]);utag.loader.SC("utag_main",{_sn:(o["cp.utag_main__sn"]||1),_se:se,_ss:ss,_st:st,ses_id:ses_id,_pn:pn});},containsExpSessionFlag:function(v){return String(v).replace(/%3B/g,';').includes(";exp-session");},addExpSessionFlag:function(v){return utag.loader.containsExpSessionFlag(v)?v:v+";exp-session";},containsExpFlag:function(v){return String(v).replace(/%3B/g,';').includes(";exp-");},addExpFlag:function(v,x){return utag.loader.containsExpFlag(v)?v:v+";exp-"+String(x);},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RDlocalStorage:function(o){if(utag.cfg.ignoreLocalStorage){return;}
Object.keys(window.localStorage).forEach(function(localStorageKey){o["ls."+localStorageKey]=window.localStorage[localStorageKey];});},RDsessionStorage:function(o){if(utag.cfg.ignoreSessionStorage){return;}
Object.keys(window.sessionStorage).forEach(function(sessionStorageKey){o["ss."+sessionStorageKey]=window.sessionStorage[sessionStorageKey];});},convertCustomMultiCookies:function(){var cookiesToConvert={}
if(utag.loader.convertingToSplitCookies()){utag.loader.mapUtagCookies(function(parentCookie){cookiesToConvert[parentCookie.key]=cookiesToConvert[parentCookie.key]||{}
parentCookie.value.split('$').forEach(function(subCookie){var key=subCookie.split(':')[0]
var value=subCookie.split(':')[1]
cookiesToConvert[parentCookie.key][key]=(String(value).indexOf('%3Bexp-')!==-1&&String(value).indexOf('%3Bexp-session')===-1)?String(value).replace(/%3B/g,';')+'u':String(value).replace(/%3B/g,';');})})}else if(utag.loader.revertingSplitCookies()){utag.loader.mapUtagCookies(function(splitCookie){var parentCookieName=splitCookie.key.match(/^utag_[^_]*/)[0];var subCookieName=splitCookie.key.split(parentCookieName+'_')[1];cookiesToConvert[parentCookieName]=cookiesToConvert[parentCookieName]||{};cookiesToConvert[parentCookieName][subCookieName]=(String(splitCookie.value).indexOf('%3Bexp-')!==-1&&String(splitCookie.value).indexOf('%3Bexp-session'))===-1?String(splitCookie.value).replace(/%3B/g,';')+'u':String(splitCookie.value).replace(/%3B/g,';');})}
if(utag.loader.convertingToSplitCookies()){utag.loader.getUtagCookies().forEach(function(cookie){utag.loader.deleteCookie(cookie.key);});}else if(utag.loader.revertingSplitCookies()){utag.loader.deleteIndividualCookies();}
Object.keys(cookiesToConvert).forEach(function(key){utag.loader.SC(key,cookiesToConvert[key]);});},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(utag.cfg.split_cookie){utag.loader.checkCookiesAgainstWhitelist();}
if(utag.loader.convertingToSplitCookies()||utag.loader.revertingSplitCookies()){utag.loader.convertCustomMultiCookies();}
if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";var setVId=window.utag_cfg_ovrd&&window.utag_cfg_ovrd.always_set_v_id||false;if(setVId){o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});}
utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);utag.loader.RDlocalStorage(o);utag.loader.RDsessionStorage(o);},whitelistDefined:function(){return utag.cfg.split_cookie_allowlist&&Array.isArray(utag.cfg.split_cookie_allowlist);},cookieIsAllowed:function(key){return!utag.loader.whitelistDefined()||utag.cfg.split_cookie_allowlist.includes(key);},checkCookiesAgainstWhitelist:function(){if(!utag.loader.whitelistDefined()){return;}
utag.loader.mapUtagCookies(function(cookie){if(!utag.loader.cookieIsAllowed(cookie.key.replace("utag_main_",""))){utag.loader.deleteCookie(cookie.key);}},true);},deleteIndividualCookies:function(){utag.loader.mapUtagCookies(function(cookie){utag.loader.deleteCookie(cookie.key);});},deleteCookie:function(key){document.cookie=key+"=; path=/;domain="+utag.cfg.domain+";max-age=0;";},getUtagCookies:function(onlyUtagMain=false){var cookies=document.cookie.split("; ");var result=[];for(var i=0;i<cookies.length;i++){var cookie=cookies[i];if(cookie.startsWith(onlyUtagMain?"utag_main_":"utag_")){var kv=cookie.split("=");result.push({key:kv[0],value:kv[1]});}}
return result;},mapUtagCookies:function(mapFunction,onlyUtagMain=false){var cookies=utag.loader.getUtagCookies(onlyUtagMain);for(var i=0;i<cookies.length;i++){var cookie=cookies[i];mapFunction(cookie);}},filterArray:function(array,predicate){var y=0;for(var x=0;x<array.length;x++){if(predicate(array[x])){array[y]=array[x];y++;}}
array.length=y;},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();var newMultiCookies;if(utag.loader.hasSplitUtagMainCookie()){newMultiCookies=utag.loader.readIndividualCookies();utag.loader.filterArray(b,function(cookie){return!cookie.startsWith("utag_")});}
for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(utag.ut.typeOf(j[f])=="array"){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
if(newMultiCookies){Object.keys(newMultiCookies).forEach(function(tag){o[tag]={};Object.keys(newMultiCookies[tag]).forEach(function(key){o[tag][key]=newMultiCookies[tag][key].split(';exp-')[0]})});}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();var data;exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c==="da"||(utag.cfg.split_cookie&&c==='d')){x="Thu, 31 Dec 2009 00:00:00 GMT";data=utag.loader.GV(b);}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{if(utag.cfg.split_cookie){d=utag.loader.readIndividualCookies()[a]||{};data=utag.loader.GV(b);}else{d=utag.loader.RC(a,0);}
for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(utag.ut.typeOf(d[e])=="array")?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
if(utag.loader.convertingToSplitCookies()===true){delete d[a];}
data=utag.loader.GV(d);h=new Array();for(g in data){if(utag.ut.typeOf(d[g])=="array"){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
if(utag.cfg.split_cookie&&c!=='da'&&c!=='d'){utag.loader.prepareAndWriteCookies(a,data,x);}else if(utag.cfg.split_cookie){utag.loader.mapUtagCookies(function(cookieInfo){var cookiesToDelete=Object.keys(data||{}).map(function(key){return a+'_'+key});if((c==='da'&&cookieInfo.key.startsWith(a))||(c==='d'&&cookiesToDelete.indexOf(cookieInfo.key)!==-1)){document.cookie=cookieInfo.key+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x+(utag.cfg.secure_cookie?";secure":"");}})}else{document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x+(utag.cfg.secure_cookie?";secure":"");}
return 1},prepareAndWriteCookies:function(tag,data,expiration){var defaultSessionExpirationCookies=["_pn","_ss","_st","_ses_id","_se"];var originalExpiration=expiration;if(Object.keys(data).length>0){for(var key in data){expiration=originalExpiration;if(!utag.loader.cookieIsAllowed(key)){continue;}
var value=String(data[key]);if(defaultSessionExpirationCookies.includes(key)){value=utag.loader.addExpSessionFlag(value);}
if(value.match(/exp-(\d+|session)$/)){var expValue=RegExp.$1;if(expValue==="session"&&!!utag.cfg.session_timeout){value=utag.loader.addExpSessionFlag(value);expiration=new Date();expiration.setTime(expiration.getTime()+parseInt(utag.cfg.session_timeout));expiration=expiration.toGMTString();}else{var expInt=parseInt(expValue);if(!!expInt){value=utag.loader.addExpFlag(value,expInt);expiration=new Date(expInt);expiration=expiration.toGMTString();}}}
utag.loader.writeCookie(tag+"_"+key,value,expiration);}
utag.loader.deleteCookie(tag);}},writeCookie:function(key,value,expiration){if(value.includes(";")){value=value.replace(/;/g,encodeURIComponent(";"));}
document.cookie=key+"="+value+";path=/;domain="+utag.cfg.domain+";expires="+expiration+(utag.cfg.secure_cookie?";secure":"");},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=utag.cfg.path;if(b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v+"ut"+"ag"+".v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
a.data={...a.data}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(utag.cfg.nonblocking_tags===true){var promises=[];var addExecutionPromise=function(self,functionToExecute,args,tagId){promises.push(async function(){try{setTimeout(function(){functionToExecute.apply(self,args)},1)}catch(e){utag.DB&&utag.DB(e);}})}}
if(c&&c.uids){if(!utag.cfg.suppress_before_load_rules_with_uids){this.RE(a,b,"blr");}
this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(utag.loader.cfg[d]&&!utag.loader.OU(utag.loader.cfg[d].tid)){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){if(utag.cfg.nonblocking_tags===true){addExecutionPromise(this,sendTag,[a,b,d],d)}else{sendTag(a,b,d);}}}
if(utag.cfg.nonblocking_tags===true){var settlePromisesInSequence=async function(promises){utag.DB('PROMISES ACTIVE - '+JSON.stringify(promises),null,2);const results=[];for(var i=0;i<promises.length;i++){var result=await promises[i]();results.push(result);}
return results;}
var thisRe=this.RE.bind(this);settlePromisesInSequence(promises)
.then(function(results){utag.DB('PROMISE RESULTS '+results)
thisRe(a,b,"end");})}else{this.RE(a,b,"end");}},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(utag.ut.typeOf(a[c])=="array"){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||utag.ut.typeOf(c)=="array"){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['argos.main']=utag;utag.cfg={template:"ut4.53.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),secure_cookie:("##UTSECURECOOKIE##".replace("##"+"UTSECURECOOKIE##","")==="true")?true:false,path:"//tags.tiqcdn.com/utag/argos/main/prod/",utid:"argos/main/202601291031",ignoreSessionStorage:false,ignoreLocalStorage:false,split_cookie:true};utag.cfg.v=utag.cfg.template+"202601291031";utag.cond={100:0,103:0,104:0,10:0,113:0,119:0,11:0,120:0,125:0,127:0,129:0,13:0,141:0,142:0,147:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,157:0,197:0,19:0,201:0,202:0,203:0,20:0,216:0,218:0,2:0,37:0,39:0,40:0,4:0,54:0,61:0,62:0,63:0,70:0,72:0,7:0,81:0,82:0,83:0,85:0,89:0,95:0,97:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.digitalData.product[0].attributes.numberOfReviews']=digitalData.product[0].attributes.numberOfReviews}catch(e){utag.DB(e)};try{ud['js_page.s.eVar11']=s.eVar11}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.search.term']=digitalData.page.search.term}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].productInfo.productName']=digitalData.product[0].productInfo.productName}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].attributes.existingProductOptions']=digitalData.product[0].attributes.existingProductOptions}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].attributes.selectedProductOptions']=digitalData.product[0].attributes.selectedProductOptions}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].attributes.collectionStoreType']=digitalData.product[0].attributes.collectionStoreType}catch(e){utag.DB(e)};try{ud['js_page.digitalData.cart.id']=digitalData.cart.id}catch(e){utag.DB(e)};try{ud['js_page.s.prop69']=s.prop69}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].productInfo.productID']=digitalData.product[0].productInfo.productID}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.pageType']=digitalData.page.category.pageType}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.subCategory1']=digitalData.page.category.subCategory1}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.subCategory2']=digitalData.page.category.subCategory2}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.subCategory3']=digitalData.page.category.subCategory3}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.subCategory4']=digitalData.page.category.subCategory4}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].attributes.collectionStockCode']=digitalData.product[0].attributes.collectionStockCode}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.pageInfo.onsiteSearchTerms']=digitalData.page.pageInfo.onsiteSearchTerms}catch(e){utag.DB(e)};try{ud['js_page.digitalData.cart.item']=digitalData.cart.item}catch(e){utag.DB(e)};try{ud['js_page.componentTypeCount']=componentTypeCount}catch(e){utag.DB(e)};try{ud['js_page.window.digitalData.page.attributes.fulfilmentType']=window.digitalData.page.attributes.fulfilmentType}catch(e){utag.DB(e)};try{ud['js_page.s.prop71']=s.prop71}catch(e){utag.DB(e)};try{ud['js_page.window.digitalData.page.pageInfo.pageName']=window.digitalData.page.pageInfo.pageName}catch(e){utag.DB(e)};try{ud['js_page.window.s.pageName']=window.s.pageName}catch(e){utag.DB(e)};try{ud['js_page.digitalData.cart.item[0].stock.leadtimeMessage']=digitalData.cart.item[0].stock.leadtimeMessage}catch(e){utag.DB(e)};try{ud['js_page.s.prop6']=s.prop6}catch(e){utag.DB(e)};try{ud['js_page.digitalData.cart.selectedFulfilmentType']=digitalData.cart.selectedFulfilmentType}catch(e){utag.DB(e)};try{ud['js_page.window.innerHeight']=window.innerHeight}catch(e){utag.DB(e)};try{ud['js_page.window.innerWidth']=window.innerWidth}catch(e){utag.DB(e)};try{ud['js_page.digitalData.user[0].profile[0].attributes.loginStatus']=digitalData.user[0].profile[0].attributes.loginStatus}catch(e){utag.DB(e)};try{ud['js_page.s.eVar15']=s.eVar15}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.attributes.numberOfResults']=digitalData.page.attributes.numberOfResults}catch(e){utag.DB(e)};try{ud['js_page.s.eVar13']=s.eVar13}catch(e){utag.DB(e)};try{ud['js_page.OTExternalConsent']=OTExternalConsent}catch(e){utag.DB(e)};try{ud['js_page.digitalData.product[0].attributes.unitPriceWithTax']=digitalData.product[0].attributes.unitPriceWithTax}catch(e){utag.DB(e)};try{ud['js_page.digitalData.event[0].attributes.itemQuantityChanged']=digitalData.event[0].attributes.itemQuantityChanged}catch(e){utag.DB(e)};try{ud['js_page.productOriginalPrice']=productOriginalPrice}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'10':try{c[10]|=(d['tealium_event'].toString().toLowerCase().indexOf('PLPResults'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'100':try{c[100]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/monthly-care'.toLowerCase())<0&&d['dom.pathname'].toString().toLowerCase()!='/FPWD'.toLowerCase())}catch(e){utag.DB(e)};break;case'103':try{c[103]|=(d['dom.domain'].toString().toLowerCase()=='www.argos.co.uk'.toLowerCase())}catch(e){utag.DB(e)};break;case'104':try{c[104]|=(!/LbPage$/.test(d['tealium_event']))}catch(e){utag.DB(e)};break;case'11':try{c[11]|=(d['tealium_event']=='pl | searchResults')}catch(e){utag.DB(e)};break;case'113':try{c[113]|=(d['mobileApp'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'119':try{c[119]|=(d['dom.url'].toString().indexOf('confirmation')>-1&&d['js_page.window.digitalData.page.pageInfo.pageName'].toString().indexOf('prepay:confirmation')>-1)}catch(e){utag.DB(e)};break;case'120':try{c[120]|=(d['dom.pathname'].toString().toLowerCase()!='/webapp/wcs/stores/servlet/ArgosSaveTermsAndConditionsControllerCmd'.toLowerCase()&&d['dom.pathname'].toString().toLowerCase().indexOf('/payment'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'125':try{c[125]|=(/^\/events\//i.test(d['dom.pathname'])&&d['tealium_event']=='pl | magnolia')||(/^\/features\//i.test(d['dom.pathname'])&&d['tealium_event']=='pl | magnolia')}catch(e){utag.DB(e)};break;case'127':try{c[127]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/monthly-care'.toLowerCase())<0&&d['dom.pathname'].toString().toLowerCase()!='/FPWD'.toLowerCase())}catch(e){utag.DB(e)};break;case'129':try{c[129]|=(d['orderConfirmationExclude'].toString().toLowerCase()!='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'13':try{c[13]|=(d['js_page.digitalData.page.category.pageType']=='home')}catch(e){utag.DB(e)};break;case'141':try{c[141]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/webapp/wcs/stores/servlet/ArgosSaveTermsAndConditionsControllerCmd'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'142':try{c[142]|=(d['mobileApp'].toString().toLowerCase()!='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'147':try{c[147]|=(typeof d['cp.survey_noload']=='undefined')}catch(e){utag.DB(e)};break;case'149':try{c[149]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/credit-application/'.toLowerCase())>-1)||(d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-offers'.toLowerCase())>-1)||(d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-plan-info'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'150':try{c[150]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/credit-application/'.toLowerCase())<0&&d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-offers'.toLowerCase())<0&&d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-plan-info'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'151':try{c[151]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/credit-application/complete'.toLowerCase())>-1&&d['event'].toString().toLowerCase()=='creditApplication_confirmation'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/credit-application/offer-success'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_offerSuccess'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/credit-application/declined'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_declinedUnavailableToday'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/credit-application/offer-refer'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_offerRefer'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/credit-application/declined-refer'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_declineAvilableToday'.toLowerCase())}catch(e){utag.DB(e)};break;case'152':try{c[152]|=(d['dom.pathname'].toString().toLowerCase()=='/credit-application/declined'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_declinedUnavailableToday'.toLowerCase())}catch(e){utag.DB(e)};break;case'153':try{c[153]|=(d['dom.pathname'].toString().toLowerCase()=='/credit-application/offer-success'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_offerSuccess'.toLowerCase())}catch(e){utag.DB(e)};break;case'154':try{c[154]|=(d['dom.pathname'].toString().toLowerCase()=='/credit-application/offer-refer'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_offerRefer'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase()=='/credit-application/declined-refer'.toLowerCase()&&d['event'].toString().toLowerCase()=='creditApplication_declineAvilableToday'.toLowerCase())}catch(e){utag.DB(e)};break;case'155':try{c[155]|=(d['dom.pathname'].toString().toLowerCase().indexOf('DoLookupAddress'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'157':try{c[157]|=(d['dom.domain'].toString().toLowerCase()=='help.argos.co.uk'.toLowerCase())||(d['dom.domain'].toString().toLowerCase()=='help-uat.test-arg-uk.com'.toLowerCase())}catch(e){utag.DB(e)};break;case'19':try{c[19]|=(d['tealium_event'].toString().toLowerCase().indexOf('pl | tlp_initialLoad'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'197':try{c[197]|=(d['mobileApp'].toString().toLowerCase()=='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'2':try{c[2]|=(typeof d['tealium_event']!='undefined'&&d['dom.pathname'].toString().toLowerCase().indexOf('confirmation'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'20':try{c[20]|=(d['tealium_event'].toString().toLowerCase().indexOf('pl | hp_initialLoad'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'201':try{c[201]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/credit-application/'.toLowerCase())>-1)||(d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-offers'.toLowerCase())>-1)||(d['dom.pathname'].toString().toLowerCase().indexOf('/help/argos-card-credit-plan-info'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'202':try{c[202]|=(d['dom.pathname'].toString().toLowerCase().indexOf('/webapp/wcs/stores/servlet/ArgosSaveTermsAndConditionsControllerCmd'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'203':try{c[203]|=(d['mobileApp'].toString().toLowerCase()!='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'216':try{c[216]|=(typeof d['js_page.digitalData.page.category.pageType']!='undefined'&&d['js_page.digitalData.page.category.pageType'].toString().toLowerCase()=='slp_canned'.toLowerCase())}catch(e){utag.DB(e)};break;case'218':try{c[218]|=(d['js_page.window.digitalData.page.pageInfo.pageName'].toString().toLowerCase().indexOf('ar:error:genericerror'.toLowerCase())<0&&d['js_page.window.digitalData.page.pageInfo.pageName'].toString().toLowerCase().indexOf('ar:trolley:confirmation:error'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'37':try{c[37]|=(/\/Argos(Promo\d|Clearance)/.test(d['dom.pathname']))||(/\/events\/christmas/.test(d['dom.pathname']))}catch(e){utag.DB(e)};break;case'39':try{c[39]|=(d['tealium_event'].toString().toLowerCase().indexOf('CLPResults'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(/^pl \| pdp/i.test(d['tealium_event']))}catch(e){utag.DB(e)};break;case'40':try{c[40]|=(d['tealium_event'].toString().toLowerCase().indexOf('Add to Trolley'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'54':try{c[54]|=(/DeliveryConfirmation(Mobile)?View/.test(d['dom.pathname'])&&d['tealium_event'].toString().toLowerCase()=='Page View'.toLowerCase())||(d['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase())}catch(e){utag.DB(e)};break;case'61':try{c[61]|=(/^\/stores/i.test(d['dom.pathname']))}catch(e){utag.DB(e)};break;case'62':try{c[62]|=(/DeliveryConfirmationView/.test(d['dom.pathname'])&&d['tealium_event'].toString().toLowerCase()=='Page View'.toLowerCase())||(d['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()&&d['cp.analytics_channel'].toString().toLowerCase().indexOf('ecomm'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'63':try{c[63]|=(d['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()&&d['cp.analytics_channel'].toString().toLowerCase().indexOf('mcomm'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'7':try{c[7]|=(d['dom.pathname'].toString().toLowerCase().indexOf('webapp/wcs/stores/servlet/ArgosSaveTermsAndConditionsControllerCmd'.toLowerCase())<0&&d['dom.pathname'].toString().toLowerCase().indexOf('webapp/wcs/stores/servlet/DataCashHCCIframView'.toLowerCase())<0&&/^(?!.*\/checkout\/.*\/payment).*/.test(d['dom.pathname'])&&d['tealium_event'].toString().toLowerCase()!='view'.toLowerCase())}catch(e){utag.DB(e)};break;case'70':try{c[70]|=(d['tealium_event']!='view')}catch(e){utag.DB(e)};break;case'72':try{c[72]|=(d['tealium_event']=='Page View')||(/^pl \|/.test(d['tealium_event']))}catch(e){utag.DB(e)};break;case'81':try{c[81]|=(d['tealium_event'].toString().toLowerCase().indexOf('CLPResults'.toLowerCase())>-1&&typeof d['js_page.digitalData.page.category.subCategory1']!='undefined'&&d['js_page.digitalData.page.category.subCategory1']!=''&&typeof d['js_page.digitalData.page.category.subCategory2']!='undefined'&&d['js_page.digitalData.page.category.subCategory2']=='')}catch(e){utag.DB(e)};break;case'82':try{c[82]|=(d['tealium_event'].toString().toLowerCase().indexOf('CLPResults'.toLowerCase())>-1&&typeof d['js_page.digitalData.page.category.subCategory1']!='undefined'&&d['js_page.digitalData.page.category.subCategory1']!=''&&typeof d['js_page.digitalData.page.category.subCategory2']!='undefined'&&d['js_page.digitalData.page.category.subCategory2']!=''&&typeof d['js_page.digitalData.page.category.subCategory3']!='undefined'&&d['js_page.digitalData.page.category.subCategory3']=='')}catch(e){utag.DB(e)};break;case'83':try{c[83]|=(d['js_page.digitalData.page.category.pageType'].toString().toLowerCase()=='events'.toLowerCase())}catch(e){utag.DB(e)};break;case'85':try{c[85]|=(d['dom.url'].toString().toLowerCase().indexOf('/login'.toLowerCase())>-1)||(d['dom.url'].toString().toLowerCase().indexOf('/webapp/wcs/stores/servlet/DoLookupAddress'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'89':try{c[89]|=(d['js_page.window.s.pageName'].toString().toLowerCase()=='ar:trolley:buy:confirmationpage:'.toLowerCase())}catch(e){utag.DB(e)};break;case'95':try{c[95]|=(d['dom.pathname'].toString().toLowerCase().indexOf('DeliveryConfirmation'.toLowerCase())>-1&&d['js_page.window.s.pageName'].toString().toLowerCase()=='ar:trolley:prepay:confirmation:'.toLowerCase())||(d['dom.pathname'].toString().toLowerCase().indexOf('DeliveryConfirmation'.toLowerCase())>-1&&d['js_page.window.s.pageName'].toString().toLowerCase()=='ar:trolley:buy:confirmationpage:'.toLowerCase())||(d['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()&&d['js_page.window.digitalData.page.pageInfo.pageName'].toString().toLowerCase()=='ar:trolley:prepay:confirmation:'.toLowerCase())||(d['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()&&d['js_page.window.digitalData.page.pageInfo.pageName'].toString().toLowerCase()=='ar:trolley:buy:confirmationpage:'.toLowerCase())}catch(e){utag.DB(e)};break;case'97':try{c[97]|=(/pl \| magnolia$/i.test(d['tealium_event'])&&d['siteSection'].toString().toLowerCase()=='ar:features:'.toLowerCase()&&/^\/features\//.test(d['dom.pathname']))}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(window.digitalData){b.dd=window.digitalData;if(b.dd.page){b.ddPage=b.dd.page;if(b.ddPage.lightBox){b.ddLightbox=b.ddPage.lightBox;}else if(b.ddPage.lightbox){b.ddLightbox=b.ddPage.lightbox;}
if(b.ddPage.attributes){b.ddPageAttributes=b.ddPage.attributes;}}
if(b.dd.user&&b.dd.user[0].profile){b.ddUserProfile=window.digitalData.user[0].profile[0][0]?window.digitalData.user[0].profile[0][0]:window.digitalData.user[0].profile[0];}}
let eventDetails={};if(typeof b.evtDetails!=='undefined'&&b.evtDetails!=='none'){eventDetails=b.evtDetails;}else if(typeof b.evtData!=='undefined'){eventDetails=b.evtData;}
b.evtInfo=eventDetails.eventInfo?eventDetails.eventInfo:{};b.evtAttributes=eventDetails.attributes?eventDetails.attributes:{};}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(/creditBannerLbPage$/.test(b.event)){b.ddLightbox.type='creditQuickview'}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var ga_analytics=window.dataUtils.consentedToPerformanceCookies()?'granted':'denied';var ga_ads=window.dataUtils.consentedToMarketingCookies()?'granted':'denied';b.ga_analytics=ga_analytics;b.ga_ads=ga_ads;b.ga_aduser_data=ga_ads;b.ga_ad_personalization=ga_ads;gtag('consent','update',{'analytics_storage':ga_analytics,'ad_storage':ga_ads,'ad_user_data':ga_ads,'ad_personalization':ga_ads});}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b['AdobeOrgID']='095C467352782EB30A490D45';b['TrackingServer']='metrics.argos.co.uk';b['TrackingServerSecure']='smetrics.argos.co.uk';b['MarketingCloudServer']='metrics.argos.co.uk';b['MarketingCloudServerSecure']='smetrics.argos.co.uk';b['udoGlue']=':';b['currencyCode']='GBP';b['constantProduct']='product'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){var siteSection
var ddPage=b.ddPage
if(ddPage){siteSection=ddPage.pageInfo.siteSection
if(/LbPage$/.test(b.event)||b.event==='attWarrantiesOffered'){var typeCorrected=b.ddLightbox.type.toLowerCase().split(':')
typeCorrected=typeCorrected[typeCorrected.length-1]
siteSection+=typeCorrected+'Lightbox:'}
if(/storeSelector/gi.test(ddPage.pageInfo.pageName)){siteSection='ar:storeselector:'}
if(/tlp_storeSelector/.test(b.event)){siteSection='ar:storeselector:'}}else if(window.s){siteSection=window.s.channel}
b.siteSection=siteSection}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_environment'].toString().toLowerCase()=='prod'.toLowerCase()||(b['tealium_environment'].toString().toLowerCase()!='prod'.toLowerCase()&&typeof b['qp.TealiumTest']!='undefined'&&b['qp.TealiumTest']!=''&&b['qp.TealiumTest'].toString().toLowerCase()=='true'.toLowerCase())||(b['tealium_environment'].toString().toLowerCase()!='prod'.toLowerCase()&&typeof b['cp.TealiumTest']!='undefined'&&b['cp.TealiumTest']!=''&&b['cp.TealiumTest'].toString().toLowerCase()=='true'.toLowerCase())){b['foreseeLoadCheck']='1'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(window.dataUtils.getConsentCookie()){b.consentPreference=['performance:'+(window.dataUtils.consentedToPerformanceCookies()?'1':'0'),'functional:'+(window.dataUtils.consentedToFunctionalCookies()?'1':'0'),'marketing:'+(window.dataUtils.consentedToMarketingCookies()?'1':'0')].join('|');}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.mobileApp=false
var appVid=b["qp.appvi"];if(!appVid){appVid=b["cp.NativeAppVID"]}
if(appVid){b.mobileApp=true}else if(b["cp.app_vi"]){b.mobileApp=true}
if(b['qp.appWebView']==='true'||b['cp.appWebView']==='true'){b.mobileApp=true}
}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var value=b['cp.marketingData']
if(typeof value==='string'&value.length>0){var origin=b['dom.pathname']
b.marketingDataCookieOrigin=origin}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){if((b['mobileApp'].toString().toLowerCase()=='true'.toLowerCase()&&b['dom.url'].toString().toLowerCase().indexOf('confirmation'.toLowerCase())>-1&&b['js_page.window.digitalData.page.pageInfo.pageName'].toString().toLowerCase().indexOf('prepay:confirmation'.toLowerCase())>-1)){d=b['js_page.window.digitalData.page.pageInfo.pageName'];if(typeof d=='undefined')return;c=[{'ar:trolley:prepay:confirmation:error:':'true'},{'ar:trolley:prepay:confirmation:fraud':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['orderConfirmationExclude']=c[e][f];m=true};};if(m)break};if(!m)b['orderConfirmationExclude']='';}},function(a,b,c,d,e,f,g){if((b['mobileApp'].toString().toLowerCase()=='true'.toLowerCase()&&b['dom.pathname'].toString().toLowerCase().indexOf('DeliveryConfirmation'.toLowerCase())>-1&&b['js_page.window.s.pageName'].toString().toLowerCase()=='ar:trolley:buy:confirmationpage:'.toLowerCase())){d=b['js_page.window.s.pageName'];if(typeof d=='undefined')return;c=[{'ar:trolley:buy:confirmationpage:fraud':'true'},{'ar:trolley:buy:noresponseconfirmation:':'true'},{'ar:trolley:buy:noresponseconfirmationpage:':'true'},{'ar:error:genericerror:':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['orderConfirmationExclude']=c[e][f];m=true};};if(m)break};if(!m)b['orderConfirmationExclude']='';}},function(a,b,c,d,e,f,g){if((b['mobileApp'].toString().toLowerCase()=='true'.toLowerCase()&&b['event'].toString().toLowerCase().indexOf('homeDeliveryConfirmation_initialLoad'.toLowerCase())>-1)){d=b['js_page.window.digitalData.page.pageInfo.pageName'];if(typeof d=='undefined')return;c=[{'ar:trolley:buy:confirmationpage:fraud':'true'},{'ar:trolley:buy:noresponseconfirmation:':'true'},{'ar:trolley:buy:noresponseconfirmationpage:':'true'},{'ar:error:genericerror:':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['orderConfirmationExclude']=c[e][f];m=true};};if(m)break};if(!m)b['orderConfirmationExclude']='';}},function(a,b){try{if(1){var fcdata=JSON.parse(window.localStorage.getItem('fcData'))
if(fcdata!==null){b.umid=fcdata.umid}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['tealium_event'].toString().toLowerCase()=='Page View'.toLowerCase()&&b['dom.url'].toString().toLowerCase().indexOf('wcs'.toLowerCase())>-1&&b['dom.url'].toString().toLowerCase().indexOf('Confirmation'.toLowerCase())>-1)){b['wcsPurchase']='true'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){b.consentedToPerformanceCookies=window.dataUtils.consentedToPerformanceCookies()?'true':'false';}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.pathname'].toString().toLowerCase().indexOf('confirmation'.toLowerCase())>-1){if(window.ttq){ttq=undefined}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.pathname'].toString().toLowerCase().indexOf('confirmation'.toLowerCase())>-1){if(window.fbq){fbq=undefined}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var personalisedContent=null;var qualifiedFor=null;if(window?.digitalData?.experiments&&window.digitalData.experiments['0']){personalisedContent=window.digitalData.experiments['0'].personalisationSegment.displayed;qualifiedFor=window.digitalData.experiments['0'].personalisationSegment.qualifiedFor;if(personalisedContent){b.dxc_personalised_content_value=personalisedContent;}
if(qualifiedFor){b.dxc_content_qualified_for=qualifiedFor;}}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['qp.gclid']!='undefined'&&b['qp.gclid']!=''&&b['consentPreference'].toString().toLowerCase().indexOf('marketing:1'.toLowerCase())>-1)||(typeof b['qp.dclid']!='undefined'&&b['qp.dclid']!=''&&b['consentPreference'].toString().toLowerCase().indexOf('marketing:1'.toLowerCase())>-1)){var expiryDays=30;if(typeof b['qp.gclid']!=='undefined'){window.utag.data.c_w('gclid',b['qp.gclid']||'',expiryDays,'/');}
if(typeof b['qp.dclid']!=='undefined'){window.utag.data.c_w('dclid',b['qp.dclid']||'',expiryDays,'/');}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){let pageType='';let ddPageType='';let ddPageInfo=window.digitalData?.page?.pageInfo||{};let ddLightBox=window.digitalData?.lightBox||{};let ddCategory=window.digitalData?.page?.category||{};if(ddPageInfo.pageName&&/storeSelector/i.test(ddPageInfo.pageName)){pageType='SS';}else if(ddLightBox.type&&/LbPage/i.test(b.event)){pageType=ddLightBox.type;}else if(ddCategory.pageType){pageType=ddCategory.pageType.replace(/^(plp|slp).*/i,'$1');ddPageType=ddCategory.pageType;}else if(ddPageInfo.pageType){pageType=ddPageInfo.pageType;}else if(ddPageInfo.siteSection){pageType=ddPageInfo.siteSection.split(':')[1];}else if(window.s?.channel){pageType=window.s.channel.split(':')[1];}
b.pageType=pageType.toLowerCase();var pageTypeDetails=[];if(b.pageType==='plp'){pageTypeDetails.push('plp');if(ddCategory.isPlpPlusDescendant&&ddCategory.pageType==='PLP'){pageTypeDetails.push('plusDescendant');}else if(ddPageType==='PLPPLUS'){pageTypeDetails.push('plus');}else{pageTypeDetails.push('standard');}
pageTypeDetails.push(ddCategory.plpLayout);}else if(b.pageType==='slp'){pageTypeDetails.push('slp');if(ddPageType==='slp_canned'){pageTypeDetails.push('canned');}else if(ddPageType==='slp_notincatalogue'){pageTypeDetails.push('notincatalogue');}else if(b.pageName==='ar:search:noresults:'){pageTypeDetails.push('noresults');}else{pageTypeDetails.push('natural');}}
if(pageTypeDetails.length){b.pageTypeDetails=pageTypeDetails.join(':');}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){let pageName;let ddPage=window.digitalData?.page||{};if(ddPage&&ddPage.pageInfo&&ddPage.pageInfo.pageName){pageName=ddPage.pageInfo.pageName;}else if(window.s&&window.s.pageName){pageName=window.s.pageName;}else{pageName=window.location.pathname;}
const eventPattern=/LbPage|attWarrantiesOffered|creditOptionsLb_|addToTrolley_error|localisation_localisationFailure|fulfilmentPassDrawer|shopMoreItemsSidebar_lightboxLoaded/i;if(eventPattern.test(b.event)){let typeCorrected=b.ddLightbox.type.toLowerCase().split(':');typeCorrected=typeCorrected[typeCorrected.length-1].toLowerCase()+'Lightbox:';if(/^ar:pdp/.test(pageName)){pageName=pageName.split(':').slice(0,3);pageName.push(typeCorrected);pageName=pageName.join(':');}else{pageName+=typeCorrected;}}
if(/tlp_storeSelector/.test(b.event)){pageName='ar:trolley:storeSelector:storesList:';}
if(/essentialExtrasATTLbPage/.test(b.event)){pageName='ar:pdp:essential-extras:attLightbox:';}
b.pageName=pageName;}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.sitePlatform='react'
try{b.sitePlatform=window.digitalData.page.attributes.platform.split('_')[0]
b.sitePlatform_part2=window.digitalData.page.attributes.platform.split('_')[1]}catch(e){if(document.URL.indexOf('/webapp/wcs/')>-1||document.URL.indexOf('/static/ArgosPromo3/')>-1||document.URL.indexOf('/static/')>-1||(window.s&&window.s.channel==='ar:holding:')){b.sitePlatform='wcs'}}
if(window.utag_data.sitePlatform==='react'){b.sitePlatform='react'}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['pageType'].toString().toLowerCase().indexOf('slp'.toLowerCase())>-1){var digitalData=window.digitalData
if(digitalData&&digitalData.page&&digitalData.page.search&&digitalData.page.search.algorithm){var algoType=window.digitalData.page.search.algorithm.filter(function(item){return(item.name==='algoType')})
if(algoType.length>0){b.algorithmType=algoType[0].value}
if(digitalData.page.search.categoryMatchHierarchy){var categoryMatchHierarchy=digitalData.page.search.categoryMatchHierarchy
if(typeof(categoryMatchHierarchy)!=='undefined'){b.categoryMatchHierarchy=categoryMatchHierarchy}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.alternativeStoreIds=[]
b.alternativeStoreId=''
if(/storeSelectorStoresListPage$/.test(b.event)){b.alternativeStoreIds=window.digitalData.page.attributes.store.map(function(s){return s.id})}else if(/storeSelectorTellMeWhere/.test(b.event)){b.alternativeStoreIds.push(b.evtData.attributes.tellMeWhere.split(':')[1])}else if(b.pageType==='pdp'){b.alternativeStoreIds.push(window.digitalData.product[0].attributes.alternativesStore)}else if(window.digitalData&&window.digitalData.cart){if(b.sitePlatform==='react'){b.alternativeStoreIds.push(window.digitalData.cart.recommendedStore)}else{b.alternativeStoreIds.push(window.digitalData.page.attributes.alternativeStoreID)}}
if(b.alternativeStoreIds[0]){b.alternativeStoreId=b.alternativeStoreIds.map(function(s){return window.utag_data.createUDOString([b.pageType,s])}).join('~')}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.pageType==='pdp'&&window.digitalData.product[0].attributes.deliveryStockLevelMessage){var stockMessage=window.digitalData.product[0].attributes.deliveryStockLevelMessage
if(stockMessage&&/.*<strong>(.*)<\/strong>.*/.test(stockMessage)){b.assignedPostcode=stockMessage.replace(/.*<strong>(.*)<\/strong>.*/,'$1')}
if(stockMessage&&/.*<strong>(.*)<\/strong>.*/.test(stockMessage)===false){var postcode_regex=(/[A-Z]{1,2}[0-9][0-9A-Z]?\s?[0-9][A-Z]{2}/)
var msgPostcode=stockMessage.toUpperCase().match(postcode_regex)
if(msgPostcode&&msgPostcode[0].length>4){b.assignedPostcode=msgPostcode[0].toUpperCase()}}}else if(b.pageType==='trolley'&&window.digitalData&&window.digitalData.user){if(b.sitePlatform==='wcs'){b.assignedPostcode=window.digitalData.user[0].profile[0].attributes.preferedPostalCode}else if(b.sitePlatform==='react'){b.assignedPostcode=window.digitalData.user[0].profile[0].localisation.postCode}}else if(window.s){if(window.s.prop36){b.assignedPostcode=window.s.prop36}else if(window.s.zip){b.assignedPostcode=window.s.zip}}
}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='addToTrolley'||b.event==='addToTrolley_error'){b.attLocation=b.evtData.attributes.clickOrigin}else if(b.event==='cnet_addToTrolley'){b.attLocation='PDP:cnetATT'}else if(b.event==='quickviewLbPage'){b.quickviewLocation=b.pageType+':'+window.digitalData.page.lightBox.clickOrigin}else if(b.event==='tlp_alternativeProductRecommendationsLightBoxReplaceItem'){b.attLocation=b.evtData.attributes.clickOrigin}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.clickOrigin&&/^PDP:.*bundleATT/i.test(b.evtData.attributes.clickOrigin)){let clickOrigin=b.evtData.attributes.clickOrigin;let bundleItems=b.evtData.attributes.product;let bundleId=b.evtData.attributes.bundleId;let bundleType=[];let productType;let productTypeArray=[];let bundleIdArray=[];if(typeof b.evtData.attributes.bundlePlacement!=='undefined'){b.attLocation=clickOrigin+':'+b.evtData.attributes.bundlePlacement;}
if(typeof b.evtData.attributes.bundleOffer!=='undefined'){b.bundleOffer=b.evtData.attributes.bundleOffer;}
bundleId=bundleId.replace(/[+]/g,'_');if(bundleItems.length>0){bundleItems.forEach(function(item,index){productType=index===0?'main':'accessory';if(clickOrigin=='PDP:essentialExtrasBundleATT'){bundleType.push('essential_extras');}else if(clickOrigin=='PDP:bundleATT'||clickOrigin=='PDP:fbtBundleATT'){bundleType.push('fbt');}
bundleIdArray.push(bundleId);productTypeArray.push(productType);});if(bundleItems.length===bundleIdArray.length&&bundleItems.length===bundleType.length&&bundleItems.length===productTypeArray.length){b.bundleIdATT_array=bundleIdArray;b.bundleType=bundleType;b.bundleProductType=productTypeArray;}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.clickOrigin&&/^PDP:.*bundleATT/i.test(b.evtData.attributes.clickOrigin)){let bundleItemsAdditional=b.evtData.attributes.bundleItems.additional
if(bundleItemsAdditional.length){b.bundleATTAdditionalRevenue=0
for(let x=0;x<bundleItemsAdditional.length;x++){b.bundleATTAdditionalRevenue+=parseFloat(bundleItemsAdditional[x].price)}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.evtData&&b.evtData.eventInfo){var eventInfo=b.evtData.eventInfo
var bundles=window.digitalData.page.attributes.bundles
var specialOfferTypes=window.digitalData.page.attributes.specialOffersTypes
var specialOfferIDs=window.digitalData.page.attributes.specialOffersIDs
var isShowMore=eventInfo.eventName==='pdp_showMore'&&eventInfo.eventAction==='Special offers'
var isSpecialOfferAnchor=eventInfo.eventName==='pdp_reviewsSpecialOfferAnchor'
if(b.evtData.attributes&&b.evtData.attributes.clickOrigin){var eventAttributes=b.evtData.attributes
var isSpecialOfferBundleATT=eventInfo.eventName==='addToTrolley'&&eventInfo.eventAction==='Add to Trolley'&&eventAttributes.clickOrigin==='SO:ATT'}
if((isShowMore||isSpecialOfferAnchor)&&bundles){b.bundleIdSpecialOffers_array=bundles.map(function(cur){return cur.bundleId})}
if(isShowMore){if(specialOfferTypes&&typeof(specialOfferTypes)==='object'&&specialOfferTypes.length>0){b.specialOfferTypes=specialOfferTypes.join('|')}
if(specialOfferIDs&&typeof(specialOfferIDs)==='object'&&specialOfferIDs.length>0){b.specialOfferIds=specialOfferIDs.join('|')}}
if(isSpecialOfferBundleATT){var specialOfferType=window.digitalData.page.attributes.specialOfferType
var specialOfferId=window.digitalData.page.attributes.specialOfferId
if(specialOfferType){b.specialOfferTypes=specialOfferType}
if(specialOfferId){b.specialOfferIds=specialOfferId}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='cnetContent'){b.cnetDetails='display';}else if(b.evtData&&b.evtData.eventInfo&&b.evtData.eventInfo.eventName==='pdp_showMore'&&b.evtData.eventInfo.eventAction==='Why we love it'){b.cnetDetails='expand';}else if(b.event==='cnet_addToTrolley'){b.cnetDetails='ATT button';}
else if(b.evtDetails.eventInfo.eventAction=='CNET More Details loaded'){b.productId=[b['js_page.digitalData.product[0].productInfo.productID'].toString()];b.cnetDetails='loaded';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var collectionStoreType
if(b.storeId_brick){if(b.pageType==='pdp'){collectionStoreType=window.digitalData.product[0].attributes.collectionStoreType}else if(b.pageName==='ar:trolley:trolleylist:'){if(b.sitePlatform==='wcs'){if(/mobile/i.test(b['dom.pathname'])){collectionStoreType=window.s.prop50}else{collectionStoreType=window.digitalData.page.attributes.storeType}}}
if(collectionStoreType){b.collectionStoreType=collectionStoreType}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var uniqueSKUCount
if(b.pageType==='trolley'&&window.digitalData&&window.digitalData.cart){uniqueSKUCount=window.digitalData.cart.item.filter(function(p){return!p.isRemoved}).length}else if(window.s&&window.s.products){uniqueSKUCount=window.s.products.split(',').length}else if(window.digitalData&&window.digitalData.transaction&&window.digitalData.transaction.item){var items=window.digitalData.transaction.item
var currProduct
var itemProducts=[]
for(var i=0;i<items.length;i++){currProduct=items[i].id
if(itemProducts.indexOf(currProduct)===-1){itemProducts.push(currProduct)}}
uniqueSKUCount=itemProducts.length}
if(uniqueSKUCount!==undefined){b.uniqueSKUCount=uniqueSKUCount.toString()}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.ddUserProfile&&b.ddUserProfile.attributes){b.loginStatus=b.ddUserProfile.attributes.loginStatus}else if(window.s){if(window.s.prop7){b.loginStatus=window.s.prop7}else if(window.s.eVar7){b.loginStatus=window.s.eVar7}}
if(b.loginStatus==='Recognized'){b.loginStatus='Recognised'}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.loginStatus.toLowerCase().includes('registered')||b.loginStatus==='Recognised'){if(b.ddUserProfile&&b.ddUserProfile.profileInfo){b.customerId=b.ddUserProfile.profileInfo.profileID;}else{if(window.s&&window.s.eVar75){b.customerId=window.s.eVar75;}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event){b.eventAction=b.event}else if(window.s){if(window.s.prop71){b.eventAction=window.s.prop71.replace(window.s.pageName,'')}else if(window.s.prop25){b.eventAction=window.s.prop25}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){function get_cookies_object(){var cookies={};if(document.cookie&&document.cookie!=''){var split=document.cookie.split(';');for(var i=0;i<split.length;i++){var name_value=split[i].split("=");name_value[0]=name_value[0].replace(/^ /,'');cookies[decodeURIComponent(name_value[0])]=decodeURIComponent(name_value[1]);}}
return cookies}
var expCookies=[]
var cookiesObject=get_cookies_object();for(var key in cookiesObject){if(cookiesObject.hasOwnProperty(key)&&/(test_group_|Checkout_Segment)/i.test(key)){expCookies.push(key+"|"+cookiesObject[key])}}
b.experimentDetails=expCookies.join(",")
var uniformExperiments=null
uniformExperiments=window?.digitalData?.experimentList
.filter(function(experiment){if(/uniform_/i.test(experiment.name)){return experiment}})
.map(function(experiment){return[experiment.name,experiment.variant].join('|')})
.join(',')
if(uniformExperiments){b.experimentDetails+=','+uniformExperiments}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | Form'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | pnpl'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | collectionError'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | tlp_errorPage'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | prepay_errorPage'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | prepayConfirmation_errorPage'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | prepayCheckout_nectarCard'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='ev | Add to Trolley Error'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | prepayCheckout_initialLoad'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | homeDeliveryCheckout_nectarCard'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | checkout_errorPage'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | confirmation_errorPage'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | homeDeliveryCheckout_initialLoad'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='ev | Interaction: My Account'.toLowerCase()){const extensionName='Extension UID: 357, "UDOs: Form Step, Field, Name, Error, Started, System Error"';b.formField=[]
b.errorMessage=[]
if(b.event==='yd_formProgressionComplete'){b.formStep=b.evtData.attributes.formProgressionType}
if(b.event==='ma_errorMessage'){b.formName=window.digitalData.page.pageInfo.templateTitle
b.errorMessage.push(window.digitalData.page.attributes.systemErrorMessage)}else{b.formName=window.digitalData.page.attributes.platform.split(':')[1]}
if(b.event==='monthlyCare_legalContinueError'){var formName=b.ddPage.pageInfo.siteSection.split(':')
formName.pop()
b.formName=formName.join(':').toLowerCase()
b.formField.push('ipidcheckbox')
b.errorMessage.push(b.evtData.attributes.errorMessage.replace(/[^0-9a-z]/gi,'').toLowerCase())}
if(b.event==='yd_formProgressionError'){for(var property in window.digitalData.page.form[0].fields){if(window.digitalData.page.form[0].fields.hasOwnProperty(property)&&window.digitalData.page.form[0].fields[property].status==='invalid'){b.formField.push(property)
b.errorMessage.push(window.digitalData.page.form[0].fields[property].errorMessage)}}}
if(/Address_formErrorMessage/.test(b.event)){b.errorMessage=b.evtData.attributes.errorMessage}
if(window.s&&window.s.prop6){b.errorMessage.push(window.s.prop6)}
b.formError=[b.formName,b.formField.join('|'),b.errorMessage.join('|')].join(b.udoGlue)
if(!/error/.test(b.event)){b.formStarted=b.event}
if(window.digitalData.page.attributes.errorType){b.errorMessage=window.digitalData.page.attributes.errorType}
if(window.digitalData.page.attributes.errorType&&window.digitalData.page.pageInfo.siteSection){var errorMessage=window.digitalData.page.attributes.errorType
var siteSection=window.digitalData.page.pageInfo.siteSection
b.errorMessage=siteSection+errorMessage}
if(b.event==='prepay_errorPage'||b.event==='prepayConfirmation_errorPage'||b.event==='checkout_errorPage'||b.event==='confirmation_errorPage'){if(window.digitalData.page.attributes.errorType&&window.digitalData.page.attributes.error&&window.digitalData.page.pageInfo.siteSection){var errorMessage=window.digitalData.page.attributes.errorType+':'+window.digitalData.page.attributes.error
errorMessage=errorMessage.toLowerCase()
var siteSection=window.digitalData.page.pageInfo.siteSection
b.errorMessage=siteSection+errorMessage}}
if(/_formFieldError$/.test(b.event)){var fields=b.ddPage.form[0].fields
for(var field in fields){if(fields[field].id===b.evtData.attributes.fieldId){b.formError=fields[field].errorMessage
break;}}}
if(/_formProgressionError$/.test(b.event)){if(!/billingNewAddress_|billingEditAddress_|partialBillingAddress_/.test(b.event)){var fields=b.ddPage.form[0].fields
b.formError=fields.filter(function(field){return field.valid===false}).map(function(field){return field.errorMessage.replace(/[^0-9a-z]/gi,'').toLowerCase()}).join('|')}}
if(/_formProgressionError$/.test(b.event)){if(/billingNewAddress_|billingEditAddress_|partialBillingAddress_/.test(b.event)){var fields=b.ddPage.form[0].fields
b.formError=fields.filter(function(field){return field.valid===false}).map(function(field){return field.id.toLowerCase()}).join('|')}}
switch(b.event){case'creditApplicationSystem_errorMessage':b.formError=b.ddPage.pageInfo.siteSection+b.evtData.attributes.errorMessage
break;case'addToTrolley_error':try{var errorType=b.evtData.attributes.errorType
var siteSection=b.siteSection
var lightboxType=b.ddLightbox.type.toLowerCase()
if(!/:$/.test(b.siteSection)){var siteSection=b.siteSection+":"}
siteSection=siteSection+lightboxType+"Lightbox:"
b.formError=siteSection+errorType}catch(e){utag.DB('Error: Error Message was not set')
utag.DB(e)}
break;}
if(b.formError==='::'){b.formError=''}
if(!b.errorMessage.length){b.errorMessage=''}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase().indexOf('s.tl Hijack'.toLowerCase())>-1||b['tealium_event'].toString().toLowerCase().indexOf('livechat'.toLowerCase())>-1){if(b.event==='s.tl Hijack'){b.liveChatInteraction=s.prop67}else if(b.event==='livechatAvailability'){b.liveChatInteraction='livechat available:'+window.digitalData.page.attributes.livechat}else if((/@/.test(window.digitalData.page.lightBox.page))&&b.event==='livechatLbPage'){b.liveChatInteraction='livechat interaction:email'}else if(b.event==='livechatLbPage'){b.liveChatInteraction='livechat interaction:'+window.digitalData.page.lightBox.page}else if(b.event==='livechatMinimised'){b.liveChatInteraction='livechat minimised'}else if(b.event==='livechatReopened'){b.liveChatInteraction='livechat reopened'}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var localisationSearchType
var localisationSearchTermBrick
if(/storeSelector(Locations|Stores)ListPage/i.test(b.event)&&window.digitalData.page.attributes.searchBoxWasUsed){window.utag_data.localisationSearchTerm_brick=window.digitalData.page.attributes.searchBoxValue}
if((b.event==='tlp_newStoreSelected'&&b.evtDataPrevious&&/storeSelectorSelectThisStore/i.test(b.evtDataPrevious.eventInfo.eventName))||(b.event==='pdp_SLNewStoreStockAPIs'&&(/storeselector/i.test(b.evtData.attributes.clickOrigin)||/storeSelectorSelectThisStore/i.test(b.evtData.eventInfo.eventName)))){localisationSearchTermBrick=window.utag_data.localisationSearchTerm_brick}else if(b.event==='tlp_newPostCodeSelected'){localisationSearchTermBrick=window.digitalData.user[0].profile[0].localisation.postCode
localisationSearchType='postcode'}else if(b.event==='pdp_newHDPostcodeStockAPIs'){var postcode=window.digitalData.product[0].attributes.deliveryStockLevelMessage.match(/<strong>(.*)<\/strong>/)
if(postcode){localisationSearchTermBrick=postcode[1]}}
if(!localisationSearchType&&localisationSearchTermBrick){if(/\d/.test(localisationSearchTermBrick)){localisationSearchType='postcode'}else{localisationSearchType='location'}}
if(localisationSearchType==='postcode'){localisationSearchTermBrick=localisationSearchTermBrick.toUpperCase()}else if(localisationSearchType==='location'){localisationSearchTermBrick=localisationSearchTermBrick.toLowerCase()}
if(localisationSearchType){b.localisationSearchType=localisationSearchType}
if(localisationSearchTermBrick){b.localisationSearchTerm_brick=localisationSearchTermBrick}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['event'].toString().toLowerCase()=='pdp_mediaPlayerInteraction'.toLowerCase()||b['event'].toString().toLowerCase()=='pdp_mtoMediaPlayerInteraction'.toLowerCase()){b.mediaId=b.evtData.attributes.componentID
b.mediaPosition=b.evtData.attributes.componentPosition
b.mediaType=b.evtData.attributes.interactionType}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='pl | orderConfirmation'){var orderIds=b.dd.transaction.orderNumber
var orderIdArray=orderIds.map(function(orderIds){return orderIds.split("-")[0]})
b.orderIdCustomer=orderIdArray.join(',')
b.orderId=orderIdArray.join(',')
b.orderIdUnique=orderIds.join(',')}else if(window.s){if(window.s.eVar20){b.orderIdCustomer=window.s.eVar20}else if(window.s.purchaseID){b.orderIdCustomer=window.s.purchaseID}
b.orderId=window.s.prop9
b.orderIdUnique=window.s.prop9}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(window.s&&window.s.products){var orderSavings=window.s.products.match(/event102=([0-9.]*)/i)
if(orderSavings){b.orderSavings=orderSavings[1]}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(window.s&&window.s.pageName&&/confirmation/i.test(window.s.pageName)){var pageName=window.s.pageName
var orderStatus
if(/error/i.test(pageName)){orderStatus='error'}else if(/noresponse/i.test(pageName)){orderStatus='no response'}else if(/fraud/i.test(pageName)){orderStatus='fraud'}else{orderStatus='confirmed'}
b.orderStatus=orderStatus}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.pageTemplate=b.pageType
if(typeof window.digitalData.page.pageInfo.attributes.templateTitle!=='undefined'){b.pageTemplate=window.digitalData.page.pageInfo.attributes.templateTitle}else{b.pageTemplate=window.digitalData.page.category.pageType}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){let recInProgress=false;let retryCount=0;const maxRetries=8;function recCheck(){if(recInProgress){retryCount++;if(retryCount>maxRetries){window.utag.DB('Recommendations processing timeout!');retryCount=0;recInProgress=false;}else{window.utag.DB('Waiting for recInProgress... Retry '+retryCount);setTimeout(recCheck,250);}
return;}
startRecJob();}
function startRecJob(){recInProgress=true;retryCount=0;const currentRec=b.evtDetails?.attributes?.recommendations||b.evtData?.attributes?.recommendations;const pageType=currentRec?.pageType||currentRec?.pageCategory||b.pageType||'';const displayedList=Array.isArray(currentRec.displayedList)?currentRec.displayedList:[];const fullList=Array.isArray(currentRec.fullList)?currentRec.fullList:[];const miniDisplayedList=Array.isArray(currentRec.miniDisplayedList)?currentRec.miniDisplayedList:[];const miniDisplayedListType=miniDisplayedList?.length>0?Array(miniDisplayedList.length).fill('mini'):[];const placement=currentRec?.placement||'';const title=currentRec?.title||'';const innerPlacement=currentRec?.innerPlacement||'p1';const categoryId=currentRec?.categoryId||'';const clickPosition=currentRec?.clickPosition||'';const recommendationType=currentRec?.recommendationType||currentRec?.sectionTitle||'';const tabNames=currentRec?.tabNames||[];const activeTab=(tabNames?.find((tab)=>tab.includes('-a')||tab.includes('_a'))||'').replace(/[-_]a/,'');const isLightbox=b.event.includes('attlb_');const lightboxCheck=isLightbox?'attLightbox':pageType;let recommendation=b.event.includes('personalisation_')?(pageType+':'+placement+':'+title+':'+recommendationType).toLowerCase():(pageType+':'+placement+':'+recommendationType).toLowerCase();const recommendationPlacementBase=pageType+':'+placement+':'+innerPlacement;let recommendationPlacement=(activeTab?recommendationPlacementBase+':'+activeTab:recommendationPlacementBase).toLowerCase();if(b.event.includes('recentlyViewedList')){b.recommendationDisplayList=b.event.includes('Click')&&categoryId?[categoryId]:displayedList?displayedList:[];b.recommendationClickAttributes=b.event.includes('Click')?pageType+':'+placement+':'+innerPlacement+':'+title+':'+recommendationType+':'+categoryId+':'+clickPosition:'';}else{const displayedListProcessed=b.event.includes('attlb_')||b.event.includes('entryPointGrid')?fullList:displayedList;const displayedListType=displayedListProcessed?.length>0?Array(displayedListProcessed.length).fill('full'):[];b.recommendationDisplayList=miniDisplayedList?.length?displayedListProcessed.concat(miniDisplayedList):displayedListProcessed;b.recommendationProductType=miniDisplayedList?.length?displayedListType.concat(miniDisplayedListType):displayedListType;}
if(b.recommendationDisplayList&&b.recommendationDisplayList.length>0){if(b.event.includes('attlb_')||b.event.includes('pdp_')){recommendation=(lightboxCheck+':'+recommendationType)?.toLowerCase();b.recommendation=Array(b.recommendationDisplayList?.length).fill(recommendation);if(Array.isArray(currentRec?.placement)&&currentRec?.placement?.length===b.recommendationDisplayList?.length){b.recommendationPlacement=currentRec?.placement.map(function(placement){return(lightboxCheck+':'+placement+':'+innerPlacement).toLowerCase();});}else{recommendationPlacement=(lightboxCheck+':'+placement+':'+innerPlacement).toLowerCase();b.recommendationPlacement=Array(b.recommendationDisplayList?.length).fill(recommendationPlacement);}}else{b.recommendationPlacement=Array(b.recommendationDisplayList?.length).fill(recommendationPlacement);b.recommendation=Array(b.recommendationDisplayList?.length).fill(recommendation);b.prop25Value=tabNames.length?(pageType+':'+'tab_view'+':'+tabNames.join('|')).toLowerCase():'';}}
recInProgress=false;}
const validEvents=['_recommendationsLoaded','_recommendationsViewed','_recommendationsNewPageViewed','_listerLoaded','_listerViewed','_listerSeeMoreProductsClicked','_previouslyViewedProductLoaded','_previouslyViewedProductViewed','_previouslyViewedProductNewPageViewed','_recentlyViewedListLoaded','_recentlyViewedListViewed','_recentlyViewedListNewPageViewed','_recentlyViewedListClick','_entryPointCarouselLoaded','_entryPointCarouselViewed','_entryPointCarouselNewPageViewed','_entryPointGridLoaded','_entryPointGridViewed','_entryPointGridNewPageViewed','personalisation_componentLoaded','personalisation_componentViewed','personalisation_componentNewPageViewed',];let eventIsMatch=validEvents.some(function(fragment){return b.event&&b.event.includes(fragment);});if(eventIsMatch&&(b.evtData?.attributes?.recommendations||b.evtDetails?.attributes?.recommendations)&&b.pageType!=='trolley'){recCheck();}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | tlp_recommendationsLoaded'.toLowerCase()){b.recommendationPlacement=[]
b.recommendation=[]
recsCollectionAvailable=[]
recsDeliveryAvailable=[]
recsCollectionUnavailable=[]
recsDeliveryUnavailable=[]
b.recsCollectionAvailable=[]
b.recsDeliveryAvailable=[]
b.recsCollectionUnavailable=[]
b.recsDeliveryUnavailable=[]
var interval=250
var time=0
var recInProgress
recCheck()
function recCheck(){if(!recInProgress)startRecJob()
else if(time>=2000){window.utag.DB('recs loop time up!')
startRecJob()}else{window.utag.DB('Waiting '+interval+' ms for previous recs to finish!')
time+=interval
setTimeout(recCheck,interval)}}
function startRecJob(){recInProgress=true
if(b.pageType==='trolley'&&b.event==='tlp_recommendationsLoaded'){var currentRec,placement,sectionTitle,recommendationPlacement,recommendation,innerPlacement,recommendationType
b.recommendationDisplayList=[];if(b.evtDetails&&b.evtDetails.eventInfo&&b.evtDetails.eventInfo.eventName&&b.evtDetails.eventInfo.eventName=='tlp_recommendationsLoaded'){currentRec=b.evtDetails.attributes.recommendations}
innerPlacement='P1';if(currentRec.length>0&&b.pageType==='trolley'){b.recommendationDisplayList=[];b.recommendationFullList=[];for(var i=0;i<currentRec.length;i++){if(currentRec[i].type){recommendationType=currentRec[i].type}else{recommendationType='alternatives'}
if(recommendationType=='alternatives'){placement='alternatives';}else if(recommendationType=='complementary'){placement='complementary';}
recommendationPlacement=b.pageType+':'+placement+':'+innerPlacement;recommendation=b.pageType+':'+recommendationType;if(recommendationType=='complementary'){if(currentRec[i].displayedList){b.recommendationsDisplayListCount=currentRec[i].displayedList.length}
if(currentRec[i].fullList){b.recommendationsFullListCount=currentRec[i].fullList.length}}
if(recommendationType=='alternatives'){if(currentRec[i].displayedList){b.recommendationsAltDisplayListCount=currentRec[i].displayedList.length}
if(currentRec[i].fullList){b.recommendationsAltFullListCount=currentRec[i].fullList.length}}
for(var j=0;j<currentRec[i].displayedList.length;j++){b.recommendationDisplayList.push(currentRec[i].displayedList[j]);b.recommendationPlacement.push(recommendationPlacement);if(recommendationType=='complementary'){b.recommendation.push(recommendation+':'+currentRec[i].masterSKU);}else if(recommendationType=='alternatives'){b.recommendation.push(recommendation+':'+currentRec[i].unavailableSKU);if((currentRec[i].collectionAvailable&&currentRec[i].collectionAvailable.length>0)&&(currentRec[i].deliveryAvailable&&currentRec[i].deliveryAvailable.length>0)){recsCollectionAvailable=currentRec[i].collectionAvailable
recsDeliveryAvailable=currentRec[i].deliveryAvailable
recsCollectionUnavailable=currentRec[i].collectionAvailable.map(function(element){return element===1?0:1;})
recsDeliveryUnavailable=currentRec[i].deliveryAvailable.map(function(element){return element===1?0:1;})}}}
if(b.recommendationDisplayList){if(recsCollectionAvailable&&recsDeliveryAvailable){if((b.recommendationDisplayList.length===recsCollectionAvailable.length)&&(b.recommendationDisplayList.length===recsDeliveryAvailable.length)){b.recsCollectionAvailable=recsCollectionAvailable
b.recsDeliveryAvailable=recsDeliveryAvailable
b.recsCollectionUnavailable=recsCollectionUnavailable
b.recsDeliveryUnavailable=recsDeliveryUnavailable}}}}
recInProgress=false;}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){let productIdArrayForStorage=[];let productId;if(b.tealium_event==='pl | orderConfirmation'){productId=b.dd.transaction.item.map(function(item){return item.id;});}
else if(/^close_attlb/.test(b.event)||/^open_attlb/.test(b.event)||/^attlb_click/.test(b.event)||/^attlb_quantityDropdown/.test(b.event)){productId=(b.evtData.attributes.product||[]).map((p)=>p.id);}else if(b.event.includes('_recommendationsLoaded')||b.event.includes('_recommendationsViewed')||b.event.includes('_recommendationsNewPageViewed')||b.event.includes('_listerLoaded')||b.event.includes('_listerViewed')||b.event.includes('_listerSeeMoreProductsClicked')){productId=b.recommendationDisplayList;}else if(/pdp/i.test(b.tealium_event)||b.event==='so_newPage'||b.event==='cnetContent'){productId=window.digitalData.product[0].productInfo.productID;}else if(b.event==='so_addToOffer'||b.event==='hp_recommendationsClicked'){productId=b.evtData.attributes.productID;}else if(b.event==='addToTrolleyLbPage'||b.event==='essentialExtrasATTLbPage'){productId=b.ddLightbox.module
.filter(function(p){return p.product;})
.map(function(m){return m.product.id;});}else if(b.event==='addToTrolley'&&b.evtData){productId=b.evtData.attributes.product.map(function(p){return p.id;});}else if(b.event==='addToTrolley_error'&&b.evtData){productId=b.evtData.attributes.product.map(function(p){return p.id;});}else if(b.event==='cnet_addToTrolley'){productId=b.evtDetails.productId;}else if(b.event==='quickviewLbPage'){productId=b.ddLightbox.product[0].id;}else if(b.event==='productCareLbPage'){productId=b.ddLightbox.product.map(function(p){return p.id;});}else if(b.event==='monthlyProductCareLbPage'){productId=b.ddLightbox.product.map(function(p){return p.id;});}else if(b.tealium_event==='pl | productRecommendationLbPage'){productId=window.digitalData.page.lightBox.sku;}else if(b.tealium_event==='pl | changeVariantLbPage'){productId=window.digitalData.page.lightBox.product[0].id;}else if(b.event==='tlp_alternativeProductRecommendationsProductClicked'||b.event==='tlp_alternativeProductRecommendationsLightBoxReplaceItem'){productId=b.evtData.attributes.replacementSKU;}else if(b.event==='tlp_complementaryProductRecommendationsProductClicked'){productId=b.evtData.attributes.complementarySKU;}else if(b.event==='tlp_complementaryProductRecommendationPaginate'){productId=b.evtData.attributes.displayedList;}else if(b.event==='s.tl Hijack'){productId=getProductIdFromProductString(b._this);}else if(b.evtData?.attributes?.productID||b.evtData?.attributes?.productId){productId=b.evtData.attributes.productID||b.evtData.attributes.productId;}else if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item&&b.sitePlatform==='react'){productIdArrayForStorage=window.digitalData.cart.item
.filter(function(p){return!p.isRemoved;})
.map(function(p){return p.id;});if(b.event==='tlp_itemQuantityChanged'||b.event==='tlp_itemRemoved'||b.event==='tlp_itemUndoRemoval'){productId=[window.digitalData.cart.item[b.evtData.attributes.itemIndex].id];}else{productId=productIdArrayForStorage;}}else if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item&&b.sitePlatform==='wcs'&&!/mobile/i.test(b['dom.pathname'])){productId=window.digitalData.cart.item.map(function(p){return p.productInfo.productID;});}else if(window.s&&window.s.products){productId=getProductIdFromProductString(window.s);}else if(!document.location.pathname.match(/orderitemdisplay/i)&&document.location.pathname.match(/wcs/i)&&!/DeliveryConfirmationView/i.test(window.location.pathname)){try{productId=JSON.parse(window.localStorage.getItem('productId'));}catch(e){window.utag.DB('++++++++++++ No Valid Product Data found +++++++ ');}}else if(b.tealium_event==='ev | Interaction: hotspot'||b.tealium_event==='ev | Interaction: hotspotLb'||b.tealium_event==='pl | hotspotLbPage'){if(b.evtAttributes.products&&Array.isArray(b.evtAttributes.products)){productId=b.evtAttributes.products.map(function(p){return p.id;});}}else if(b.tealium_event==='ev | Interaction: Start Return'||b.tealium_event.indexOf('pl | Start Return')>-1){if(b.evtAttributes.product&&Array.isArray(b.evtAttributes.product)){productId=b.evtAttributes.product.map(function(p){return p.id;});}else if(b.ddLightbox&&b.ddLightbox.product&&Array.isArray(b.ddLightbox.product)){productId=b.ddLightbox.product.map(function(p){return p.id;});}else if(b.ddPage.product&&Array.isArray(b.ddPage.product)){productId=b.ddPage.product.map(function(p){return p.id;});}}else{window.utag.DB('++++++++++++ No Valid Product Data found +++++++ ');}
if(productId){b.productId=productId;}
if(productId&&!Array.isArray(productId)){b.productId=productId.split(',');}
b.productId_str=b.productId.join(',');if((window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item)||(window.s&&window.s.pageName==='ar:trolley:trolleylist:')){if(!productIdArrayForStorage.length){productIdArrayForStorage=b.productId;}
window.localStorage.setItem('productId',JSON.stringify(productIdArrayForStorage));}
function getProductIdFromProductString(scope){let productId='';if(scope.products){productId=[];let prods=scope.products.split(',');for(let x=0;x<prods.length;x++){productId.push(prods[x].split(';')[1]);}}
return productId;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='pl | orderConfirmation'){if(b.pageName=='ar:trolley:reservation:confirmationpage:'||b.pageName=='ar:trolley:prepay:confirmation:'||b.pageName=='ar:trolley:buy:confirmationpage:'){if(window.digitalData.transaction&&digitalData.transaction.item){var items=digitalData.transaction.item
b.productTitle=items.map(function(item){return item.name})}}else{b.productTitle=b.productId.map(function(item){return''})}}else{try{b.productTitle=window.digitalData.product[0].productInfo.productName}catch(e){try{b.productTitle=[]
for(var x=0;x<window.digitalData.cart.item.length;x++){b.productTitle.push(window.digitalData.cart.item[x].name)}}catch(e){try{b.productTitle=[]
for(var y=0;y<window.digitalData.cart.item.length;y++){b.productTitle.push(window.digitalData.cart.item[y].productInfo.productName)}}catch(e){try{var all=document.querySelectorAll('.description')
b.productTitle=[]
for(var i=0;i<all.length;i++){b.productTitle.push(all[i].textContent.trim())}}catch(e){};}}}}
if(b.productTitle.length===0){delete b.productTitle}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){let contentInteraction;if(b.tealium_event.startsWith('ev |')&&b.evtAttributes?.contentInteraction){contentInteraction=b.evtAttributes.contentInteraction;}
if(window.s&&window.s.prop25&&window.s.prop25!==''){contentInteraction=window.s.prop25;}
if(b.event==='argosCardCreditPlan_selected'){if(b.evtAttributes.creditPlanOption){contentInteraction=b.pageName+'argoscardchoosecreditplan:'+b.evtAttributes.creditPlanOption;}}
else if(/initiateLocalisation/.test(b.event)){contentInteraction=b.pageType+':initiateLocalisation:'+b.evtAttributes.clickOrigin;}
else if(/localisation_localisation/.test(b.event)){contentInteraction=b.evtAttributes.pageType+':'+b.event;}
else if(b.event==='addToTrolley'&&typeof b.evtAttributes?.clickOrigin==='string'&&b.evtAttributes.clickOrigin!==''){contentInteraction=b.evtAttributes.clickOrigin;if(b['dom.query_string']){if(/^rec=PDP/.test(b['dom.query_string'])){if(/:SS:syte:/.test(b['dom.query_string'])){contentInteraction+=':ss:syte:rec';if(b.productId&&b.productId.length===1){b.recommendationPlacement=['pdp:syte'];b.recommendation=['pdp:SS'];}}else if(/:CTL:syte:/.test(b['dom.query_string'])){contentInteraction+=':ctl:syte:rec';if(b.productId&&b.productId.length===1){b.recommendationPlacement=['pdp:syte'];b.recommendation=['pdp:CTL'];}}}}}
else if(b.event==='cnet_addToTrolley'){contentInteraction='PDP:cnetATT';}
else if(b.tealium_event==='pl | MPP'&&['ar:mpp:youroccupation:','ar:mpp:checkmyapplicationpleasewait:'].includes(b.pageName)&&typeof b.ddPageAttributes?.mppPreviousAddressEntryMethod==='string'&&b.ddPageAttributes.mppPreviousAddressEntryMethod!==''){contentInteraction='ar:mpp:previousaddresssubmitted:'+b.ddPageAttributes.mppPreviousAddressEntryMethod;}
else if(['ev | Impression','ev | Interaction'].includes(b.tealium_event)){if(b.evtAttributes?.interactionValue){contentInteraction=b.evtAttributes.interactionValue;}}
if(!b.contentInteraction&&contentInteraction){b.contentInteraction=contentInteraction;}
if(!b.prop25Value&&contentInteraction){b.prop25Value=contentInteraction;}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){if(1){d=b['event'];if(typeof d=='undefined')return;c=[{'trolleySignIn_signIn':'ar:trolley:signin:signin'},{'trolleySignIn_register':'ar:trolley:signin:register'},{'trolleySignIn_forgotPassword':'ar:trolley:signin:forgotpassword'},{'trolleySignIn_notYou':'ar:trolley:signin:notyou'},{'trolleyRegister_signIn':'ar:trolley:register:signin'},{'trolleyRegister_continue':'ar:trolley:register:continue'},{'trolleyForgotPassword_sendLink':'ar:trolley:forgotpassword:sendlink'},{'trolleyForgotPassword_emailSent':'ar:trolley:forgotpassword:emailsent'},{'trolleyForgotPassword_enterEmailAgain':'ar:trolley:forgotpassword:enteremailagain'},{'trolleyResetPasswordSave':'ar:trolley:resetpassword:save'},{'trolleyResetPasswordSuccess':'ar:trolley:resetpassword:success'},{'trolleyErrorSignIn_returnToBasket':'ar:trolley:error:signin:returntobasket'},{'trolleySignInField_emailSuggestionAccepted':'ar:trolley:signIn:emailAddressDidYouMean:clicked'},{'trolleyReservationField_emailSuggestionAccepted':'ar:trolley:reservation:emailAddressDidYouMean:clicked'},{'creditApplication_waysToApplyShopNow':'ar:creditapplication:choice:shopNow'},{'creditApplication_waysToApplyApplyToday':'ar:creditapplication:choice:applyToday'},{'creditApplication_eligibilityContinue':'ar:creditapplication:eligibility:continue'},{'creditApplication_personalEligibilityContinue':'ar:creditapplication:personalEligibility:continue'},{'creditApplication_readOurFullTNCs':'ar:creditapplication:importantinfo:readOurFullTNCs'},{'creditApplication_getStarted':'ar:creditapplication:importantinfo:getStarted'},{'creditApplication_aboutYouLeaveApplication':'ar:creditapplication:aboutyou:leaveApplication'},{'creditApplication_whereYouLiveBackToPreviousSection':'ar:creditapplication:whereyoulive:backToPreviousSection'},{'creditApplication_yourFinanceDetailsBackToPreviousSection':'ar:creditapplication:yourfinancedetails:backToPreviousSection'},{'creditApplication_offerSuccessViewCreditAgreement':'ar:creditapplication:offersuccess:viewCreditAgreement'},{'creditApplication_offerSuccessViewAgreementDetails':'ar:creditapplication:offersuccess:viewAgreementDetails'},{'creditApplication_offerSuccessViewPreContractInfo':'ar:creditapplication:offersuccess:viewPreContractInfo'},{'creditApplication_offerSuccessSubmitApplication':'ar:creditapplication:offersuccess:submitApplication'},{'creditApplication_offerSuccessMaybeLater':'ar:creditapplication:offersuccess:maybeLater'},{'creditApplication_offerReferViewCreditAgreement':'ar:creditapplication:offerrefer:viewCreditAgreement'},{'creditApplication_offerReferViewAgreementDetails':'ar:creditapplication:offerrefer:viewAgreementDetails'},{'creditApplication_offerReferViewPreContractInfo':'ar:creditapplication:offerrefer:viewPreContractInfo'},{'creditApplication_offerReferSubmitApplication':'ar:creditapplication:offerrefer:submitApplication'},{'creditApplication_offerReferMaybeLater':'ar:creditapplication:offerrefer:maybeLater'},{'creditApplication_confirmationWishlist':'ar:creditapplication:confirmation:wishlist'},{'creditApplication_confirmationCreditOffers':'ar:creditapplication:confirmation:creditOffers'},{'creditApplication_confirmationDownloadIOSApp':'ar:creditapplication:confirmation:downloadIOSApp'},{'creditApplication_confirmationDownloadAndroidApp':'ar:creditapplication:confirmation:downloadAndroidApp'},{'creditApplication_confirmationHelpPage':'ar:creditapplication:confirmation:helpPage'},{'creditApplication_confirmationFAQs':'ar:creditapplication:confirmation:FAQs'},{'creditApplication_confirmationBackToHomepage':'ar:creditapplication:confirmation:backToHomePage'},{'creditApplication_completeReferWishlist':'ar:creditapplication:completerefer:wishlist'},{'creditApplication_completeReferCreditOffers':'ar:creditapplication:completerefer:creditOffers'},{'creditApplication_completeReferDownloadIOSApp':'ar:creditapplication:completeRefer:downloadIOSApp'},{'creditApplication_completeReferDownloadAndroidApp':'ar:creditapplication:completerefer:downloadAndroidApp'},{'creditApplication_completeReferHelpPage':'ar:creditapplication:completerefer:helpPage'},{'creditApplication_completeReferFAQs':'ar:creditapplication:completerefer:FAQs'},{'creditApplication_completeReferBackToHomepage':'ar:creditapplication:completerefer:backToHomePage'},{'creditApplicationDeclinedUnavilableToday_backToHomePage':'ar:creditapplication:declinedunavailabletoday:backToHomePage'},{'creditApplicationdeclinedUnavailableToday_HowToImproveCreditScore':'ar:creditapplication:declinedunavailabletoday:howToImproveCreditScore'},{'creditApplicationDeclineAvailableToday_backToHomepage':'ar:creditapplication:declineavailabletoday:backToHomepage'},{'creditApplicationDeclineAvailableToday_howToImproveACreditScore':'ar:creditapplication:declineavailabletoday:howToImproveACreditScore'},{'creditApplicationDeclineAvailableToday_checkEligibilityNow':'ar:creditapplication:declineavailabletoday:checkEligibilityNow'},{'creditApplication_downTimeReturnToHome':'ar:creditapplication:downtime:returnToHome'},{'creditApplication_agreementDetailsDownloadPDF':'ar:creditapplication:agreementdetails:downloadPDF'},{'creditApplication_agreementDetailsIveReadThis':'ar:creditapplication:agreementdetails:iveReadThis'},{'creditApplication_agreementDetailsClose':'ar:creditapplication:agreementdetails:close'},{'creditApplication_creditAgreementDownloadPDF':'ar:creditapplication:creditagreement:downloadPDF'},{'creditApplication_creditAgreementIveReadThis':'ar:creditapplication:creditagreement:iveReadThis'},{'creditApplication_creditAgreementClose':'ar:creditapplication:creditagreement:close'},{'creditApplication_lwsMybeLaterGoToBasket':'ar:creditapplication:lws:maybeLaterGoToBasket'},{'creditApplication_lwsReturnToApplication':'ar:creditapplication:lws:returnToApplication'},{'creditApplication_precontractInfoDownloadPDF':'ar:creditapplication:precontractinfo:downloadPDF'},{'creditApplication_precontractInfoIveReadThis':'ar:creditapplication:precontractinfo:iveReadThis'},{'creditApplication_precontractInfoClose':'ar:creditapplication:precontractinfo:close'},{'tlp_continueDeliveryClicked':'tlp:continueWithDeliveryClicked'},{'tlp_continueCollectionClicked':'tlp:continueWithCollectionClicked'},{'tlp_signInJoinClicked':'tlp:signInJoinClicked'},{'collectionPNChangeBillingAddress':'ar:trolley:prepay:payment:changebillingaddress'},{'collectionPNWhatIsThisLinkFor_Show':'ar:trolley:prepay:payment:whatislinkfor:show'},{'collectionPNWhatIsThisLinkFor_Hide':'ar:trolley:prepay:payment:whatislinkfor:hide'},{'collectionPNTermsAndConditions':'ar:trolley:prepay:payment:termsandconditions'},{'collectionPNFooterPrivacyHub':'ar:trolley:prepay:payment:footer:privacyhub'},{'collectionPNFooterPrivacyPolicy':'ar:trolley:prepay:payment:footer:privacypolicy'},{'collectionPNFooterCookiePolicy':'ar:trolley:prepay:payment:footer:cookiepolicy'},{'collectionPNFooterTermsAndConditions':'ar:trolley:prepay:payment:footer:termsandconditions'},{'collectionPNFCollectionBreadcrumb':'ar:trolley:prepay:payment:collectionbreadcrumb'},{'collectionPNViewAllItems':'ar:trolley:prepay:payment:viewallitems'},{'collectionPNViewItems':'ar:trolley:prepay:payment:viewitems'},{'collectionPNViewTotal':'ar:trolley:prepay:payment:viewtotal'},{'collectionPNCloseOrderSummary':'ar:trolley:prepay:payment:closeordersummary'},{'collectionPNOpenPromoGiftCardSummary':'ar:trolley:prepay:payment:openpromogiftcardsummary'},{'collectionPNAddPromoCodeGiftCard':'ar:trolley:prepay:payment:addpromogiftcard'},{'collectionPNRemoveGiftCard':'ar:trolley:prepay:payment:removegiftcard'},{'collectionPNNectarSummaryDisplayed':'ar:trolley:prepay:payment:nectarsummarydisplayed'},{'collectionPNOpenNectarSummary':'ar:trolley:prepay:payment:opennectarsummary'},{'collectionPNChangeNectar':'ar:trolley:prepay:payment:changenectar'},{'billingAddress_DifferentAddress':'ar:trolley:prepay:payment:billingaddress:differentaddress'},{'billingAddress_SelectionAddress':'ar:trolley:prepay:payment:billingaddress:selectaddress'},{'billingAddress_AddNewAddress':'ar:trolley:prepay:payment:billingaddress:addnewaddress'},{'billingAddress_Close':'ar:trolley:prepay:payment:billingaddress:close'},{'billingNewAddress_dontHaveMobile':'ar:trolley:prepay:payment:billingaddress:newaddress:nomobile'},{'billingNewAddress_noLandline':'ar:trolley:prepay:payment:billingaddress:newaddress:nolandline'},{'billingNewAddress_addNewAddressLine':'ar:trolley:prepay:payment:billingaddress:newaddress:addline'},{'billingNewAddress_backToBilling':'ar:trolley:prepay:payment:billingaddress:newaddress:backtobilling'},{'billingNewAddress_saveAddress':'ar:trolley:prepay:payment:billingaddress:newaddress:saveaddress'},{'billingNewAddress_close':'ar:trolley:prepay:payment:billingaddress:newaddress:close'},{'tlp_creditSideDrawerExpanderClicked':'tlp:creditSideDrawerExpanderClicked'},{'plp_closeLocalisationPrompt':'plp:localisationprompt:close'},{'slp_closeLocalisationPrompt':'slp:localisationprompt:close'},{'argosPrepayError_BackToTrolley':'ar:trolley:prepay:error:backtotrolley'},{'argosPrepayConfirmationError_BackToTrolley':'ar:trolley:prepay:confirmation:error:backtotrolley'},{'argosPrepayConfirmationError_ReturnToHome':'ar:trolley:prepay:confirmation:error:returntohome'},{'argosPrepayConfirmationError_WeCanHelp':'ar:trolley:prepay:confirmation:error:wecanhelp'},{'argosCheckoutError_BackToTrolley':'ar:trolley:checkout:error:backtotrolley'},{'argosConfirmationError_BackToTrolley':'ar:trolley:confirmation:error:backtotrolley'},{'argosConfirmationError_ReturnToHome':'ar:trolley:confirmation:error:returntohome'},{'argosConfirmationError_WeCanHelp':'ar:trolley:confirmation:error:wecanhelp'},{'tlp_alternativeProductRecommendationsProductClicked':'tlp:alternativeproductrecommendations:productclicked'},{'tlp_complementaryProductRecommendationsProductClicked':'tlp:complementaryproductrecommendations:productclicked'},{'pdp_emailWhenInStockSubmit':'pdp:emailWhenInStockSubmit'},{'pdp_energySavingButtonInteraction':'pdp:energysaving:button:interaction'},{'pdp_energySavingAlternativeProductClicked':'pdp:energysaving:alternativeproduct:clicked'},{'pdp_energySavingUsageOption':'pdp:energysaving:usage:option'},{'pdp_energySavingYearsOption':'pdp:energysaving:years:option'},{'pdp_energySavingTariffOption':'pdp:energysaving:tariff:option'},{'pdp_socialMediaImageBasketClick':'pdp:socialmedia:image:basket:click'},{'removeProductCareLbStayProtected':'tlp:removeProductCareLb:StayProtected'},{'removeProductCareLbRemoveProtection':'tlp:removeProductCareLb:RemoveProtection'},{'wishlistInteraction_wishlistHeader':'header:wishlist'},{'wishlistInteraction_startShopping':'wlp:startshoppping'},{'wishlistInteraction_signIn':'wlp:signin'},{'wishlistInteraction_register':'wlp:register'},{'wishlistInteraction_energyEfficiency':'wlp:energyefficiency'},{'wishlistInteraction_mergeWishlistAddItems':'wlp:mergewishlist:additems'},{'wishlistInteraction_mergeWishlistRemoveItems':'wlp:mergewishlist:removeitems'},{'continueShoppingATTLb':'attlb:continueshopping'},{'goToTrolleyATTLb':'attlb:gototrolley'},{'new_trolleyRegister_continue':'ar:trolley:register:continue'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['prop25Value']=c[e][f];m=true};};if(m)break};}},function(a,b,c,d,e,f,g){if(/^ar:trolley:prepay:payment/i.test(b['pageName'])){d=b['event'];if(typeof d=='undefined')return;c=[{'collectionPNChangeBillingAddress':'ar:trolley:prepay:payment:changebillingaddress'},{'collectionPNWhatIsThisLinkFor_Show':'ar:trolley:prepay:payment:whatislinkfor:show'},{'collectionPNWhatIsThisLinkFor_Hide':'ar:trolley:prepay:payment:whatislinkfor:hide'},{'collectionPNChoosePaymentOption_newCardTab':'ar:payment:choosepayment:newcard'},{'collectionPNChoosePaymentOption_savedCardTab':'ar:payment:choosepayment:savedcard'},{'collectionPNTermsAndConditions':'ar:trolley:prepay:payment:termsandconditions'},{'collectionPNFooterPrivacyHub':'ar:trolley:prepay:payment:footer:privacyhub'},{'collectionPNFooterPrivacyPolicy':'ar:trolley:prepay:payment:footer:privacypolicy'},{'collectionPNFooterCookiePolicy':'ar:trolley:prepay:payment:footer:cookiepolicy'},{'collectionPNFooterTermsAndConditions':'ar:trolley:prepay:payment:footer:termsandconditions'},{'collectionPNViewAllItems':'ar:trolley:prepay:payment:viewallitems'},{'collectionPNViewItems':'ar:trolley:prepay:payment:viewitems'},{'collectionPNViewTotal':'ar:trolley:prepay:payment:viewtotal'},{'collectionPNCloseOrderSummary':'ar:trolley:prepay:payment:closeordersummary'},{'collectionPNOpenPromoGiftCardSummary':'ar:trolley:prepay:payment:openpromogiftcardsummary'},{'collectionPNAddPromoCodeGiftCard':'ar:trolley:prepay:payment:addpromogiftcard'},{'collectionPNRemoveGiftCard':'ar:trolley:prepay:payment:removegiftcard'},{'collectionPNOpenNectarSummary':'ar:trolley:prepay:payment:opennectarsummary'},{'collectionPNChangeNectar':'ar:trolley:prepay:payment:changenectar'},{'collectionPNRemovePromoCodeSuccess':'ar:trolley:prepay:payment:removepromocodesuccess'},{'collectionPNRemovePromoCodeFailure':'ar:trolley:prepay:payment:removepromocodefailure'},{'argosPrepayError_BackToTrolley':'ar:trolley:prepay:error:backtotrolley'},{'argosPrepayConfirmationError_BackToTrolley':'ar:trolley:prepay:confirmation:error:backtotrolley'},{'argosPrepayConfirmationError_ReturnToHome':'ar:trolley:prepay:confirmation:error:returntohome'},{'argosPrepayConfirmationError_WeCanHelp':'ar:trolley:prepay:confirmation:error:wecanhelp'},{'billingEditAddress_dontHaveMobile':'ar:trolley:prepay:payment:billingaddress:editaddress:nomobile'},{'billingEditAddress_noLandline':'ar:trolley:prepay:payment:billingaddress:editaddress:nolandline'},{'billingEditAddress_addNewAddressLine':'ar:trolley:prepay:payment:billingaddress:editaddress:addline'},{'billingEditAddress_backToBilling':'ar:trolley:prepay:payment:billingaddress:editaddress:backtobilling'},{'billingEditAddress_saveAddress':'ar:trolley:prepay:payment:billingaddress:editaddress:saveaddress'},{'billingEditAddress_close':'ar:trolley:prepay:payment:billingaddress:editaddress:close'},{'billingNewAddress_formErrorMessage':'ar:trolley:prepay:payment:billingaddress:newaddress:formerror'},{'billingEditAddress_formErrorMessage':'ar:trolley:prepay:payment:billingaddress:editaddress:formerror'},{'billingNewAddress_dontHaveMobile':'ar:trolley:prepay:payment:billingaddress:newaddress:nomobile'},{'billingNewAddress_noLandline':'ar:trolley:prepay:payment:billingaddress:newaddress:nolandline'},{'billingNewAddress_addNewAddressLine':'ar:trolley:prepay:payment:billingaddress:newaddress:addline'},{'billingNewAddress_backToBilling':'ar:trolley:prepay:payment:billingaddress:newaddress:backtobilling'},{'billingNewAddress_saveAddress':'ar:trolley:prepay:payment:billingaddress:newaddress:saveaddress'},{'billingNewAddress_close':'ar:trolley:prepay:payment:billingaddress:newaddress:close'},{'collectionPNSystemErrorMessage':'ar:trolley:prepay:payment:systemerror'},{'billingAddress_DifferentAddress':'ar:trolley:prepay:payment:billingaddress:differentaddress'},{'billingAddress_SelectionAddress':'ar:trolley:prepay:payment:billingaddress:selectaddress'},{'billingAddress_AddNewAddress':'ar:trolley:prepay:payment:billingaddress:addnewaddress'},{'billingAddress_Close':'ar:trolley:prepay:payment:billingaddress:close'},{'partialBillingAddress_dontHaveMobile':'ar:trolley:prepay:payment:partialbillingaddress:nomobile'},{'partialBillingAddress_addNewAddressLine':'ar:trolley:prepay:payment:partialbillingaddress:addline'},{'partialBillingAddress_saveAddress':'ar:trolley:prepay:payment:partialbillingaddress:saveaddress'},{'giftCard_tab':'ar:trolley:prepay:payment:promogiftcard:giftcardtab'},{'promoCode_tab':'ar:trolley:prepay:payment:promogiftcard:promocodetab'},{'switchToGiftCard':'ar:trolley:prepay:payment:promogiftcard:switchtogiftcard'},{'nectarSpendAmount':'ar:trolley:prepay:payment:nectarspendamount'},{'confirmNectarPoints':'ar:trolley:prepay:payment:confirmnectarpoints'},{'send2FACodeAgain':'ar:trolley:prepay:payment:nectarcard:send2facodeagain'},{'contactHelpLine':'ar:trolley:prepay:payment:nectarcard:contacthelpline'},{'creditDebitCard_changelink':'ar:trolley:prepay:payment:creditdebitcarddetails:paymentchange'},{'argosCardCreditPlan_findOutMore':'ar:trolley:prepay:payment:argoscardchoosecreditplan:findoutmore'},{'argosCardCreditPlan_afsHowItWorks':'ar:trolley:prepay:payment:argoscardchoosecreditplan:afs:howitworks'},{'argosCardCreditPlan_afsLegalStuff':'ar:trolley:prepay:payment:argoscardchoosecreditplan:afs:legalstuff'},{'argosCardCreditPlan_afsHowDoIGetArgosCard':'ar:trolley:prepay:payment:argoscardchoosecreditplan:afs:howdoigetargoscard'},{'argosCardDetails_change':'ar:trolley:prepay:payment:argoscarddetails:change'},{'argosCardDetails_edit':'ar:trolley:prepay:payment:argoscarddetails:edit'},{'argosBusinessAccountCard_change':'ar:trolley:prepay:payment:argosbusinessaccountcard:change'},{'argosBusinessAccountCard_edit':'ar:trolley:prepay:payment:argosbusinessaccountcard:edit'},{'argosPrepayConfirmationError_ViewMyAccount':'ar:trolley:prepay:confirmation:error:viewmycccount'},{'partialBillingAddress_noLandline':'ar:trolley:prepay:payment:partialbillingaddress:nolandline'},{'billingNewAddress_formProgressionSuccess':'ar:trolley:prepay:payment:billingaddress:newaddress:formprogressionsuccess'},{'billingNewAddress_formProgressionError':'ar:trolley:prepay:payment:billingaddress:newaddress:formprogressionerror'},{'billingNewAddress_formFieldError':'ar:trolley:prepay:payment:billingaddress:newaddress:fielderror'},{'billingEditAddress_formProgressionSuccess':'ar:trolley:prepay:payment:billingaddress:editaddress:formprogressionsuccess'},{'billingEditAddress_formProgressionError':'ar:trolley:prepay:payment:billingaddress:editaddress:formprogressionerror'},{'billingEditAddress_formFieldError':'ar:trolley:prepay:payment:billingaddress:editaddress:fielderror'},{'partialBillingAddress_formProgressionSuccess':'ar:trolley:prepay:payment:partialbillingaddress:formprogressionsuccess'},{'partialBillingAddress_formProgressionError':'ar:trolley:prepay:payment:partialbillingaddress:formprogressionerror'},{'partialBillingAddress_formFieldError':'ar:trolley:prepay:payment:partialbillingaddress:fielderror'},{'promoCode_formProgressionSuccess':'ar:trolley:prepay:payment:promogiftcard:promocode:formprogressionsuccess'},{'promoCode_formProgressionError':'ar:trolley:prepay:payment:promogiftcard:promocode:formprogressionerror'},{'promoCode_formFieldError':'ar:trolley:prepay:payment:promogiftcard:promocode:fielderror'},{'giftCard_formProgressionSuccess':'ar:trolley:prepay:payment:promogiftcard:giftcard:formprogressionsuccess'},{'giftCard_formProgressionError':'ar:trolley:prepay:payment:promogiftcard:giftcard:formprogressionerror'},{'giftCard_formFieldError':'ar:trolley:prepay:payment:promogiftcard:giftcard:fielderror'},{'argosBusinessAccountCard_formProgressionSuccess':'ar:trolley:prepay:payment:argosbusinessaccountcard:formprogressionsuccess'},{'argosBusinessAccountCard_formProgressionError':'ar:trolley:prepay:payment:argosbusinessaccountcard:formprogressionerror'},{'argosBusinessAccountCard_formFieldError':'ar:trolley:prepay:payment:argosbusinessaccountcard:fielderror'},{'error2FAVerification':'ar:trolley:prepay:payment:nectarcard:2faverificationerror'},{'confirmNectarPointsApplied':'ar:trolley:prepay:payment:nectarpointsapplied'},{'collectionPNTrolleyBreadcrumb':'ar:trolley:prepay:payment:trolleybreadcrumb'},{'billingEditPreferredAddress_dontHaveMobile':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:nomobile'},{'billingEditPreferredAddress_noLandline':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:nolandline'},{'billingEditPreferredAddress_addNewAddressLine':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:addline'},{'billingEditAddress_setAsPreferredAddress':'ar:trolley:prepay:payment:billingaddress:editaddress:setaspreferredaddress'},{'billingEditPreferredAddress_backToBilling':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:backtobilling'},{'billingEditPreferredAddress_saveAddress':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:saveaddress'},{'billingEditPreferredAddress_close':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:close'},{'billingEditPreferredAddress_formProgressionSuccess':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:formprogressionsuccess'},{'billingEditPreferredAddress_formProgressionError':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:formprogressionerror'},{'billingEditPreferredAddress_formFieldError':'ar:trolley:prepay:payment:billingaddress:editpreferredaddress:fielderror'},{'billingEditAddress_uncheckPreferredAddress':'ar:trolley:prepay:payment:billingaddress:editaddress:uncheckpreferredaddress'},{'billingEditAddress_saveAddressSuccess':'ar:trolley:prepay:payment:billingaddress:editaddress:saveaddresssuccess'},{'billingNewAddress_setAsPreferredAddress':'ar:trolley:prepay:payment:billingaddress:newaddress:setaspreferredaddress'},{'billingNewAddress_uncheckPreferredAddress':'ar:trolley:prepay:payment:billingaddress:newaddress:uncheckpreferredaddress'},{'billingNewAddress_saveAddressSuccess':'ar:trolley:prepay:payment:billingaddress:newaddress:saveaddresssuccess'},{'promoCode_applied':'ar:trolley:prepay:payment:promogiftcard:promocodeinput'},{'promoCode_invalid':'ar:trolley:prepay:payment:promogiftcard:promocodeinvalid'},{'changeBillingAddress':'ar:trolley:prepay:payment:changebillingaddress'},{'whatIsThisLinkFor_Show':'ar:trolley:prepay:payment:whatislinkfor:show'},{'whatIsThisLinkFor_Hide':'ar:trolley:prepay:payment:whatislinkfor:hide'},{'choosePaymentOption_newCardTab':'ar:payment:choosepayment:newcard'},{'choosePaymentOption_savedCardTab':'ar:payment:choosepayment:savedcard'},{'termsAndConditions':'ar:trolley:prepay:payment:termsandconditions'},{'footerPrivacyHub':'ar:trolley:prepay:payment:footer:privacyhub'},{'footerPrivacyPolicy':'ar:trolley:prepay:payment:footer:privacypolicy'},{'footerCookiePolicy':'ar:trolley:prepay:payment:footer:cookiepolicy'},{'footerTermsAndConditions':'ar:trolley:prepay:payment:footer:termsandconditions'},{'viewAllItems':'ar:trolley:prepay:payment:viewallitems'},{'viewItems':'ar:trolley:prepay:payment:viewitems'},{'viewTotal':'ar:trolley:prepay:payment:viewtotal'},{'closeOrderSummary':'ar:trolley:prepay:payment:closeordersummary'},{'openPromoGiftCardSummary':'ar:trolley:prepay:payment:openpromogiftcardsummary'},{'addPromoCodeGiftCard':'ar:trolley:prepay:payment:addpromogiftcard'},{'removeGiftCard':'ar:trolley:prepay:payment:removegiftcard'},{'openNectarSummary':'ar:trolley:prepay:payment:opennectarsummary'},{'changeNectar':'ar:trolley:prepay:payment:changenectar'},{'removePromoCodeSuccess':'ar:trolley:prepay:payment:removepromocodesuccess'},{'removePromoCodeFailure':'ar:trolley:prepay:payment:removepromocodefailure'},{'argosCheckoutError_BackToTrolley':'ar:trolley:prepay:error:backtotrolley'},{'argosConfirmationError_BackToTrolley':'ar:trolley:prepay:confirmation:error:backtotrolley'},{'argosConfirmationError_ReturnToHome':'ar:trolley:prepay:confirmation:error:returntohome'},{'argosConfirmationError_WeCanHelp':'ar:trolley:prepay:confirmation:error:wecanhelp'},{'trolleyBreadcrumb':'ar:trolley:prepay:payment:trolleybreadcrumb'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['prop25Value']=c[e][f];m=true};};if(m)break};}},function(a,b,c,d,e,f,g){if(/^ar:trolley:homedelivery:payment/i.test(b['pageName'])){d=b['event'];if(typeof d=='undefined')return;c=[{'argosBusinessAccountCard_change':'ar:trolley:homedelivery:payment:argosbusinessaccountcard:change'},{'argosBusinessAccountCard_edit':'ar:trolley:homedelivery:payment:argosbusinessaccountcard:edit'},{'argosBusinessAccountCard_formFieldError':'ar:trolley:homedelivery:payment:argosbusinessaccountcard:fielderror'},{'argosBusinessAccountCard_formProgressionError':'ar:trolley:homedelivery:payment:argosbusinessaccountcard:formprogressionerror'},{'argosBusinessAccountCard_formProgressionSuccess':'ar:trolley:homedelivery:payment:argosbusinessaccountcard:formprogressionsuccess'},{'argosCardCreditPlan_afsHowDoIGetArgosCard':'ar:trolley:homedelivery:payment:argoscardchoosecreditplan:afs:howdoigetargoscard'},{'argosCardCreditPlan_afsHowItWorks':'ar:trolley:homedelivery:payment:argoscardchoosecreditplan:afs:howitworks'},{'argosCardCreditPlan_afsLegalStuff':'ar:trolley:homedelivery:payment:argoscardchoosecreditplan:afs:legalstuff'},{'argosCardDetails_change':'ar:trolley:homedelivery:payment:argoscarddetails:change'},{'argosCardDetails_edit':'ar:trolley:homedelivery:payment:argoscarddetails:edit'},{'billingAddress_AddNewAddress':'ar:trolley:homedelivery:payment:billingaddress:addnewaddress'},{'billingAddress_Close':'ar:trolley:homedelivery:payment:billingaddress:close'},{'billingAddress_DifferentAddress':'ar:trolley:homedelivery:payment:billingaddress:differentaddress'},{'billingEditAddress_addNewAddressLine':'ar:trolley:homedelivery:payment:billingaddress:editaddress:addline'},{'billingEditAddress_backToBilling':'ar:trolley:homedelivery:payment:billingaddress:editaddress:backtobilling'},{'billingEditAddress_close':'ar:trolley:homedelivery:payment:billingaddress:editaddress:close'},{'billingEditAddress_formFieldError':'ar:trolley:homedelivery:payment:billingaddress:editaddress:fielderror'},{'billingEditAddress_formProgressionError':'ar:trolley:homedelivery:payment:billingaddress:editaddress:formprogressionerror'},{'billingEditAddress_formProgressionSuccess':'ar:trolley:homedelivery:payment:billingaddress:editaddress:formprogressionsuccess'},{'billingEditAddress_noLandline':'ar:trolley:homedelivery:payment:billingaddress:editaddress:nolandline'},{'billingEditAddress_dontHaveMobile':'ar:trolley:homedelivery:payment:billingaddress:editaddress:nomobile'},{'billingEditAddress_saveAddress':'ar:trolley:homedelivery:payment:billingaddress:editaddress:saveaddress'},{'billingEditAddress_saveAddressSuccess':'ar:trolley:homedelivery:payment:billingaddress:editaddress:saveaddresssuccess'},{'billingEditAddress_setAsPreferredAddress':'ar:trolley:homedelivery:payment:billingaddress:editaddress:setaspreferredaddress'},{'billingEditAddress_uncheckPreferredAddress':'ar:trolley:homedelivery:payment:billingaddress:editaddress:uncheckpreferredaddress'},{'billingNewAddress_addNewAddressLine':'ar:trolley:homedelivery:payment:billingaddress:newaddress:addline'},{'billingNewAddress_backToBilling':'ar:trolley:homedelivery:payment:billingaddress:newaddress:backtobilling'},{'billingNewAddress_close':'ar:trolley:homedelivery:payment:billingaddress:newaddress:close'},{'billingNewAddress_formFieldError':'ar:trolley:homedelivery:payment:billingaddress:newaddress:fielderror'},{'billingNewAddress_formProgressionError':'ar:trolley:homedelivery:payment:billingaddress:newaddress:formprogressionerror'},{'billingNewAddress_formProgressionSuccess':'ar:trolley:homedelivery:payment:billingaddress:newaddress:formprogressionsuccess'},{'billingNewAddress_noLandline':'ar:trolley:homedelivery:payment:billingaddress:newaddress:nolandline'},{'billingNewAddress_dontHaveMobile':'ar:trolley:homedelivery:payment:billingaddress:newaddress:nomobile'},{'billingNewAddress_saveAddress':'ar:trolley:homedelivery:payment:billingaddress:newaddress:saveaddress'},{'billingNewAddress_saveAddressSuccess':'ar:trolley:homedelivery:payment:billingaddress:newaddress:saveaddresssuccess'},{'billingNewAddress_setAsPreferredAddress':'ar:trolley:homedelivery:payment:billingaddress:newaddress:setaspreferredaddress'},{'billingNewAddress_uncheckPreferredAddress':'ar:trolley:homedelivery:payment:billingaddress:newaddress:uncheckpreferredaddress'},{'billingAddress_SelectionAddress':'ar:trolley:homedelivery:payment:billingaddress:selectaddress'},{'confirmNectarPoints':'ar:trolley:homedelivery:payment:confirmnectarpoints'},{'creditDebitCard_changelink':'ar:trolley:homedelivery:payment:creditdebitcarddetails:paymentchange'},{'contactHelpLine':'ar:trolley:homedelivery:payment:nectarcard:contacthelpline'},{'send2FACodeAgain':'ar:trolley:homedelivery:payment:nectarcard:send2facodeagain'},{'confirmNectarPointsApplied':'ar:trolley:homedelivery:payment:nectarpointsapplied'},{'nectarSpendAmount':'ar:trolley:homedelivery:payment:nectarspendamount'},{'partialBillingAddress_addNewAddressLine':'ar:trolley:homedelivery:payment:partialbillingaddress:addline'},{'partialBillingAddress_formFieldError':'ar:trolley:homedelivery:payment:partialbillingaddress:fielderror'},{'partialBillingAddress_formProgressionError':'ar:trolley:homedelivery:payment:partialbillingaddress:formprogressionerror'},{'partialBillingAddress_formProgressionSuccess':'ar:trolley:homedelivery:payment:partialbillingaddress:formprogressionsuccess'},{'partialBillingAddress_dontHaveMobile':'ar:trolley:homedelivery:payment:partialbillingaddress:nomobile'},{'partialBillingAddress_saveAddress':'ar:trolley:homedelivery:payment:partialbillingaddress:saveaddress'},{'giftCard_formFieldError':'ar:trolley:homedelivery:payment:promogiftcard:giftcard:fielderror'},{'giftCard_formProgressionError':'ar:trolley:homedelivery:payment:promogiftcard:giftcard:formprogressionerror'},{'giftCard_formProgressionSuccess':'ar:trolley:homedelivery:payment:promogiftcard:giftcard:formprogressionsuccess'},{'giftCard_tab':'ar:trolley:homedelivery:payment:promogiftcard:giftcardtab'},{'promoCode_formFieldError':'ar:trolley:homedelivery:payment:promogiftcard:promocode:fielderror'},{'promoCode_formProgressionError':'ar:trolley:homedelivery:payment:promogiftcard:promocode:formprogressionerror'},{'promoCode_formProgressionSuccess':'ar:trolley:homedelivery:payment:promogiftcard:promocode:formprogressionsuccess'},{'promoCode_applied':'ar:trolley:homedelivery:payment:promogiftcard:promocodeinput'},{'promoCode_invalid':'ar:trolley:homedelivery:payment:promogiftcard:promocodeinvalid'},{'promoCode_tab':'ar:trolley:homedelivery:payment:promogiftcard:promocodetab'},{'switchToGiftCard':'ar:trolley:homedelivery:payment:promogiftcard:switchtogiftcard'},{'changeBillingAddress':'ar:trolley:homedelivery:payment:changebillingaddress'},{'whatIsThisLinkFor_Show':'ar:trolley:homedelivery:payment:whatislinkfor:show'},{'whatIsThisLinkFor_Hide':'ar:trolley:homedelivery:payment:whatislinkfor:hide'},{'choosePaymentOption_newCardTab':'ar:payment:choosepayment:newcard'},{'choosePaymentOption_savedCardTab':'ar:payment:choosepayment:savedcard'},{'termsAndConditions':'ar:trolley:homedelivery:payment:termsandconditions'},{'footerPrivacyHub':'ar:trolley:homedelivery:payment:footer:privacyhub'},{'footerPrivacyPolicy':'ar:trolley:homedelivery:payment:footer:privacypolicy'},{'footerCookiePolicy':'ar:trolley:homedelivery:payment:footer:cookiepolicy'},{'footerTermsAndConditions':'ar:trolley:homedelivery:payment:footer:termsandconditions'},{'deliveryBreadcrumb':'ar:trolley:homedelivery:payment:deliverybreadcrumb'},{'changeDetails':'ar:trolley:homedelivery:payment:changedeliverydetails'},{'viewAllItems':'ar:trolley:homedelivery:payment:viewallitems'},{'viewItems':'ar:trolley:homedelivery:payment:viewitems'},{'viewTotal':'ar:trolley:homedelivery:payment:viewtotal'},{'closeOrderSummary':'ar:trolley:homedelivery:payment:closeordersummary'},{'openPromoGiftCardSummary':'ar:trolley:homedelivery:payment:openpromogiftcardsummary'},{'addPromoCodeGiftCard':'ar:trolley:homedelivery:payment:addpromogiftcard'},{'removeGiftCard':'ar:trolley:homedelivery:payment:removegiftcard'},{'openNectarSummary':'ar:trolley:homedelivery:payment:opennectarsummary'},{'changeNectar':'ar:trolley:homedelivery:payment:changenectar'},{'removePromoCodeSuccess':'ar:trolley:homedelivery:payment:removepromocodesuccess'},{'removePromoCodeFailure':'ar:trolley:homedelivery:payment:removepromocodefailure'},{'trolleyBreadcrumb':'ar:trolley:homedelivery:payment:trolleybreadcrumb'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['prop25Value']=c[e][f];m=true};};if(m)break};}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | wishlist_initialLoad'.toLowerCase()){var wishlistProducts=[]
if(window.digitalData&&window.digitalData.page&&window.digitalData.page.wishlist&&window.digitalData.page.wishlist.length>0){wishlistProducts=window.digitalData.page.wishlist
b.productId=wishlistProducts}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var potentialUnitsAddition=[]
var potentialUnitsSubstraction=[]
function processPotentialUnitsTLP(qty,remove){var product=window.digitalData.cart.item[b.evtData.attributes.itemIndex]
var qtyDelta=parseFloat(qty||product.quantity)
if(qtyDelta<0||remove){potentialUnitsSubstraction.push(Math.abs(qtyDelta))}else{potentialUnitsAddition.push(qtyDelta)}}
if(b.event==='addToTrolley'){for(var x=0;x<b.evtData.attributes.product.length;x++){var product=b.evtData.attributes.product[x]
potentialUnitsAddition.push(product.quantity)}}else if(b.event==='addToTrolley_error'){for(var x=0;x<b.evtData.attributes.product.length;x++){var product=b.evtData.attributes.product[x]
potentialUnitsAddition.push(product.quantity)}}else if((b.pageName==='ar:trolley:trolleylist:'||b.pageName==='ar:trolley:trolleylist:empty:')&&b.sitePlatform==='react'){if(b.event==='tlp_itemQuantityChanged'){processPotentialUnitsTLP(b.evtData.attributes.itemQuantityDelta)}else if(b.event==='tlp_itemRemoved'){processPotentialUnitsTLP(null,true)}else if(b.event==='tlp_itemUndoRemoval'){processPotentialUnitsTLP()}}else if(b.event==='cnet_addToTrolley'){potentialUnitsAddition.push(1)}
if(potentialUnitsAddition.length){b.potentialUnitsAddition=potentialUnitsAddition}
if(potentialUnitsSubstraction.length){b.potentialUnitsSubstraction=potentialUnitsSubstraction}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var potentialRevenueAddition=[]
var potentialRevenueSubstraction=[]
function processPotentialRevenueTLP(qty,remove){var product=window.digitalData.cart.item[b.evtData.attributes.itemIndex]
var qtyDelta=qty||product.quantity
var price=product.price
if(qtyDelta<0||remove){potentialRevenueSubstraction.push(Math.abs(qtyDelta*price))}else{potentialRevenueAddition.push(qtyDelta*price)}}
if(b.event==='addToTrolley'){for(var x=0;x<b.evtData.attributes.product.length;x++){var product=b.evtData.attributes.product[x]
potentialRevenueAddition.push(product.price*product.quantity)}}else if(b.event==='addToTrolley_error'){for(var x=0;x<b.evtData.attributes.product.length;x++){var product=b.evtData.attributes.product[x]
potentialRevenueAddition.push(product.price*product.quantity)}}else if((b.pageName==='ar:trolley:trolleylist:'||b.pageName==='ar:trolley:trolleylist:empty:')&&b.sitePlatform==='react'){if(b.event==='tlp_itemQuantityChanged'){processPotentialRevenueTLP(b.evtData.attributes.itemQuantityDelta)}else if(b.event==='tlp_itemRemoved'){processPotentialRevenueTLP(null,true)}else if(b.event==='tlp_itemUndoRemoval'){processPotentialRevenueTLP()}}else if(b.event==='cnet_addToTrolley'){potentialRevenueAddition.push(b.evtDetails.productPrice)}
if(potentialRevenueAddition.length){b.potentialRevenueAddition=potentialRevenueAddition}
if(potentialRevenueSubstraction.length){b.potentialRevenueSubstraction=potentialRevenueSubstraction}
}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var collectionLeadtimeMessage=[]
var collectionAttributes=[]
var collectionStockStatusBrick=[]
var dd=window.digitalData
if(/pdp_.*API/.test(b.event)){var productAttributes=dd.product[0].attributes
var method=productAttributes.fulfillmentMethod.split('|')
var colMessage=productAttributes.collectionStockLevelMessage
var colStockCode=productAttributes.collectionStockCode.replace('|',':')
if(method.indexOf('collection')===-1){colMessage='(no collection option)'
if(colStockCode){collectionStockStatusBrick.push(colStockCode.toString())}else{collectionStockStatusBrick.push('')}}else if(colMessage){collectionStockStatusBrick.push(colStockCode.toString())}else{colMessage='(no location entered)'
collectionStockStatusBrick.push('')}
collectionLeadtimeMessage.push(colMessage)}else if(b.pageName==='ar:trolley:trolleylist:'){if(/mobile/i.test(b['dom.pathname'])&&b.sitePlatform==='wcs'&&b.event==='pageview'){collectionLeadtimeMessage=window.jQuery('.collectionWithRadio').map(function(){return window.jQuery(this).text().trim()}).toArray()
collectionStockStatusBrick=window.s.prop63.match(/tlp:\[(.*)\]/)[1].split('|')}else if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item){var cartItems=window.digitalData.cart.item.filter(function(p){return!p.isRemoved})
if(b.event==='tlp_alternativeProductRecommendationsLightBoxReplaceItem'){var replacementSku=cartItems.find(function(i){return i.id===b.evtData.attributes.replacementSKU});if(replacementSku){collectionLeadtimeMessage.push(replacementSku.stock.collectionLeadtimeMessage);collectionStockStatusBrick.push(replacementSku.stock.collectionLeadtimeCode.replace('|',':'));}}else{for(var x=0;x<cartItems.length;x++){var match=false
if(b.event==='tlp_initialLoad'||b.event==='tlp_fulfilmentTypeChanged'||b.event==='tlp_newPostCodeSelected'||b.event==='tlp_newStoreSelected'||b.event==="tlp_recommendedStoreSelected"){var leadtimeCode
var leadtimeMessage
if(cartItems[x].stock&&cartItems[x].stock.collectionLeadtimeCode&&cartItems[x].stock.collectionLeadtimeCode.length>0&&cartItems[x].stock.collectionLeadtimeCode!='undefined'){leadtimeCode=cartItems[x].stock.collectionLeadtimeCode.replace('|',':')}else{leadtimeCode=''}
if(cartItems[x].stock&&cartItems[x].stock.collectionLeadtimeMessage&&cartItems[x].stock.collectionLeadtimeMessage.length>0&&cartItems[x].stock.collectionLeadtimeMessage!='undefined'){leadtimeMessage=cartItems[x].stock.collectionLeadtimeMessage}else{leadtimeMessage=''}
match=true}else if(b.event==='pageview'&&b.sitePlatform==='wcs'){leadtimeCode=cartItems[x].storeStock
leadtimeMessage=window.jQuery('.message[data-el^=main-trolley-collection-message] ').eq(x).text().trim()
match=true}
if(match){collectionLeadtimeMessage.push(leadtimeMessage)
collectionStockStatusBrick.push(leadtimeCode)}}}}}
if(collectionLeadtimeMessage.length){collectionLeadtimeMessage=cleanIt(collectionLeadtimeMessage.map(function(l){var r
if(/<strong>/.test(l)){r=l.replace(/<strong>.*<\/strong>/,'(store name)')}else{r=l.replace(/(.* (to|at) )(.*)/,'$1'+'(store name)')}
return r.trim()}))
b.collectionLeadtimeMessage=collectionLeadtimeMessage}
if(collectionLeadtimeMessage[0]||collectionStockStatusBrick[0]){for(var itemN=0;itemN<collectionLeadtimeMessage.length;itemN++){collectionAttributes.push(window.utag.data.createUDOString([collectionLeadtimeMessage[itemN],collectionStockStatusBrick[itemN]],null,true))}
b.collectionAttributes=collectionAttributes}
if(collectionStockStatusBrick.length){b.collectionStockCode=collectionStockStatusBrick
var validCollectionCode=collectionStockStatusBrick.filter(function(p){return(p.length>0&&typeof p!='undefined')})
var collectionStockCodeList=validCollectionCode.map(function(el){return el}).join('~')
b.collectionStockCodeList=collectionStockCodeList}
if(collectionStockStatusBrick.length){b.collectionStockStatus_brick=collectionStockStatusBrick
var demandStockMessage=[]
for(x=0;x<collectionStockStatusBrick.length;x++){var curColStockStatus=parseInt(collectionStockStatusBrick[x])
var aoCurColStockStatus=collectionStockStatusBrick[x].toString()
var curDemandStockMessage=''
if(b.pageType==='pdp'||b.pageType==='trolley'||(/OrderItemDisplayMobile/i.test(b['dom.pathname'])&&b.sitePlatform==='wcs')){if(aoCurColStockStatus.substring(0,1)==='c'){curDemandStockMessage=checkAOStockCodes(aoCurColStockStatus.split(':')[0])}
demandStockMessage.push(curDemandStockMessage)}}
if(demandStockMessage.length){b.demandStockMessage=demandStockMessage
b.demandStockEvent89=demandStockMessage.map(function(el){return(el==='in-stock'||el==='leadtime')?'1':''})
b.demandStockEvent100=demandStockMessage.map(function(el){return(el==='leadtime')?'1':''})
b.demandStockEvent7=demandStockMessage.map(function(el){return(el==='oos')?'1':''})}
var demandStockLocation=''
if(b.pageType==='pdp'){if(b.demandStockEvent89&&b.demandStockMessage==='in-stock'){demandStockLocation='pdp:reservation:in-stock'}else if(b.demandStockEvent100&&demandStockMessage==='leadtime'){demandStockLocation='pdp:reservation:walk-away'}else if(b.demandStockEvent7&&b.demandStockMessage==='oos'){demandStockLocation='pdp:reservation:oos'}}else if(b.pageType==='trolley'){var oos=demandStockMessage.indexOf('oos')+1
var leadtime=demandStockMessage.indexOf('leadtime')+1
if(oos&&leadtime){demandStockLocation='tlp:reservation:mixed:'}else if(oos){demandStockLocation='tlp:reservation:oos:'}else if(leadtime){demandStockLocation='tlp:reservation:walk-away:'}}
if(demandStockLocation){b.demandStockLocation=demandStockLocation}}
function checkAOStockCodes(colStockCode){var demandStockMessage
switch(colStockCode){case'c1':case'c1-q':demandStockMessage='in-stock'
break
case'c2':case'c3':case'c4':case'c2-q':case'c3-q':case'c4-q':demandStockMessage='leadtime'
break
case'c5':case'c5-tu':demandStockMessage='oos'
break}
return demandStockMessage}
function cleanIt(myVar){var cleanString=function(myString){return myString.replace(/~|>|,|;|\|/g,'')}
if(Array.isArray(myVar)){return myVar.map(function(el){return cleanString(el)})}else{return cleanString(myVar)}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var deliveryCost
if(window.s&&window.s.products&&/event86=/.test(window.s.products)){deliveryCost=window.s.products.match(/event86=([0-9.]*)(\||;)/)[1]}else if(window.digitalData&&window.digitalData.cart){if(b.sitePlatform==='wcs'){deliveryCost=document.querySelector('.checkout-total-delivery').innerHTML}else if(b.sitePlatform==='wcs'){deliveryCost=window.digitalData.cart.price.deliveryCost}}else{var homeDelPayment=document.getElementById('orderSummaryDeliveryCharge')
if(homeDelPayment){deliveryCost=homeDelPayment.innerHTML}}
if(deliveryCost){deliveryCost=deliveryCost.toString().trim().match(/\d+\.?\d+/)
if(deliveryCost){b.deliveryCost=deliveryCost[0]}}
var deliveryLeadtimeMessage=[]
var deliveryAttributes=[]
var deliveryStockStatusBrick=[]
var dd=window.digitalData
if(/pdp_.*API/.test(b.event)){var productAttributes=dd.product[0].attributes
var method=productAttributes.fulfillmentMethod.split('|')
var deliveryMessage=productAttributes.deliveryStockLevelMessage
var delStockCode=productAttributes.deliveryStockCode.replace('|',':')
if(method.indexOf('delivery')===-1){deliveryMessage='(no delivery option)'
if(delStockCode){deliveryStockStatusBrick.push(delStockCode.toString())}else{deliveryStockStatusBrick.push('')}}else if(deliveryMessage){deliveryStockStatusBrick.push(delStockCode.toString())}else{deliveryMessage='(no postcode entered)'
deliveryStockStatusBrick.push('')}
deliveryLeadtimeMessage.push(deliveryMessage)}else if(b.pageName==='ar:trolley:trolleylist:'){if(/mobile/i.test(b['dom.pathname'])&&b.event==='pageview'&&b.sitePlatform==='wcs'){deliveryLeadtimeMessage=window.jQuery('.deliveryWithRadio').map(function(){return window.jQuery(this).text().trim().replace(/,|;|\|/g,'')}).toArray()
for(var i=0;i<deliveryLeadtimeMessage.length;i++){deliveryStockStatusBrick.push('')}}else if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item){var cartItems=window.digitalData.cart.item.filter(function(p){return!p.isRemoved})
if(b.event==='tlp_alternativeProductRecommendationsLightBoxReplaceItem'){var replacementSku=cartItems.find(function(i){return i.id===b.evtData.attributes.replacementSKU});if(replacementSku){deliveryLeadtimeMessage.push(replacementSku.stock.deliveryLeadtimeMessage);deliveryStockStatusBrick.push(replacementSku.stock.deliveryLeadtimeCode.replace('|',':'));}}else{for(var x=0;x<cartItems.length;x++){var match=false
if(b.event==='tlp_initialLoad'||b.event==='tlp_fulfilmentTypeChanged'||b.event==='tlp_newPostCodeSelected'||b.event==='tlp_newStoreSelected'||b.event==="tlp_recommendedStoreSelected"){var leadtimeCode
var leadtimeMessage
if(cartItems[x].stock&&cartItems[x].stock.deliveryLeadtimeCode&&cartItems[x].stock.deliveryLeadtimeCode.length>0&&cartItems[x].stock.deliveryLeadtimeCode!='undefined'){leadtimeCode=cartItems[x].stock.deliveryLeadtimeCode.replace('|',':')}else{leadtimeCode=''}
if(cartItems[x].stock&&cartItems[x].stock.deliveryLeadtimeMessage&&cartItems[x].stock.deliveryLeadtimeMessage.length>0&&cartItems[x].stock.deliveryLeadtimeMessage!='undefined'){leadtimeMessage=cartItems[x].stock.deliveryLeadtimeMessage}else{leadtimeMessage=''}
match=true}else if(b.event==='pageview'&&b.sitePlatform==='wcs'){leadtimeCode=''
leadtimeMessage=window.jQuery('.message[data-el^=main-trolley-homedelivery-message] ').eq(x).text().trim()
match=true}
if(match){deliveryLeadtimeMessage.push(leadtimeMessage)
deliveryStockStatusBrick.push(leadtimeCode)}}}}}else if(b.pageName==='ar:trolley:buy:arrangedelivery:'&&b.event==='pageview'&&b.sitePlatform==='wcs'&&b.productId){if(window.s&&window.s.products&&/evar62=/.test(window.s.products)){var productStockCode=[]
var addressChangeAD=false
productStockCode=getProductStockCode(window.s)
if(window.s&&window.s.hasOwnProperty('prop45')){if(window.s.prop45==='1'){addressChangeAD=true}}
b.addressChangeAD=addressChangeAD}
if(b.productId.length===productStockCode.length){for(var x=0;x<productStockCode.length;x++){deliveryStockStatusBrick.push(productStockCode[x])}}}
else if(b.tealium_event==='pl | Arrange Delivery'&&b.productId){if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item&&Array.isArray(window.digitalData.cart.item)&&window.digitalData.cart.item[0]&&window.digitalData.cart.item[0].deliveryStockCode){var items=window.digitalData.cart.item
var productStockCode=[]
b.addressChangeAD=false
productStockCode=items.map(function(item){return item.deliveryStockCode})
if(b.ddPage&&b.ddPage.attributes&&b.ddPage.attributes.deliveryAddressChanged&&typeof b.ddPage.attributes.deliveryAddressChanged==='boolean'){b.addressChangeAD=b.ddPage.attributes.deliveryAddressChanged}}
if(b.productId.length===productStockCode.length){for(var x=0;x<productStockCode.length;x++){deliveryStockStatusBrick.push(productStockCode[x])}}}
if(deliveryLeadtimeMessage.length){deliveryLeadtimeMessage=cleanIt(deliveryLeadtimeMessage.map(function(l){var r
if(/<strong>/.test(l)){r=l.replace(/<strong>.*<\/strong>/,'(postcode)')}else if(/pre-order/i.test(l)){r=l}else{r=l.replace(/(.* to )(.*)/,'$1'+'(postcode)')}
return r}))
b.deliveryLeadtimeMessage=deliveryLeadtimeMessage}
if(deliveryLeadtimeMessage[0]||deliveryStockStatusBrick[0]){for(var itemN=0;itemN<deliveryLeadtimeMessage.length;itemN++){deliveryAttributes.push(window.utag.data.createUDOString([deliveryLeadtimeMessage[itemN],deliveryStockStatusBrick[itemN]],null,true))}
b.deliveryAttributes=deliveryAttributes}
if(deliveryStockStatusBrick.length){b.deliveryStockStatus_brick=deliveryStockStatusBrick
b.deliveryStockCode=deliveryStockStatusBrick
var validDeliveryCode=deliveryStockStatusBrick.filter(function(p){return(p.length>0&&typeof p!='undefined')})
var deliveryStockCodeList=validDeliveryCode.map(function(el){return el}).join('~')
b.deliveryStockCodeList=deliveryStockCodeList
var deliveryStockMessage=[]
for(x=0;x<deliveryStockStatusBrick.length;x++){var curDelStockStatus=parseInt(deliveryStockStatusBrick[x])
var aoCurDelStockStatus=deliveryStockStatusBrick[x].toString()
var curDeliveryStockMessage=''
if(b.pageType==='pdp'||b.pageType==='trolley'||(/OrderItemDisplayMobile/i.test(b['dom.pathname'])&&b.sitePlatform==='wcs')){if(aoCurDelStockStatus.substring(0,1)==='d'){curDeliveryStockMessage=checkAOStockCodes(aoCurDelStockStatus.split(':')[0])}
deliveryStockMessage.push(curDeliveryStockMessage)}}
if(deliveryStockMessage.length){b.aoDeliveryStockStatus=deliveryStockMessage
b.deliveryStockEvent13=deliveryStockMessage.map(function(el){return(el==='instock-sameday')?'1':''})
b.deliveryStockEvent14=deliveryStockMessage.map(function(el){return(el==='instock-leadtime')?'1':''})
b.deliveryStockEvent15=deliveryStockMessage.map(function(el){return(el==='out-of-stock')?'1':''})}}
function checkAOStockCodes(delStockCode){var deliveryStockMessage
switch(delStockCode){case'd2-1m':case'd3-1m':case'd2-2m':case'd3-2m':case'd2-1m-q':case'd3-1m-q':case'd2-2m-q':case'd3-2m-q':deliveryStockMessage='instock-leadtime'
break;case'd1-1m':case'd1-2m':case'd1-1m-q':case'd1-2m-q':deliveryStockMessage='instock-sameday'
break;case'd4':case'd4-tu':deliveryStockMessage='out-of-stock'
break;}
return deliveryStockMessage}
function getProductStockCode(scope){var deliveryStockCode=''
if(scope.products){deliveryStockCode=[]
var prods=scope.products.split(',')
var stockCodeString
for(var x=0;x<prods.length;x++){stockCodeString=prods[x].split(';')[5].split('|')[0].replace('evar62=','')
deliveryStockCode.push(stockCodeString)}}
return deliveryStockCode}
function cleanIt(itm){var reg=new RegExp(/~|>|,|;|\|/,'g')
return window.utag.data.removeCharacters(itm,reg)}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.sitePlatform==='react'){if(window.digitalData?.cart?.price&&window.digitalData.cart.price?.deliveryCost!==undefined){b.deliveryCost=typeof window.digitalData.cart.price.deliveryCost==='number'?window.digitalData.cart.price.deliveryCost:0;}else if(window.digitalData?.transaction?.price&&window.digitalData.transaction?.price?.deliveryCost!==undefined){b.deliveryCost=typeof window.digitalData.transaction.price.deliveryCost==='number'?window.digitalData.transaction.price.deliveryCost:0;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().indexOf('pl | addToTrolleyLbPage')>-1||b['tealium_event']=='pl | essentialExtrasATTLbPage'){b.recommendationPlacement=[]
b.recommendation=[]
b.recommendationCategoryPlacement=[]
b.recommendationCategory=[]
var lightboxType
if(b.tealium_event=='pl | addToTrolleyLbPage'){lightboxType='attLb:'}else if(b.tealium_event=='pl | essentialExtrasATTLbPage'){lightboxType='eeLb:'}
if(dd&&dd.page&&dd.page.lightBox&&dd.page.lightBox.module&&dd.page.lightBox.module.length>0){var m=dd.page.lightBox.module
for(var i=0;i<m.length;i++){var currentRec=m[i]
if(currentRec.product&&currentRec.model&&currentRec.sectionTitle){b.recommendationPlacement.push(lightboxType+currentRec.model)
b.recommendation.push(lightboxType+currentRec.sectionTitle)}else if(currentRec.category&&currentRec.model&&currentRec.sectionTitle){b.recommendationCategoryPlacement.push(lightboxType+currentRec.model)
b.recommendationCategory.push(lightboxType+currentRec.sectionTitle)}}
b.recommendationCategoryPlacement=b.recommendationCategoryPlacement.join('|')
b.recommendationCategory=b.recommendationCategory.join('|')}
if(utag.data['cp.PDP_Test_Group_1']&&utag.data['cp.PDP_Test_Group_1']==='2'&&lightboxType&&lightboxType=='attLb:'){b.recommendationPlacement=null
b.recommendation=null
b.recommendationCategoryPlacement=null
b.recommendationCategory=null}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(/DeliveryConfirmation(Mobile)?View/i.test(b['dom.pathname'])){if(window.s&&window.s.products){var revenue=[]
var prods=window.s.products.split(',')
for(var x=0;x<prods.length;x++){var product=prods[x]
var thisProdSplit=product.split(';')
var resAndPrepayPatternMatch=product.match(/event(10|77)=([0-9.]*)/i)
var thisProdRevenue=0
if(resAndPrepayPatternMatch){thisProdRevenue=resAndPrepayPatternMatch[2]}else if(thisProdSplit[3]){thisProdRevenue=thisProdSplit[3]}
revenue.push(parseFloat(thisProdRevenue))}
if(revenue.length){b.revenue=revenue}}
if(typeof window.jQuery==='function'){var $=window.jQuery
var isMobile=/Mobile/.test(b['dom.pathname'])
if(isMobile){var discountsClass='.offer-price'}else{discountsClass='.price-promo'}
var discounts=$(discountsClass).toArray().filter(function(el){return/Â£/.test(el.innerText)}).map(function(el){return parseFloat(el.innerText.replace('Â£',''))})
if(discounts.length){b.totalDiscount=discounts.reduce(function(acc,val){return acc+val},0)}
if(isMobile){var productOriginalPrice=$('.wrapper-order-confirmation-summary-table .price')}else{productOriginalPrice=$('.order-confirmation-summary-table.order-confirmation-summary-details tbody tr .price')}
productOriginalPrice=productOriginalPrice.toArray().map(function(el){return parseFloat(el.innerText.replace('Â£',''))})
if(productOriginalPrice.length){b.productOriginalPrice=productOriginalPrice
if(productOriginalPrice.length===revenue.length){var productDiscount=[]
var atLeastOneDifference=false
for(var p=0;p<revenue.length;p++){var difference=productOriginalPrice[p]-revenue[p]
if(difference>0){atLeastOneDifference=true}else{difference=''}
productDiscount.push(Number(difference.toFixed(2)))}
if(atLeastOneDifference){b.productDiscount=productDiscount}}}}}else if(/Confirmation_initialLoad/i.test(b.event)){var transaction=b.dd.transaction
b.revenue=[]
b.productOriginalPrice=[]
transaction.item.forEach(function(item){b.revenue.push(item.price*item.quantity)
b.productOriginalPrice.push(item.originalPrice*item.quantity)})
b.totalDiscount=transaction.price.savings}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.screenResolution=(window.screen.width*window.devicePixelRatio)+'x'+(window.screen.height*window.devicePixelRatio)}}catch(e){utag.DB(e)}},function(a,b){try{if((/^pl \|/i.test(b['tealium_event'])&&b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1)||(b['tealium_event'].toString().toLowerCase().indexOf('page view'.toLowerCase())>-1&&b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1)){window.utag_data.c_d('prev_vals','/')
var domain=getDomain()
function getDomain(){var bits=document.location.host.split('.');return'.'+bits.slice(Math.max(bits.length-3,1)).join('.');}
if(window.utag.data.c_r('prev_vals')){var prevVals=decodeURIComponent(window.utag.data.c_r('prev_vals'))
b.previousPageName=prevVals.split('*|*')[0]
b.previousSiteSection=prevVals.split('*|*')[1]}
if(!/prod/i.test(b['ut.env'])){console.log('++++++++ prev_vals:',b['cp.prev_vals']);}
if(b.pageName&&b.siteSection){window.utag.data.c_w('prev_vals',b.pageName+'*|*'+b.siteSection,0,'/',domain)}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){function assignOrigin(pageType){switch(true){case/^gpdp\[\S+\]/.test(pageType):case/^gpdp\S*/.test(pageType):
      return 'pdp_google';
    case /pdp\[\S+\]/.test(pageType):case/^pdp\S*/.test(pageType):
      return 'pdp';
    case pageType === 'event':
      return 'events';
    default:
      return '';
  }
}

if (b['qp.rec'] && /pdp_initialLoad|searchResults|PLPResults/i.test(b.event)){if(!dataUtils.isPageReload()&&(b['dom.referrer']?.includes('argos')||b.previousPageName?.includes('ar'))){let recQp=b['qp.rec']?.replace(/\[|\]/g,'')?.toLowerCase();let recArray=recQp?.split(':');let pageType=recArray[0]||'';let placement=recArray[1]||'';let innerPlacement=recArray[2]||'';let title=recArray[3]||'';let recommendationType=recArray[4]||'';let productId=recArray[5]||'';let randString=recArray[6]||'';let productClickPosition=recArray[7]||'';let productType=recArray[8]||'';let tabType=recArray[9]||'';let buttonName=recArray[10]||'';let isLightbox=placement?.includes('lightbox');let clickOrigin=assignOrigin(pageType)||pageType;const lightboxCheck=isLightbox?placement:clickOrigin;let recommendation=tabType?pageType+':'+placement+':'+title+':'+recommendationType:clickOrigin+':'+recommendationType+':'+title;const recommendationPlacementBase=tabType?pageType+':'+placement+':'+innerPlacement:lightboxCheck+':'+recommendationType+':'+innerPlacement;let recommendationPlacement=tabType&&tabType!=='none'?recommendationPlacementBase+':'+tabType:recommendationPlacementBase;let recommendationClickAttributesBase=pageType+':'+placement+':'+innerPlacement+':'+title+':'+recommendationType+':'+productId+':'+productClickPosition;let recommendationClickAttributesPersonalisation=(productType?':'+productType:'')+(tabType?':'+tabType:'')+(buttonName?':'+buttonName:'');b.recommendationClickAttributesEventId=randString;recommendationPlacement=clickOrigin?.includes('pdp')||isLightbox?recommendationPlacementBase:recommendationPlacement;recommendation=clickOrigin?.includes('pdp')||isLightbox?lightboxCheck+':'+title:recommendation;if(/category/i.test(recQp)){b.recommendationCategoryClickAttributes=recommendationClickAttributesBase;b.recommendationCategoryPlacement=recommendationPlacement;b.recommendationCategory=recommendation;}else{b.recommendationClickAttributes=recommendationClickAttributesPersonalisation?recommendationClickAttributesBase+recommendationClickAttributesPersonalisation:recommendationClickAttributesBase;b.recommendationPlacement=[recommendationPlacement];b.recommendation=[recommendation];}
b.event_array=b.event_array||[];if(buttonName){b.prop25Value=(pageType+':click:'+buttonName).toLowerCase();b.event_array.push('event115');}}}
if(b['qp.recl']){b.prop25Value=b['qp.recl']?b['qp.recl'].toLowerCase():'';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{if((typeof b.searchMethodAndTerm==='undefined'||b.searchMethodAndTerm===null)&&(b["qp.clickOrigin"]==='undefined'||b["qp.clickOrigin"]===null)){var wcsPageviewTrigger=/wcs/i.test(b.sitePlatform)&&/page view/i.test(b.tealium_event)
var reactPageviewTrigger=/react/i.test(b.sitePlatform)&&/^pl \|/i.test(b.tealium_event)
if(reactPageviewTrigger||wcsPageviewTrigger){var cookieValue=window.utag.data.c_r('_cl_ev')
if(cookieValue){cookieValue=JSON.parse(window.atob(decodeURIComponent(cookieValue)))
if(cookieValue.r==='searchBar'){b.searchOnclickTerm=cookieValue.v.split(':auto')[0]
if(/pdp/i.test(b.pageType)){b.searchOnclickType='sku'}else if(/:auto$/.test(cookieValue.v)){b.searchOnclickType='auto'}else{b.searchOnclickType='term'}
if(b.pageName=="ar:search:noresults:"){var pageType
pageType='nr'+b.pageType}else if(b.pageName=="ar:pdp-404:"){pageType='nrpdp'}else{pageType=b.pageType}
b.searchMethodAndTerm=window.utag_data.createUDOString([b.searchOnclickType,pageType,b.searchOnclickTerm])
window.utag.data.c_d('_cl_ev','/','.argos.co.uk')}}}}}
catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var clickOrigin=b["qp.clickOrigin"]
if((clickOrigin&&/^(header|searchbar)/.test(clickOrigin))&&(typeof b.searchMethodAndTerm==='undefined'||b.searchMethodAndTerm===null)){var pageType
var header="Storage Data: "
clickOriginArray=clickOrigin.split(":")
if(b.previousSiteSection){if(clickOriginArray[1].indexOf(b.previousSiteSection.replace(/(ar:)|(:$)/g,""))>-1){b.headerInteraction=clickOrigin
if(/^searchbar/.test(clickOrigin)){b.searchOnclickType=clickOriginArray[2]
b.searchOnclickTerm=clickOriginArray[clickOriginArray.length-1]
if(b.pageName=="ar:search:noresults:"){pageType='nr'+b.pageType}else if(b.pageName=="ar:pdp-404:"){pageType='nrpdp'}else{pageType=b.pageType}
b.searchMethodAndTerm=window.utag_data.createUDOString([b.searchOnclickType,pageType,b.searchOnclickTerm])
b.headerInteraction=clickOriginArray.slice(0,3).join(":")}}else{b.debug=header+"previousSiteSection not matching"}}else{b.debug=header+"previousSiteSection missing"}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var d=new Date()
var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday']
b.timePathing=days[d.getDay()]+'|'+d.getHours()+':'+(d.getMinutes()<10?'0':'')+d.getMinutes()}}catch(e){utag.DB(e)}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('functional:1'.toLowerCase())>-1){var storeIdBrick
if(/storeSelectorSelectThisStore|prepayConfirmation_showStoreDetails/.test(b.event)){storeIdBrick=b.evtData.attributes.store}else if(b.pageType==='pdp'){storeIdBrick=window.digitalData.product[0].attributes.storeID}else if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item&&window.digitalData.cart.item.length){if(b.sitePlatform==='react'){storeIdBrick=window.digitalData.user[0].profile[0].localisation.store}else{storeIdBrick=window.digitalData.cart.item[0].attributes.storeID}}else if(b.event==='myAccount_orderDetails'){storeIdBrick=window.digitalData.order[window.digitalData.order.length-1].orderInfo.storeID}else if(b.event==='collectionConfirmation_initialLoad'||b.event==='prepayConfirmation_initialLoad'){storeIdBrick=window.digitalData.transaction.storeId}else if(window.s){if(window.s.prop49){storeIdBrick=window.s.prop49}else if(window.s.eVar18){storeIdBrick=window.s.eVar18}}
if(storeIdBrick){storeIdBrick=storeIdBrick.toString()
var storeIdArray=window.utag.data.c_r('sids')
if(storeIdArray){storeIdArray=JSON.parse(window.atob(decodeURIComponent(storeIdArray)))
storeIdArray.push(storeIdBrick)
storeIdArray=storeIdArray.reduce(function(a,b){if(a.indexOf(b)<0)a.push(b);return a},[])}else{storeIdArray=[storeIdBrick]}
b.storeId_array=storeIdArray
b.storeId_brick=storeIdBrick
b.storeId=window.utag.data.createUDOString([b.pageType,storeIdBrick])
window.utag.data.c_w('sids',window.btoa(JSON.stringify(storeIdArray)),null,'/','argos.co.uk')
b.countOfStoreId=storeIdArray.length}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['event'].toString().toLowerCase()=='pdp_SLNewStoreStockAPIs'.toLowerCase()||b['event'].toString().toLowerCase()=='pdp_newHDPostcodeStockAPIs'.toLowerCase()||b['event'].toString().toLowerCase()=='tlp_storeSelectorSelectThisStore'.toLowerCase()||b['event'].toString().toLowerCase()=='pdp_storeSelectorSelectThisStore'.toLowerCase()||b['event'].toString().toLowerCase()=='pdp_AlternativeNewStoreStockAPIs'.toLowerCase()||b['event'].toString().toLowerCase()=='tlp_newPostCodeSelected'.toLowerCase()||b['event'].toString().toLowerCase()=='tlp_newStoreSelected'.toLowerCase()){b.localisationEvent=true}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var extensionName='Extension UID: 34, \'UDO: Localisation Method, Status\'';var localisedPostcode=decodeURIComponent(window.utag_data.c_r('PostCodeSessionCookie'))
var localisedStore=decodeURIComponent(window.utag_data.c_r('StoreSelectorLocalisationState'))
b.localisationStatus='Non-Localised'
if(window.utag.data.c_r('sids')&&window.utag.data.c_r('sids').length>0){b.localisationStatus='Localised'}else if(b.countOfStoreId){b.localisationStatus='Localised'}else if(localisedPostcode&&localisedPostcode!='undefined'&&localisedPostcode.length>4){b.localisationStatus='Localised'}else if(localisedStore&&localisedStore!='undefined'&&localisedStore.length>1){b.localisationStatus='Localised'}else if(b.localisationEvent){b.localisationStatus='Localised'}else if(window.digitalData&&window.digitalData.user&&window.digitalData.user[0].profile[0].attributes&&(window.digitalData.user[0].profile[0].attributes.globalView===false||(window.digitalData.user[0].profile[0].localisation&&window.digitalData.user[0].profile[0].localisation.status===true))){b.localisationStatus='Localised'}else if(window.s&&(window.s.prop52||window.s.prop49||(window.s.pageName&&/ar:trolley/i.test(window.s.pageName)&&!/trolleylist/i.test(window.s.pageName)))){b.localisationStatus='Localised'}else if(b.ddPage&&b.ddPage.attributes&&b.ddPage.attributes.globalView===false&&/^ar:mpp:/gi.test(b.siteSection)){b.localisationStatus='Localised'}
if(b.event==='pdp_SLNewStoreStockAPIs'||b.event==='pdp_newHDPostcodeStockAPIs'||b.event==='pdp_deliveryLocationCheck'){window.utag_data.localisationMethod='manual'}
if(window.utag_data.localisationMethod==='manual'){b.localisationMethod='manual'}else if(b['qp.storeID']&&b.storeId_brick&&b['qp.storeID'].toString()===b.storeId_brick.toString()){b.localisationMethod='marketing'}else if(b.storeId_brick){b.localisationMethod='system'}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.pageType.indexOf('404')>-1||b.pageType.toLowerCase().indexOf('CLP')>-1){b.prop71=b.pageType}else if(b.event==='pdp_storeLocatorNewPage'){b.prop71='pdp:sl:'+b.localisationStatus}else if(b.event==='pdp_addToTrolley'){b.prop71='pdp:'+b.localisationStatus}else if(/plp/i.test(b.pageType)){if(window.digitalData.page.category.isPlpPlusDescendant===true){b.prop71='plp:child'}else if(window.digitalData.page.category.isPlpPlusDescendant===false){b.prop71='plp:standard'}else{b.prop71='plpPlus'}}else if(/slp/i.test(b.pageType)){if(b.pageType.toLowerCase()==='slp_canned'){b.prop71='slp:canned'}else if(b.pageName==='ar:search:noresults:'){b.prop71='slp:noresults'}else{b.prop71='slp:natural'}}else if(b.event==='ma_timeoutDisplayed'){b.prop71='ar:myaccount:registration:timeOutDisplayed:'}else if(b.event==='ma_rescheduleDeliveryDisplayed'){b.prop71='ar:myaccount:orderDetails:rescheduledelivery:'}else if(b.event==='yd_initialLoad'||b.event==='prepay_partial'){b.prop71=window.digitalData.page.pageInfo.attributes.journeySegmentation}else if(window.digitalData&&window.digitalData.page&&window.digitalData.page.pageInfo&&window.digitalData.page.pageInfo.pageName&&window.digitalData.page.attributes&&window.digitalData.page.attributes.fulfilmentType){b.prop71=window.digitalData.page.pageInfo.pageName+window.digitalData.page.attributes.fulfilmentType}else if(typeof(b['js_page.s.prop71'])!='undefined'){b.prop71=b['js_page.s.prop71']}else if(/^creditApplication/.test(b.event)||/^mpp_/.test(b.event)){b.prop71=window.digitalData.page.attributes.journeyType}else if(b['js_page.digitalData.cart.selectedFulfilmentType']&&(b.event==='tlp_fulfilmentTypeChanged'||b.event==='tlp_initialLoad')){b.prop71=b['siteSection']+'selectedFulfilment:'+b['js_page.digitalData.cart.selectedFulfilmentType']}else if(b.event==='tlp_productRecommendationLbPage'&&b.ddLightbox.clickOrigin=='ar:trolley:trolleylist:complementaryProductRecommendation'){b.prop71='attLb:complementaryProductRecommendation'}else if(b.event==='tlp_productRecommendationLbPage'&&b.ddLightbox.clickOrigin=='ar:trolley:trolleylist:alternativeProductRecommendation'){b.prop71='attLb:alternativeProductRecommendation'}
else if(b.tealium_event==='pl | Arrange Delivery'||b.tealium_event==='ev | Arrange Delivery'||b.tealium_event==='pl | Change Address Lightbox'||b.tealium_event==='ev | Change Address Lightbox'){if(b.ddPage&&b.ddPage.attributes&&b.ddPage.attributes.journeySegmentation){b.prop71=b.ddPage.attributes.journeySegmentation}}
b.journeySegmentation=b.prop71}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var synapticaCategoryId
if(b.pageType==='pdp'){var catID=window.digitalData.page.pageInfo.categoryID
synapticaCategoryId=catID[catID.length-1]}else if(/^(clp|plp|slp)/.test(b.pageType)){synapticaCategoryId=window.digitalData.page.category.currentCategoryId}
if(synapticaCategoryId){b.synapticaCategoryId=synapticaCategoryId}}}catch(e){utag.DB(e)}},function(a,b){try{if(/error: page$/i.test(b['tealium_event'])){b['errorPage']=b['pageName']}}catch(e){utag.DB(e);}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){if(b.tealium_event==='pl | orderConfirmation'){b.units=b.dd.transaction.item.map(function(item){return item.quantity})}else if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.bundleId){b.units=[b.evtData.attributes.bundleItems.main.quantity]
for(var y=0;y<b.evtData.attributes.bundleItems.additional.length;y++){b.units.push(b.evtData.attributes.bundleItems.additional[y].quantity)}}else if(window.s&&window.s.products){b.units=[]
var prods=window.s.products.split(',')
for(var x=0;x<prods.length;x++){var product=prods[x]
var thisProd=product.split(';')
var pattern=/event(9|11|76|80|83)=([0-9.]*)/i
if(product.match(pattern)){b.units.push(product.match(pattern)[2])}else if(thisProd[2]){b.units.push(thisProd[2])}else{b.units.push(0)}}}else if(!document.location.pathname.match(/orderitemdisplay/i)&&document.location.pathname.match(/wcs/i)){try{b.units=JSON.parse(window.localStorage.getItem('units'))}catch(e){}}
if(b.units&&b.units.length===0){delete b.units}
if(b.units&&document.location.pathname.match(/orderitemdisplay/i)){window.localStorage.setItem('units',JSON.stringify(b.units))
}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if((b.revenue.length===b.units.length)&&(b.revenue.length&&b.units.length>=1)){var unitRevenue=[]
for(var i=0;i<b.revenue.length;i++){unitRevenue.push((b.revenue[i]/b.units[i]).toFixed(2))}
b.unitRevenue=unitRevenue}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='video event'){b.videoId=b.evtData.attributes.componentID}else{if(window.digitalData&&window.digitalData.component){for(var x=0;x<window.digitalData.component.length;x++){if(/video/i.test(window.digitalData.component[x].componentInfo.componentID)){b.videoId=window.digitalData.component[x].componentInfo.componentID
break}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='s.tl Hijack'&&/\/webapp\/wcs\/stores\/servlet\/DoLookupAddress/i.test(document.URL)&&b._this&&b._this.products&&/evar97/i.test(window.s._this.products)){const regexArray=[...b._this.products.matchAll(/evar97=([^\|$\,]*)(?:\||$|\,)/gi)];const regexMatchArray=regexArray.map((rm)=>rm[1]);const deduplicatedRegexMatchArray=new Set(regexMatchArray);b.interactionDetail=deduplicatedRegexMatchArray[0];}else{let extraDetails='none';if(b.event==='pdp_showMore'){extraDetails=b.evtData.eventInfo.eventAction;}else if(/storeSelectorTellMeWhere$/i.test(b.event)){extraDetails=b.evtData.attributes.tellMeWhere.split(':')[0];}else if(/productFinderInteraction/i.test(b.event)){extraDetails=b.evtData.attributes.interaction;}else if(/initiateLocalisation/.test(b.event)){extraDetails='initiateLocalisation:'+b.evtData.attributes.clickOrigin;}else if(/^close_attlb/.test(b.event)||/^open_attlb/.test(b.event)){let evtAttributes=b.evtData?.attributes||{};let eventDetails=[evtAttributes.termCareOffered===true?'termcareoffered':'na',evtAttributes.monthlyCareOffered===true?'monthlycareoffered':'na',evtAttributes.recommendationsAvailable===true?'recsavailable':'na',];extraDetails=eventDetails.join('|');}else if(/^attlb_click/.test(b.event)){let evtAttributes=b.evtData?.attributes||{};let eventDetails=[];let lightboxType=evtAttributes.lightboxType?evtAttributes.lightboxType:'na';let clickValues=[evtAttributes.clickType?evtAttributes.clickType:'na',evtAttributes.clickText?evtAttributes.clickText:'na'];if(lightboxType==='warrantydetails'){eventDetails=[evtAttributes.termCareSelected===true?'termcare':'na',evtAttributes.monthlyCareSelected===true?'monthlycare':'na',evtAttributes.continueWithoutSelected===true?'withoutcare':'na',];}
let detailsArray=[lightboxType,clickValues.join('|')];if(eventDetails.length){detailsArray.push(eventDetails.join('|'));}
extraDetails=window.dataUtils.createUDOString(detailsArray);}else if(/^attlb_quantityDropdown/.test(b.event)){let evtAttributes=b.evtData?.attributes||{};extraDetails=evtAttributes.product?.[0]?.id||null;}
b.interactionDetail=window.dataUtils.createUDOString([b.pageTemplate,b.eventAction,extraDetails]);}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['dymMethod']=digitalData.page.search.dymMethod}catch(e){};try{b['subCategory2']=digitalData.page.category.subCategory2}catch(e){};try{b['subCategory3']=digitalData.page.category.subCategory3}catch(e){};try{b['subCategory4']=digitalData.page.category.subCategory4}catch(e){};try{b['productPriceMessage']=digitalData.product[0].attributes.priceMessage}catch(e){};try{b['productQuestionsCount']=digitalData.product[0].attributes.numberOfQuestions}catch(e){};try{b['productAnswersCount']=digitalData.product[0].attributes.numberOfAnswers}catch(e){};try{b['subCategory1']=digitalData.page.category.subCategory1}catch(e){};try{b['termReplaced']=digitalData.page.search.suggestedfor}catch(e){};try{b['wishlistLocation_brick']=b.evtData.attributes.customSiteSection}catch(e){};try{b['productPromotion']=digitalData.product[0].attributes.promotion}catch(e){};try{b['utVersionTimestamp']=window.utag.data['ut.version'].split('.')[2]}catch(e){};try{b['productSpecialOffersCount']=digitalData.page.attributes.specialOffersNumber}catch(e){};try{b['productBundlesCount']=digitalData.page.attributes.bundles.length}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().indexOf('pl | pdp_initialLoad')>-1){try{if(typeof window.digitalData.component[0].componentInfo.componentType!=='undefined'&&window.digitalData.component[0].componentInfo.componentType){var components=window.digitalData.component
var imageCount=0
var videoCount=0
var threeSixtyCount=0
for(var i=0;i<components.length;i++){var componentType=components[i].componentInfo.componentType
switch(componentType){case"images":imageCount++
break
case"videos":videoCount++
break
case"threesixty":threeSixtyCount++
break}}
var componentTypeCount='imgs:'+imageCount+'~'+'vids:'+videoCount+'~'+'360:'+threeSixtyCount
b.mediaComponentTypeCount=componentTypeCount}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var params=["_$ja","appvi","cmpid","appvi","gclid","qa","rec","tag"]
var lcQueryParams={}
for(var p in b){if(p.match(/^qp./)){lcQueryParams[p.toLowerCase()]=b[p]}}
for(var i in params){var lcParamName='qp.'+params[i].toLowerCase()
if(lcQueryParams[lcParamName]){b['qp.'+params[i]]=lcQueryParams[lcParamName]}}
if(b['qp.TD_MID']){b['qp.TD_mid']=b['qp.TD_MID']}
if(b['qp.TD_RID']){b['qp.TD_rid']=b['qp.TD_RID']}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event.startsWith('startReturn')){b.prop25Value=b.siteSection+':'+b.evtData.eventInfo.eventName;b.interactionDetail=b.evtData.eventInfo.eventAction;if(b.evtData.attributes.form.formStep){const formStepShort=function(){let formStep=b.evtData.attributes.form.formStep;if(/reason/.test(formStep))return'return reason';else if(/make it right/.test(formStep))return'resolution';else if(/refund|replace|change/.test(formStep))return'refund options';};b.formName=b.evtData.attributes.form.formName.toLowerCase();b.formStep=formStepShort();b.formStepNumber=b.evtData.attributes.form.formStepNumber;b.formStepValue=b.evtData.attributes.form.formStepValue?.toLowerCase();b.eventAction=b.event+'OnStep'+b.formStepNumber;b.prop25Value=b.siteSection+':'+b.eventAction;b.interactionDetail=b.formName+':'+b.evtData.eventInfo.eventAction;if(b.evtData?.attributes?.product?.length){b.productId=b.evtData.attributes.product.map((item)=>item.id);if(b.evtData.attributes.product[0].returnReason){b.returnReason=b.evtData.attributes.product.map((item)=>item.returnReason);}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['slpAlgorithm']=utag.data.createUDOString([b.pageType,b.algorithmType],b.udoGlue);}catch(e){};try{b['slpSearchTerm']=window.digitalData.page.search.term}catch(e){};try{b['channelPlatform']=utag.data.createUDOString([b["cp.analytics_channel"],b.sitePlatform]);}catch(e){};try{b['categoryId']=utag.data.createUDOString([b.pageTemplate,b.synapticaCategoryId]);}catch(e){};b['campaignExternal']=b['qp.cmpid'];b['campaignInternal']=b['qp.tag'];b['externalEmailCampaignId']=b['qp.TD_mid'];b['externalCustomerId']=b['qp.TD_rid'];b['customerMarketingStatus']=b['js_page.s.eVar15'];try{b['detailedPageName']=utag.data.createUDOString([b.pageName,b.eventAction]).replace('::',':');}catch(e){};try{b['formNameCompleted']=utag.data.createUDOString([b.formName,"completed"]);}catch(e){};b['googleAdwordsId']=b['qp.gclid'];try{b['localisationPostcode']=utag.data.createUDOString([b.pageType,b.assignedPostcode]);}catch(e){};b['pagePath']=b['dom.pathname'];try{b['previousPage']=b.previous_page_name.split('*|*')[0]}catch(e){};try{b['previousSiteSection']=b.previous_page_name.split('*|*')[1]}catch(e){};try{b['mediaMetricsId']=utag.data.createUDOString([b.mediaId,b.mediaType]);}catch(e){};try{b['collectionStockStatus']=utag.data.createUDOString([b.pageType,b.collectionStockStatus_brick]);}catch(e){};try{b['searchAutosuggest']=window.digitalData.page.search.autosuggest}catch(e){};b['viewportHeight']=b['dom.viewport_height'];b['viewportWidth']=b['dom.viewport_width'];try{b['timezone']=(new Date().getTimezoneOffset()/60)*-1}catch(e){};try{b['searchBannerName']=window.digitalData.page.search.banner}catch(e){};try{b['searchBannerPrimarySuggestion']=digitalData.page.search.suggestion.primaryterm}catch(e){};try{b['searchBannerSecondarySuggestion']=digitalData.page.search.suggestion.secondaryterm}catch(e){};try{b['pageFullUrl']=document.URL}catch(e){};b['queryString']=b['dom.query_string']}}catch(e){utag.DB(e);}},function(a,b){try{if(1){b['webCategoryL2']=b['subCategory1'];b['webCategoryL3']=b['subCategory2'];b['webCategoryL4']=b['subCategory3'];try{b['wishlistLocation']=utag.data.createUDOString([b.pageType,b.wishlistLocation_brick])}catch(e){};b['webCategory']=b['synapticaCategoryId'];try{b['deliveryStockStatus']=utag.data.createUDOString([b.pageType,b.deliveryStockStatus_brick])}catch(e){};try{b['localisationSearchTerm']=utag.data.createUDOString([b.localisationSearchType,b.localisationSearchTerm_brick])}catch(e){};try{b['productPrice']=digitalData.product[0].attributes.unitPriceWithTax}catch(e){};b['promotion']=b['productPriceMessage'];try{b['qAndAQuestionsAndAnswers']=utag.data.createUDOString([b.numberOfQuestions,b.numberOfAnswers])}catch(e){};try{b['productReviewCount']=digitalData.product[0].attributes.numberOfReviews}catch(e){};try{b['productStarRating']=digitalData.product[0].attributes.starRating.toFixed(2)}catch(e){};b['webCategoryL5']=b['subCategory4'];try{b['webCategoryHierarchy']=utag.data.createUDOString([b.subCategory1,b.subCategory2,b.subCategory3,b.subCategory4],null,true)}catch(e){};try{b['deliveryMethod']=window.s.eVar13}catch(e){};try{b['deliverySlotOffered']=utag.data.createUDOString([b.deliveryGridType,b.deliveryType,b.numberOfSlots,b.numberOfSlotsAvailable,"tod-"+b.todayOffered,"tom-"+b.tomorrowOffered,b.closestTime+"h"])}catch(e){};try{b['formProgression']=utag.data.createUDOString([b.formName,b.formStep,b.formStepValue])}catch(e){};try{b['orderMethod']=window.s.eVar13||digitalData.transaction.type}catch(e){};b['transactionId']=b['orderId'];try{b['helpSearchTerm']=utag.data.createUDOString([b.pageTemplate,b.searchTerm])}catch(e){};b['creditApplicationId']=b['js_page.s.prop69'];try{b['specialOfferShortText']=digitalData.page.attributes.specialOfferShortDescription}catch(e){};try{b['specialOfferLongText']=digitalData.page.attributes.specialOfferLongDescription}catch(e){};try{b['specialOfferId']=digitalData.page.attributes.specialOfferId}catch(e){};try{b['specialOfferType']=digitalData.page.attributes.specialOfferType}catch(e){};try{b['paymentSelection']=utag.data.createUDOString([window.s.prop72]);}catch(e){};try{b['creditSource']=utag.data.createUDOString([window.s.prop69]);}catch(e){};try{b['referrerEscaped']=document.referrer}catch(e){};try{b['referrerForAdobe']=document.referrer}catch(e){};try{b['demandStockStatus']=utag.data.createUDOString([b.pageType,"reservation",b.demandStockMessage])}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{b['refinementGroup']=window.digitalData.page.attributes.refinement}catch(e){};try{b['refinementValue']=window.digitalData.page.attributes.refinementValue}catch(e){};try{b['wishlistItemsCount']=window.digitalData.page.wishlist.length}catch(e){};try{b['debug']=window.utag_data.debug}catch(e){};try{b['productReviewsSearchTerm']=(b.event==="pdp_reviewsSearch"?b.evtData.attributes.searchTerm:"")}catch(e){};try{b['productQandaSearchTerm']=(b.event==="pdp_qandaSearch"?b.evtData.attributes.searchTerm:"")}catch(e){};try{b['pageTitle']=document.title}catch(e){};try{b['fulfillmentMethod']=window.digitalData.product[0].attributes.fulfillmentMethod}catch(e){};try{b['dymSearchTerm']=window.digitalData.page.search.term}catch(e){};try{b['dymSuggestedTerm']=window.digitalData.page.search.suggestion.primaryterm}catch(e){};try{b['dymDisplayString']=utag.data.createUDOString(["dym",b.dymMethod,b.dymSuggestedTerm,b.dymSearchTerm])}catch(e){};try{b['dymString']=utag.data.createUDOString(["dym",b.dymMethod,b.termReplaced,b.dymSearchTerm])}catch(e){};try{b['suggestionNIC']=window.digitalData.page.search.suggestion.nic}catch(e){};try{b['uiComponentsLoaded']=digitalData?.page?.attributes?.uiComponentsLoaded||""}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(b.pageType=='pdp'&&b.demandStockMessage&&b.demandStockMessage[0]&&typeof b.demandStockMessage[0]!='undefined'){b.demandStockStatus=utag.data.createUDOString([b.pageType,"reservation",b.demandStockMessage])}else if(b.pageType=='trolley'&&b.demandStockMessage){b.demandStockStatus=utag.data.createUDOString([b.pageType,"reservation",b.demandStockMessage])}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.pathname'].toString().toLowerCase().indexOf('/product/'.toLowerCase())>-1&&b['pageType'].toString().toLowerCase()=='pdp'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_fulfilmentTypeChanged'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_newPostCodeSelected'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_newStoreSelected'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_recommendedStoreSelected'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_alternativeProductRecommendationsLightBoxReplaceItem'.toLowerCase()&&typeof b['deliveryStockCode']!='undefined'&&typeof b['deliveryStockCode']!='undefined'&&b['deliveryStockCode']!='')){try{b['deliveryLeadtime']=utag.data.createUDOString([b.deliveryStockCode]);}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if((b['dom.pathname'].toString().toLowerCase().indexOf('/product/'.toLowerCase())>-1&&b['pageType'].toString().toLowerCase()=='pdp'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_fulfilmentTypeChanged'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_newPostCodeSelected'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_newStoreSelected'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_recommendedStoreSelected'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')||(b['event'].toString().toLowerCase()=='tlp_alternativeProductRecommendationsLightBoxReplaceItem'.toLowerCase()&&typeof b['collectionStockCode']!='undefined'&&typeof b['collectionStockCode']!='undefined'&&b['collectionStockCode']!='')){try{b['collectionLeadtime']=utag.data.createUDOString([b.collectionStockCode]);}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){var refinementValue=b.refinementValue
var refinementGroup=b.refinementGroup
if(b.tealium_event==='pl | Store Selector'){if(refinementGroup){b.storeSelectorRefinement=refinementGroup}}else if(/(Search|PLP)Results/i.test(b.tealium_event)){if(refinementGroup){b.findabilityListerRefinementsValue=refinementValue.replace(/^(browse|search)\|/,"")
b.findabilityListerRefinementsGroup=refinementGroup.replace(/^(browse|search):/,"")}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var left=window.utag.data.createUDOString([b.mediaType,b.mediaId,b.mediaPosition])
var right=window.utag.data.createUDOString([b.videoLength,b.videoViewingTime])
if(left&&right){b.mediaAttributes=left+':'+right}else if(left){b.mediaAttributes=left+'::'}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().indexOf('pl | pdp_initialLoad')>-1||b['tealium_event'].toString().indexOf('ev | cnet')>-1){var productAttributes
var productAttributesArray=[]
productAttributes='s='+b.productStarRating+':r='+b.productReviewCount+':q='+b.productQuestionsCount+':a='+b.productAnswersCount+':p='+b.productPrice+':pm='+b.productPriceMessage+':c='+b.synapticaCategoryId
var attributes=productAttributes.split(':')
for(var i=0;i<attributes.length;i++){var cleanedAttribute=attributes[i].replace('undefined','')
productAttributesArray.push(cleanedAttribute)}
b.productAttributes=productAttributesArray.join(':')}}catch(e){utag.DB(e)}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){var ev=b.evtData
var attr
var pf=b.ddPage.productFinder
if(b.event==='productFinderInteraction'){buildAttributes()
if(/tick/i.test(ev.attributes.interaction)){b.doNotSendToAdobe=true
window.localStorage.setItem('productFinder',attr)
}}else if(b.event==='PLPResults'||b.event==='pdp_initialLoad'){var productFinderStorage=window.localStorage.getItem('productFinder')
var clickOrigin=b['qp.clickOrigin']
if(productFinderStorage&&clickOrigin==='productFinder'){b.productFinderAttributes=productFinderStorage
window.localStorage.removeItem('productFinder')}}
function buildAttributes(){attr=(pf.categoryId||pf.searchTerm)+':'
if(pf.steps){attr+=pf.steps.map(function(step){return step.name+'>'+step.filters.filter(function(filter){return filter.selected}).map(function(filter){return filter.label}).join(',')}).join('|')}
b.productFinderAttributes=attr}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.customTimestamp=new Date().toISOString().split('.')[0]+'Z'}}catch(e){utag.DB(e)}},function(a,b){try{if(1){b.event_array=b.event_array||[]
if(b.recommendationClickAttributes||b.recommendationCategoryClickAttributes){var event112Str='event112'
if(b.recommendationClickAttributesEventId){event112Str+=':'+b.recommendationClickAttributesEventId}
b.event_array.push(event112Str)}}}catch(e){utag.DB(e)}},function(a,b){try{if(/^(plp|slp)/.test(b['pageType'])){var ddAttributes=b.ddPage.attributes
var findabilityListerGridAttributes=[]
findabilityListerGridAttributes.push(ddAttributes.numberOfResults)
findabilityListerGridAttributes.push(ddAttributes.sortBy||'relevance:desc')
findabilityListerGridAttributes.push(ddAttributes.currentPage)
findabilityListerGridAttributes.push(ddAttributes.rowSize)
b.findabilityListerGridAttributes=findabilityListerGridAttributes.join(':')}}catch(e){utag.DB(e)}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){try{b.adobeCloudId=window.dataUtils.getAdobeExperienceCloudId();}catch(e){window.utag.DB('Could not set adobe cloud id')}
b.cloudId=b.adobeCloudId
if(b['cp.s_vi']){b.legacyVisitorID=b['cp.s_vi'].match(/\|(.*)\[ce\]/i)[1];}
b.mobileApp=false
var appVid=b["qp.appvi"];if(!appVid){appVid=b["cp.NativeAppVID"]}
if(appVid){window.utag_data.c_w('app_vi',appVid,1800,"/")
b.legacyVisitorID=appVid
b.mobileApp=true}else if(b["cp.app_vi"]){b.legacyVisitorID=b["cp.app_vi"];b.mobileApp=true}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var myOrder=b.revenue
var deliveryCost=b.deliveryCost
var orderProductsTotal=0
var revenue=0
if(deliveryCost){revenue+=parseFloat(deliveryCost)}
if(myOrder){for(var i=0;i<myOrder.length;i++){var currentRev=myOrder[i]
if(currentRev){revenue+=parseFloat(currentRev)
orderProductsTotal+=parseFloat(currentRev)}}}
b.orderProductsTotal=orderProductsTotal.toFixed(2)
b.orderTotal=revenue.toFixed(2)}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b.productID=window.digitalData.product[0].productInfo.productID;if((!b.productId||b.productId.length===0)&&!Array.isArray(b.productID)){b.productId=[b.productID];}
b.productName=window.digitalData.product[0].productInfo.productName;b.productUnitPriceWithTax=window.digitalData.product[0].attributes.unitPriceWithTax;}catch(e){utag.DB('Error in PDP product vars ext152: '+e);}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var categoryPath=[]
if(window.digitalData&&window.digitalData.page&&window.digitalData.page.category){var category=window.digitalData.page.category
b.currentCategory=category
categoryPath.push(category.subCategory1)
categoryPath.push(category.subCategory2)
categoryPath.push(category.subCategory3)
categoryPath.push(category.subCategory4)
b.subCategory1=categoryPath[0]
b.subCategory2=categoryPath[1]
b.subCategory3=categoryPath[2]
b.subCategory4=categoryPath[3]
categoryPath=categoryPath.filter(function(category){return!!category})
b.categoryPagePath=categoryPath.length>0?categoryPath.join(' > '):''}else{b.categoryPagePath=''}
b.currentCategoryName=categoryPath[categoryPath.length-1]}}catch(e){utag.DB(e)}},function(a,b){try{if(1){function createCartData(arr,prop,delimeter){var finalArr=[];var currentProp='';for(var i=0;i<arr.length;i++){var currentIdx=arr[i];if(prop&&prop.split(delimeter).length){var propArr=prop.split(delimeter);for(var y=0;y<propArr.length;y++){currentProp=y===0||y==='0'?currentIdx[propArr[y]]:currentProp[propArr[y]];window.utag.DB(currentProp);if(typeof currentProp!=='undefined'){if(typeof currentProp!=='object'){finalArr.push(currentProp);}}}}}
return finalArr;}
if(window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item){b.cartItemIds=createCartData(window.digitalData.cart.item,'id','>');b.cartItemNames=createCartData(window.digitalData.cart.item,'name','>');b.cartItemPrices=createCartData(window.digitalData.cart.item,'price>priceWithTax','>');b.cartItemQuantities=createCartData(window.digitalData.cart.item,'quantity','>');}
if(b.tealium_event==='pl | tlp_initialLoad'){b.alternativeProductsDisplayed=createCartData(window.digitalData.cart.item,'alternativeProductsDisplayed','>').map(function(i){return+i;});b.cartItemFulfilmentPassEligible=createCartData(window.digitalData.cart.item,'fulfilmentPassEligible','>').map(function(i){return+i;});b.cartTotal=0;for(var i=0;i<b.cartItemPrices.length;i++){var currentPrice=b.cartItemPrices[i]?parseFloat(b.cartItemPrices[i]):0;b.cartTotal+=currentPrice;}}}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){if(1){d=b['pageType'];if(typeof d=='undefined')return;c=[{'plp':'category'},{'clp':'category'},{'trolley':'cart'},{'pdp':'product'},{'SLP':'searchresults'},{'PLP':'category'},{'CLP':'category'},{'home':'home'},{'slp':'searchresults'},{'PDP':'product'},{'slp_canned':'searchresults'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['remarketingPageType']=c[e][f];m=true};};if(m)break};if(!m)b['remarketingPageType']='other';}},function(a,b){try{if(1){(function(){b.productIdStr=typeof b.productId!="undefined"&&b.productId.length>0?b.productId.join(","):"";})();}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().indexOf('searchResults')>-1){b['searchCategoryFacebook']='Product Search'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{var qs=window.location.search
qs=decodeURIComponent(qs)
if(/\_\$ja/i.test(qs)){var all=qs.split('&')
var filtered=all.filter(function(param){return/\_\$ja/i.test(param)})
if(filtered.length>0){filtered=filtered[0].split('=')[1]
b._$ja=filtered;}}
var adData
if(b._$ja){adData=b._$ja
b.adwordsBingParams=adData}else if(window.utag_data.c_r('marketingData')){adData=window.utag_data.c_r('marketingData')}
if(window.utag_data.c_r('marketingData')){b.marketingDataCookie=window.utag_data.c_r('marketingData')}
if(adData){var names=['tid','aud']
b.marketingDisplayAudience=getResult(names)}}catch(e){}
function getResult(names){var values=[]
try{var pairs=(adData)?adData.split('|'):[]
for(var i=0;i<pairs.length;i++){var curPair=pairs[i].split(':')
var curName=curPair[0]
var curValue=curPair[1]
for(var j=0;j<names.length;j++){if(names[j]===curName){if(names[j]==='tid'){var plaPair=curPair.filter(function(item){return/aud\-/.test(item);
            })
            if (plaPair && plaPair.length === 1) {
              curValue = plaPair[0].split('-')[1]
            }
          }
          values.push(curValue)
        }
      }
    }
    return values.join('_')
  } catch (exception) {
    window.utag.db(exception)
  }
}
} } catch(e){ utag.DB(e) }  },
function(a,b){ try{ if(1){
try {
  var qs = window.location.search
  qs = decodeURIComponent(qs)
  if (/\_\$ja/i.test(qs)){var all=qs.split('&')
var filtered=all.filter(function(param){return/\_\$ja/i.test(param)})
if(filtered.length>0){filtered=filtered[0].split('=')[1]
b._$ja=filtered;}}
var adData
if(b._$ja){adData=b._$ja
b.adwordsBingParams=adData}else if(window.utag_data.c_r('marketingData')){adData=window.utag_data.c_r('marketingData')}
if(window.utag_data.c_r('marketingData')){b.marketingDataCookie=window.utag_data.c_r('marketingData')}
if(adData){var names=['dvc']
b.marketingDisplayDevice=getResult(names)
names=['acid','cid','kwd','dsa','agid','tid']
b.marketingDisplayCampaign=getResult(names)}}catch(e){}
function getResult(names){var values=[]
try{var pairs=(adData)?adData.split('|'):[]
for(var i=0;i<pairs.length;i++){var curPair=pairs[i].split(':')
var curName=curPair[0]
var curValue=curPair[1]
for(var j=0;j<names.length;j++){if(names[j]===curName){if(names[j]==='tid'){var plaPair=curPair.filter(function(item){return/pla-/.test(item) || /kwd-/.test(item)
            })
            if (plaPair && plaPair.length === 1) {
              curValue = plaPair[0].split('-')[1]
            }
          }
          values.push(curValue)
        }
      }
    }
    return values.join('_')
  } catch (exception) {
    window.utag.db(exception)
  }
}
} } catch(e){ utag.DB(e) }  },
function(a,b){ try{ if(1){
if (window.s) {
  b.customerMarketingStatus = window.s.eVar15
}

if (
    b.evtData &&
    b.evtData.attributes &&
    b.evtData.attributes.marketingValue &&
    typeof b.evtData.attributes.marketingValue === "string"
) {
    b.customerMarketingStatus = b.evtData.attributes.marketingValue
}
} } catch(e){ utag.DB(e) }  },
function(a,b,c,d,e,f,g){if(1){d=b['js_page.s.eVar13'];if(typeof d=='undefined')return;c=[{'Reserve':'j4ZUCMiAs3AQ2ceg-gM'},{'Buy':'q22RCNH3qXAQ2ceg-gM'},{'Prepay':'kSbrCMTkuXAQ2ceg-gM'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d.toString().indexOf(f)>-1){b['mobileAdwordsLabel']=c[e][f];m=true};};if(m)break};if(!m)b['mobileAdwordsLabel']='';   }},
function(a,b){ try{ if(/results$/i.test(b['event'])){var pageAttributes=b.dd.page.attributes
var findabilityListerGridAttributes=[pageAttributes.sortBy,pageAttributes.numberOfResults,pageAttributes.currentPage,pageAttributes.pageSize,pageAttributes.rowSize]
b.findabilityListerGridAttributes=findabilityListerGridAttributes.join('|')}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase().indexOf('PLPResults'.toLowerCase())>-1){var lastEvent=b.evtData
if(lastEvent){if(lastEvent.eventInfo&&lastEvent.eventInfo.eventName==='appliedFilterDeselect'&&!lastEvent.isRecorded){lastEvent.isRecorded=true
b.prop25Value='appliedFilterDeselect'}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var generalAttributes=[]
var suggestionAttributes=[]
var algoAttributes=[]
var ddSearch=window.digitalData.page.search
add(generalAttributes,b.pageTypeDetails)
add(generalAttributes,ddSearch.term)
add(generalAttributes,ddSearch.autosuggest)
ddSearch.algorithm.forEach(function(el){add(algoAttributes,el.value,/(^0$)|~/g)})
add(generalAttributes,algoAttributes.join("~"))
add(suggestionAttributes,ddSearch.dymMethod,/^dym_/)
add(suggestionAttributes,ddSearch.suggestedfor)
add(suggestionAttributes,ddSearch.term)
add(suggestionAttributes,ddSearch.banner,/-banner$/)
if(ddSearch.suggestion){add(suggestionAttributes,ddSearch.suggestion.primaryterm)
add(suggestionAttributes,ddSearch.suggestion.secondaryterm,new RegExp(ddSearch.suggestion.primaryterm+"|","i"))}else{add(suggestionAttributes,"")
add(suggestionAttributes,"")}
b.slpGeneralAttributes=generalAttributes.join(":")
b.slpSuggestionAttributes=suggestionAttributes.join(":")
function add(obj,attributeValue,regexRemove){obj.push(attributeValue?attributeValue.replace(/:|\|/g,"").replace(regexRemove,""):"")}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var delAttr=b.deliveryAttributes
var colAttr=b.collectionAttributes
var productAvailabilityAttributes=[]
if(colAttr&&delAttr&&delAttr.length===colAttr.length){for(var p=0;p<colAttr.length;p++){productAvailabilityAttributes.push(utag.data.createUDOString([b.pageType,b.sitePlatform])+"#"+utag.data.createUDOString([colAttr,delAttr],"~"))
b.productAvailabilityAttributes=productAvailabilityAttributes}}
var productAvailability=[]
var stockCodeInstance=[]
b.productAvailability=[]
b.stockCodeInstance=[]
if(b.collectionStockCode&&b.deliveryStockCode){if(b.productId&&b.productId.length>0){for(var i=0;i<b.productId.length;i++){if(b.collectionStockCode[i].length>0||b.deliveryStockCode[i].length>0){productAvailability.push(b.collectionStockCode[i]+'~'+b.deliveryStockCode[i])
stockCodeInstance.push(1)}else{productAvailability.push('')
stockCodeInstance.push(0)}}
b.productAvailability=productAvailability
if(stockCodeInstance.length===b.productId.length){b.stockCodeInstance=stockCodeInstance}}}
if(b.pageName==='ar:trolley:buy:arrangedelivery:'&&b.deliveryStockCode&&b.event==='pageview'&&b.sitePlatform==='wcs'&&b.productId){if(window.s&&window.s.products&&/evar62=/.test(window.s.products)){if(b.productId&&b.productId.length>0){for(var i=0;i<b.productId.length;i++){if(b.deliveryStockCode[i].length>0){productAvailability.push(''+'~'+b.deliveryStockCode[i])
stockCodeInstance.push(1)}else{productAvailability.push('')
stockCodeInstance.push(0)}}
b.productAvailability=productAvailability
if(stockCodeInstance.length===b.productId.length){b.stockCodeInstance=stockCodeInstance}}}}
if(b.tealium_event==='pl | Arrange Delivery'){if(b.productId&&window.digitalData&&window.digitalData.cart&&window.digitalData.cart.item&&Array.isArray(digitalData.cart.item)&&b.productId.length===window.digitalData.cart.item.length){b.fulfilmentAgent=window.digitalData.cart.item.map(function(item){return item.fulfilmentAgent})}}
if(window.digitalData.product[0].attributes.fulfilmentAgent!=='undefined'){var fulfilmentAgent=window.digitalData.product[0].attributes.fulfilmentAgent
b.fulfilmentAgent=fulfilmentAgent}
if(window.digitalData.product[0].attributes.collectionMessageKey!=='undefined'&&/stockAPIs/i.test(b.event)===true&&/pdp_/i.test(b.event)===true){var collectionMessageKey=window.digitalData.product[0].attributes.collectionMessageKey}
if(window.digitalData.product[0].attributes.deliveryMessageKey!=='undefined'&&/stockAPIs/i.test(b.event)===true&&/pdp_/i.test(b.event)===true){var deliveryMessageKey=window.digitalData.product[0].attributes.deliveryMessageKey}
if(deliveryMessageKey||collectionMessageKey){if(!deliveryMessageKey||deliveryMessageKey.length===0||deliveryMessageKey==='undefined'){deliveryMessageKey='DELIVERY_NO_POSTCODE'}
if(!collectionMessageKey||collectionMessageKey.length===0||collectionMessageKey==='undefined'){collectionMessageKey='COLLECTION_NO_STORE'}
b.messageKey=collectionMessageKey+'~'+deliveryMessageKey}
if(window.digitalData.cart.selectedFulfilmentType!=='undefined'){var cartFulfilmentType=window.digitalData.cart.selectedFulfilmentType
b.fulfillmentMethod=cartFulfilmentType}}}catch(e){utag.DB(e)}},function(a,b,c,d){b._ccity=(typeof b['']!='undefined')?b['']:'';b._ccountry=(typeof b['']!='undefined')?b['']:'';b._ccurrency=(typeof b['currencyCode']!='undefined')?b['currencyCode']:'';b._ccustid=(typeof b['customerId']!='undefined')?b['customerId']:'';b._corder=(typeof b['transactionId']!='undefined')?b['transactionId']:'';b._cpromo=(typeof b['promoCode']!='undefined')?b['promoCode']:'';b._cship=(typeof b['deliveryCost']!='undefined')?b['deliveryCost']:'';b._cstate=(typeof b['']!='undefined')?b['']:'';b._cstore=(typeof b['']!='undefined')?b['']:'web';b._csubtotal=(typeof b['orderProductsTotal']!='undefined')?b['orderProductsTotal']:'';b._ctax=(typeof b['']!='undefined')?b['']:'';b._ctotal=(typeof b['orderTotal']!='undefined')?b['orderTotal']:'';b._ctype=(typeof b['deliveryMethod']!='undefined')?b['deliveryMethod']:'';b._czip=(typeof b['assignedPostcode']!='undefined')?b['assignedPostcode']:'';b._cprod=(typeof b['productId']!='undefined'&&b['productId'].length>0)?b['productId']:[];b._cprodname=(typeof b['productTitle']!='undefined'&&b['productTitle'].length>0)?b['productTitle']:[];b._cbrand=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._ccat=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._ccat2=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cquan=(typeof b['units']!='undefined'&&b['units'].length>0)?b['units']:[];b._cprice=(typeof b['revenue']!='undefined'&&b['revenue'].length>0)?b['revenue']:[];b._csku=(typeof b['']!='undefined'&&b[''].length>0)?b['']:[];b._cpdisc=(typeof b['revenueDiscount']!='undefined'&&b['revenueDiscount'].length>0)?b['revenueDiscount']:[];if(b._cprod.length==0){b._cprod=b._csku.slice()};if(b._cprodname.length==0){b._cprodname=b._csku.slice()};function tf(a){if(a==''||isNaN(parseFloat(a))){return a}else{return(parseFloat(a)).toFixed(2)}};b._ctotal=tf(b._ctotal);b._csubtotal=tf(b._csubtotal);b._ctax=tf(b._ctax);b._cship=tf(b._cship);for(c=0;c<b._cprice.length;c++){b._cprice[c]=tf(b._cprice[c])};for(c=0;c<b._cpdisc.length;c++){b._cpdisc[c]=tf(b._cpdisc[c])};},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){b.referringChannel=undefined;b.referringChannelTimestamp=undefined;if(typeof b['qp.utm_medium']!="undefined"&&b['qp.utm_medium']!==""){if(b['qp.utm_medium'].match(/^affiliates$/i)){b.referringChannel="cj";}else{b.referringChannel="affiliate_other";}}
if(typeof b.referringChannel=="undefined"){if(typeof b['qp.cmpid']!="undefined"&&b['qp.cmpid']!==""){if(b['qp.cmpid'].match(/GS001|GG05X|MS05X|BPLA/i)){b.referringChannel="search";}else if(b['qp.cmpid']=="COJUN"){b.referringChannel="affiliate_other";}else if(b['qp.cmpid'].match(/^ar/i)){b.referringChannel="email";}else if(b['qp.cmpid'].match(/^(dpfb|fb|tw|yt|vod|ig)/i)){b.referringChannel="social";}else if(b['qp.cmpid'].match(/^dp/i)){b.referringChannel="display";}else{b.referringChannel="other";}}else{if(document.referrer===""){b.referringChannel="direct";}else{var refparts=document.referrer.split('://');if(refparts.length>1){var host=refparts[1].split('/')[0];if(host.match(/\.(google|yahoo|bing|msn)\./i)){b.referringChannel="direct";}}}}}
if(typeof b.referringChannel!="undefined"){localStorage.referringChannel=b.referringChannel;localStorage.referringChannelTimestamp=b.referringChannelTimestamp=new Date().toISOString();}else if(typeof localStorage.referringChannel!="undefined"&&localStorage.referringChannel!==""){b.referringChannel=localStorage.referringChannel;b.referringChannelTimestamp=localStorage.referringChannelTimestamp;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(window.s.events&&/,/.test(window.s.events)&&/event202=/.test(window.s.events)&&window.s.pageName&&/:buy:confirmation|:prepay:confirmation/i.test(window.s.pageName)){var confirmationEvents=window.s.events
var eventsArray=confirmationEvents.split(',')
for(var i=0;i<eventsArray.length;i++){if(/event202=/i.test(eventsArray[i])===true&&eventsArray[i].length>9){var giftRevenue=eventsArray[i].toString()
giftRevenue=giftRevenue.slice(9)
break;}}
if(giftRevenue&&giftRevenue>0){b.giftCardRevenue=giftRevenue}}
if(b.tealium_event==='pl | orderConfirmation'&&b.dd.transaction.giftCardSpend){if(b.pageName=='ar:trolley:prepay:confirmation:'||b.pageName=='ar:trolley:buy:confirmationpage:'){var giftCardSpend=b.dd.transaction.giftCardSpend
if(giftCardSpend&&giftCardSpend>0){b.giftCardRevenue=giftCardSpend}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(window.s&&window.s.eVar119&&window.s.eVar119!==''){b.nectarVerify=window.s.eVar119}
if(b.event==='enter2FACode'){if((b.pageName=='ar:trolley:prepay:payment:nectarcard:'||b.pageName=='ar:trolley:homedelivery:payment:nectarcard:')&&b.siteSection=='ar:trolley:'){var nectarVerification=b.pageName+'2fa:displayed'
if(nectarVerification&&typeof nectarVerification!='undefined'&&nectarVerification!==null){b.nectarVerify=nectarVerification}}}
if(b.event==='error2FAVerification'){if((b.pageName=='ar:trolley:prepay:payment:nectarcard:'||b.pageName=='ar:trolley:homedelivery:payment:nectarcard:')&&b.siteSection=='ar:trolley:'){if(b.evtData.attributes&&b.evtData.attributes.errorMessage){var nectarError=b.evtData.attributes.errorMessage
if(nectarError&&typeof nectarError!='undefined'&&nectarError!==null){b.formError=nectarError}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase().indexOf('ev | User Generated Content Loaded'.toLowerCase())>-1||b['tealium_event'].toString().toLowerCase().indexOf('ev | User Generated Content Viewed'.toLowerCase())>-1||b['tealium_event'].toString().toLowerCase().indexOf('pl | quickviewLbPage'.toLowerCase())>-1){var ugcEvent=b.evtData
if(ugcEvent){if(ugcEvent.eventInfo&&ugcEvent.eventInfo.eventName==='ugcLoaded'){b.prop25Value='ugc:loaded'}else if(ugcEvent.eventInfo&&ugcEvent.eventInfo.eventName==='ugcViewed'){b.prop25Value='ugc:viewed'}else if(ugcEvent.eventInfo&&ugcEvent.eventInfo.eventName==='quickviewLbPage'){b.prop25Value='ugcComponent'}}}}catch(e){utag.DB(e)}},function(a,b){try{if((/^https:\/\/competitions\.argos\.co\.uk\/sofa_swatch/i.test(b['link_url'])&&b['link_text'].toString().toLowerCase()=='Free fabric sample'.toLowerCase()&&b['link_type'].toString().toLowerCase()=='link'.toLowerCase())){digitalData.track('freeFabricSample',null,true)}}catch(e){utag.DB(e)}},function(a,b){try{if((b['tealium_event'].toString().toLowerCase()=='ev | freeFabricSample'.toLowerCase()&&typeof b['pageType']!='undefined'&&b['pageType']!=''&&typeof b['productID']!='undefined'&&b['productID']!='')){try{b['productId']=[b.productID]}catch(e){};try{b['prop25Value']=window.utag.data.createUDOString([b.pageType,"freeFabricSample"])}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['consentPreference'].toString().toLowerCase().indexOf('marketing:1'.toLowerCase())>-1){var expirydays=30;if(typeof b["qp.cjevent"]!="undefined"&&b["qp.cjevent"]!==""){localStorage.setItem("cjevent",b["qp.cjevent"]+"|"+Date.now());}
if(typeof localStorage.cjevent&&localStorage.cjevent!==""){var cjeventexp=localStorage.cjevent.split('|')[1];if(parseInt(cjeventexp)+(expirydays*24*60*60*1000)<Date.now()){localStorage.removeItem("cjevent");}}
if(typeof localStorage.cjevent!="undefined"&&localStorage.cjevent!==""){b.cjevent=localStorage.cjevent.split('|')[0];}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['dom.pathname'].toString().toLowerCase().indexOf('DoLookupAddress'.toLowerCase())>-1){if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length
return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object')}
var result=[],prop,i
for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}
return result}}())}
var continueSubmitted=false
var slotsSelected=false
var weekday=new Array(7)
weekday[0]="Sunday"
weekday[1]="Monday"
weekday[2]="Tuesday"
weekday[3]="Wednesday"
weekday[4]="Thursday"
weekday[5]="Friday"
weekday[6]="Saturday"
var adSelectedSlotsMap={}
if($("input[name='addoSlotsStr']").length>0){$("#contextualSubmitContinueEcomm").bind("click",function(){updateContinueButtonTag2ManDRS(this)})}else{$("#contextualSubmitContinueEcomm").bind("click",function(){if($(".smallItemsSlotTable .customRadioChecked").length>0){updateContinueButtonTag(this)}})}
function updateContinueButtonTag(obj){var adsiDaysUntilDelivery=''
var addoDaysUntilDelivery=''
var adsiSelectedSlotString=$(".smallItemsSlotTable .customRadioChecked")
var addoSelectedSlotString=$(".largeItemsSlotTable .customRadioChecked")
var adsiDiffDays
var addoDiffDays
if(adsiSelectedSlotString!=null&&adsiSelectedSlotString.length>0){var adsiSlotSplit=$(adsiSelectedSlotString).attr('name').split('*')
var adsiSlotDateString=adsiSlotSplit[5]
var adsiSlotStartString=adsiSlotSplit[3]
var adsiSlotEndString=adsiSlotSplit[4]
var adsiSlotDateSplit=adsiSlotDateString.split('-')
var adsiSlotDateStart=new Date(adsiSlotDateSplit[0],adsiSlotDateSplit[1]-1,adsiSlotDateSplit[2],adsiSlotStartString.split(':')[0],0,0,0)
var adsiSlotDateEnd=new Date(adsiSlotDateSplit[0],adsiSlotDateSplit[1]-1,adsiSlotDateSplit[2],adsiSlotEndString.split(':')[0],0,0,0)
var adsiSlotDay=weekday[adsiSlotDateStart.getDay()]
var todaysDay=weekday[new Date().getDay()]
if(adsiSlotDay==todaysDay){adsiSlotDay='Today'}
var adsiDeliveryDayOfTheWeek=adsiSlotDay
var startAMPM=adsiSlotDateStart.getHours()<12?'am':'pm'
var endAMPM=adsiSlotDateEnd.getHours()<12?'am':'pm'
var startTime12Hr=(adsiSlotDateStart.getHours()>12?adsiSlotDateStart.getHours()-12:adsiSlotDateStart.getHours())+startAMPM
var endTime12Hr=(adsiSlotDateEnd.getHours()>12?adsiSlotDateEnd.getHours()-12:adsiSlotDateEnd.getHours())+endAMPM
var adsiDeliveryTimeOfDay=startTime12Hr+'-'+endTime12Hr;var oneDay=24*60*60*1000;adsiDiffDays=Math.round(Math.abs((new Date().getTime()-adsiSlotDateStart.getTime())/(oneDay)))
adsiDaysUntilDelivery=adsiDiffDays+'day'
if(adsiDiffDays>1){adsiDaysUntilDelivery=adsiDaysUntilDelivery+'s'}
var slotSelectedSmall=adsiSlotDay+':'+adsiDeliveryTimeOfDay+':'+adsiDaysUntilDelivery}
if(addoSelectedSlotString!=null&&addoSelectedSlotString.length>0){var addoDeliveryTimeOfDay=addoSelectedSlotString.parent().attr('title').replace(/ /g,'')
var addoSlotDateString=addoSelectedSlotString.attr('date').split('/')[2]
var addoSlotDateSplit=addoSlotDateString.split('-')
var addoSlotDate=new Date(addoSlotDateSplit[0],addoSlotDateSplit[1]-1,addoSlotDateSplit[2],12,0,0,0)
var addoSlotDay=weekday[addoSlotDate.getDay()]
var todaysDay=weekday[new Date().getDay()]
if(addoSlotDay==todaysDay){addoSlotDay='Today'}
var oneDay=24*60*60*1000;addoDiffDays=Math.round(Math.abs((new Date().getTime()-addoSlotDate.getTime())/(oneDay)))
addoDaysUntilDelivery=addoDiffDays+'day'
if(addoDiffDays>1){addoDaysUntilDelivery=addoDaysUntilDelivery+'s'}
if(slotSelectedSmall){slotSelectedSmall+='|'+addoSlotDay+':'+addoDeliveryTimeOfDay+':'+addoDaysUntilDelivery}else{slotSelectedSmall=addoSlotDay+':'+addoDeliveryTimeOfDay+':'+addoDaysUntilDelivery}}
utag.link({evtDetails:"none",tealium_event:"ev | deliverySlotSelectedSmall",event:"deliverySlotSelectedSmall",deliverySlotSelection:slotSelectedSmall})}
function updateContinueButtonTag2ManDRS(obj){var adsiDaysUntilDelivery=''
var addoDaysUntilDelivery=''
var adsiSelectedSlotString=$(".smallItemsSlotTable .customRadioChecked")
var addoSelectedSlotString=$(".largeItemsSlotTable .customRadioChecked")
var adsiDiffDays
var addoDiffDays
if(adsiSelectedSlotString!=null&&adsiSelectedSlotString.length>0){var adsiSlotSplit=$(adsiSelectedSlotString).attr('name').split('*')
var adsiSlotDateString=adsiSlotSplit[5]
var adsiSlotStartString=adsiSlotSplit[3]
var adsiSlotEndString=adsiSlotSplit[4]
var adsiSlotDateSplit=adsiSlotDateString.split('-')
var adsiSlotDateStart=new Date(adsiSlotDateSplit[0],adsiSlotDateSplit[1]-1,adsiSlotDateSplit[2],adsiSlotStartString.split(':')[0],0,0,0)
var adsiSlotDateEnd=new Date(adsiSlotDateSplit[0],adsiSlotDateSplit[1]-1,adsiSlotDateSplit[2],adsiSlotEndString.split(':')[0],0,0,0)
var adsiSlotDay=weekday[adsiSlotDateStart.getDay()]
var todaysDay=weekday[new Date().getDay()]
if(adsiSlotDay==todaysDay){adsiSlotDay='Today';}
var adsiDeliveryDayOfTheWeek=adsiSlotDay;var startAMPM=adsiSlotDateStart.getHours()<12?'am':'pm'
var endAMPM=adsiSlotDateEnd.getHours()<12?'am':'pm'
var startTime12Hr=(adsiSlotDateStart.getHours()>12?adsiSlotDateStart.getHours()-12:adsiSlotDateStart.getHours())+startAMPM
var endTime12Hr=(adsiSlotDateEnd.getHours()>12?adsiSlotDateEnd.getHours()-12:adsiSlotDateEnd.getHours())+endAMPM
var adsiDeliveryTimeOfDay=startTime12Hr+'-'+endTime12Hr
var oneDay=24*60*60*1000
adsiDiffDays=Math.round(Math.abs((new Date().getTime()-adsiSlotDateStart.getTime())/(oneDay)))
adsiDaysUntilDelivery=adsiDiffDays+'day'
if(adsiDiffDays>1){adsiDaysUntilDelivery=adsiDaysUntilDelivery+'s'}
var slotSelectedLarge=adsiSlotDay+':'+adsiDeliveryTimeOfDay+':'+adsiDaysUntilDelivery}
if(addoSelectedSlotString!=null&&addoSelectedSlotString.length>0){var addoDeliveryTimeOfDay=addoSelectedSlotString.parent().attr('title').replace(/ /g,'')
var addoSlotDateString=addoSelectedSlotString.attr('date')
var addoSlotDateSplit=addoSlotDateString.split('-')
var addoSlotDate=new Date(addoSlotDateSplit[0],addoSlotDateSplit[1]-1,addoSlotDateSplit[2],12,0,0,0)
var addoSlotDay=weekday[addoSlotDate.getDay()]
var todaysDay=weekday[new Date().getDay()]
if(addoSlotDay==todaysDay){addoSlotDay='Today'}
var oneDay=24*60*60*1000
addoDiffDays=Math.round(Math.abs((new Date().getTime()-addoSlotDate.getTime())/(oneDay)))
addoDaysUntilDelivery=addoDiffDays+'day'
if(addoDiffDays>1){addoDaysUntilDelivery=addoDaysUntilDelivery+'s'}
if(slotSelectedLarge){slotSelectedLarge+='|'+addoSlotDay+':'+addoDeliveryTimeOfDay+':'+addoDaysUntilDelivery}else{slotSelectedLarge=addoSlotDay+':'+addoDeliveryTimeOfDay+':'+addoDaysUntilDelivery}
utag.link({evtDetails:"none",tealium_event:"ev | deliverySlotSelectedLarge",event:"deliverySlotSelectedLarge",deliverySlotSelection:slotSelectedLarge})}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(/pl \||Page View/.test(b.tealium_event)){var referrerForAnalytics=utag.data["dom.referrer"]
if(referrerForAnalytics){b.referrerForAnalytics=referrerForAnalytics}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{if(window.digitalData.product[0].attributes.deliveryStockCode>=0||window.digitalData.product[0].attributes.deliveryStockLevelMessage){var stockMessage
if(window.digitalData.product[0].attributes.deliveryStockLevelMessage){stockMessage=window.digitalData.product[0].attributes.deliveryStockLevelMessage.replace(/<strong>.*<\/strong>/,'(postcode)')
stockMessage=window.digitalData.product[0].attributes.deliveryStockLevelMessage.replace(/(.* to )(.*)/,'$1'+'(postcode)')}
b.pdpStockCode=window.digitalData.product[0].attributes.deliveryStockCode
b.pdpStockMessage=stockMessage}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((b['dom.pathname'].toString().toLowerCase().indexOf('DoLookupAddress'.toLowerCase())>-1&&typeof b['assignedPostcode']!='undefined'&&b['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1)){document.cookie="assignedPostcode="+b['assignedPostcode']+";path=/;domain="+utag.cfg.domain+";expires=";b['cp.assignedPostcode']=b['assignedPostcode'];}}catch(e){utag.DB(e);}},function(a,b){try{if((b['dom.pathname'].toString().toLowerCase().indexOf('ArgosDeliveryAvailability'.toLowerCase())>-1&&typeof b['assignedPostcode']=='undefined'&&typeof b['cp.assignedPostcode']!='undefined')||(b['dom.pathname'].toString().toLowerCase().indexOf('DoLookupAddress'.toLowerCase())>-1&&typeof b['assignedPostcode']=='undefined'&&typeof b['cp.assignedPostcode']!='undefined')){try{b['assignedPostcode']=b["cp.assignedPostcode"]}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | tlp_initialLoad'.toLowerCase()){try{if(window.digitalData.cart.item[0].careOffered===true||window.digitalData.cart.item[0].careOffered===false){var itemArrayLastPosition=window.digitalData.cart.item.length
var DDcartItem=window.digitalData.cart.item
var currProduct
var itemCareOfferedArray=[]
var itemProducts=[]
for(var i=0;i<itemArrayLastPosition;i++){currProduct=DDcartItem[i].id
if(itemProducts.indexOf(currProduct)===-1&&DDcartItem[i].isRemoved!==true&&b.productId.indexOf(currProduct)>=0){switch(DDcartItem[i].careOffered){case true:itemCareOfferedArray.push(1)
itemProducts.push(currProduct)
break
case false:itemCareOfferedArray.push(0)
itemProducts.push(currProduct)
break}}}
if(itemProducts.length===b.productId.length){b.itemProductCareOffered=itemCareOfferedArray
b.itemProductCareOfferedString=itemCareOfferedArray.toString()}}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{if(window.digitalData.event[0].eventInfo.eventAction){var digitalEvent=window.digitalData.event
var eventLength=digitalEvent.length
if(digitalEvent[eventLength-1].eventInfo.eventName==='productCareLbTermsAccepted'){b.prop25Value='TLP:productCareLbTermsAccepted'
var productID=window.digitalData.page.lightBox.product[0].id
var productArray=[productID]
b.productId=productArray}}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if((/^pl \|/.test(b['tealium_event'])&&!/LbPage$/.test(b['event']))){try{if(window.digitalData.page.search.dymMethod==='dym_sug'){b.prop25Value='ar:dymClicked'}else if(window.digitalData.page.search.dymMethod==='dym_rep'){b.prop25Value='ar:dymReplacement'}else if(window.digitalData.page.search.dymMethod==='dym_display'){b.prop25Value='ar:dymDisplay'}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(typeof b['dymDisplayString']!='undefined'){b['dymString']=b['dymDisplayString']}}catch(e){utag.DB(e);}},function(a,b){try{if(1){try{if(window.digitalData.event[0].eventInfo.eventAction&&window.digitalData.event[0].eventInfo.eventName){var digitalEvent=window.digitalData.event
var eventLength=digitalEvent.length
var eventAction=digitalEvent[eventLength-1].eventInfo.eventAction
var eventName=digitalEvent[eventLength-1].eventInfo.eventName
var linkName=digitalEvent[eventLength-1].attributes.link
var interactionDetail=b.interactionDetail
if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/Questions & Answers/i.test(linkName)){b.interactionDetail=interactionDetail+':questionsanswers'}else if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/Reviews/i.test(linkName)){b.interactionDetail=interactionDetail+':reviews'}else if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/About This Product/i.test(linkName)){b.interactionDetail=interactionDetail+':aboutthisproduct'}else if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/More Details/i.test(linkName)){b.interactionDetail=interactionDetail+':moredetails'}else if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/Special Offers/i.test(linkName)){b.interactionDetail=interactionDetail+':specialoffers'}else if(/pdp_stickyBarAnchorLink/i.test(eventName)&&/Bought Together/i.test(linkName)){b.interactionDetail=interactionDetail+':boughttogether'}}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var hitType=/^pl \|*/gi.test(b.tealium_event)?'pageview':'interaction';if(hitType==='pageview'&&b.ddPage&&b.ddPage.attributes&&b.ddPage.attributes.errorMessage){b.errorMessage=b.ddPage.attributes.errorMessage;b.formError=b.ddPage.attributes.errorMessage;}else if(hitType==='interaction'&&b.evtAttributes?.errorMessage){b.errorMessage=b.evtAttributes.errorMessage;b.formError=b.evtAttributes.errorMessage;}
if(b.event=='trolleySignInField_emailSuggestionOffered'||b.event=='trolleyReservationField_emailSuggestionOffered'){try{b.formError=b.evtData.attributes.message;}catch(e){utag.DB('b.evtData.attributes.message not defined');}}else if(b.event=='trolleySignInField_emailSuggestionAccepted'||b.event=='trolleyReservationField_emailSuggestionAccepted'){b.formError='';}
if(b.evtData.attributes.errorMessage&&((b.siteSection&&b.siteSection==='ar:trolley:')||b.event==='localisation_localisationFailure'||b.event==='mpp_needToEnterPreviousAddressError')){b.formError=b.evtData.attributes.errorMessage;}else if(b.event==='mpp_otpError'&&b.evtData&&b.evtData.attributes&&typeof b.evtData.attributes.errorType==='string'&&b.evtData.attributes.errorType!==''){b.formError=b.evtData.attributes.errorType;}else if(b.event==='mpp_yourApplicationHasTimedOutLbPage'&&b.ddLightbox&&b.ddLightbox.errorType&&typeof b.ddLightbox.errorType==='string'&&b.ddLightbox.errorType!==''){b.errorMessage=b.ddLightbox.errorType;}
if(b.tealium_event==='ev | Interaction: Credit Options'){var creditType='';if(/mpp/i.test(b.event)){creditType='MPP:';}else if(/argosCard/i.test(b.event)){creditType='CAPE:';}
if(creditType!==''&&b.evtData&&b.evtData.attributes){var errorType=b.evtData.attributes.errorType;var errorMessage='';if(typeof errorType==='string'&&errorType!==''){errorMessage=b.siteSection+creditType+errorType.toLowerCase();}else if(Array.isArray(errorType)&&errorType.length>0){errorMessage=errorType
.map(function(err){return b.siteSection+creditType+err.toLowerCase();})
.join('|');}
b.formError=errorMessage;}}
if(b.tealium_event==='ev | Arrange Delivery'||b.tealium_event==='ev | Change Address Lightbox'){if(b.evtAttributes&&b.evtAttributes.errorType){b.formError=b.evtAttributes.errorType;b.errorMessage=b.formError;}}
}}catch(e){utag.DB(e)}},function(a,b){try{if(b['siteSection']=='ar:productdetails:'){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(1){}}catch(e){utag.DB(e)}},function(a,b){try{if(b['siteSection'].toString().indexOf('ar:trolley')>-1){if(b.pageName==='ar:trolley:prepay:payment'||b.pageName==='ar:trolley:homedelivery:payment'){window.digitalData=window.digitalData||{}
if(typeof window.digitalData.paypalEventListenerAdded=='undefined'){var paypalEventListener=function(e){if(document.activeElement===document.querySelector('.zoid-component-frame')){digitalData.track('trolley_paymentSelection_paypal')
}}
focus()
window.addEventListener('blur',paypalEventListener)
window.digitalData.paypalEventListenerAdded=true}
if(b.tealium_event=='ev | Interaction: trolley_paymentSelection_paypal'){b.paymentSelection='payment:selected:PayPal'}}
if(b.pageName=='ar:trolley:trolleylist:'){b.subTotal=window.digitalData.cart.price.total
if(window.digitalData.cart&&window.digitalData.cart.item){var items=digitalData.cart.item
b.unitsPotential=items.map(function(item){return item.quantity})}}
if(b.tealium_event=='pl | stockhold_OutOfStock'){b.outOfStockStatus=digitalData.page.attributes.stockhold.OutOfStock
b.totalQuantityOOS=digitalData.cart.stock.totalQuantityOOS
b.totalValueOOS=digitalData.cart.stock.totalValueOOS
b.basketValueChangeOOS=digitalData.cart.stock.basketValueChange
b.basketQuantityChangeOOS=digitalData.cart.stock.basketQuantityChange
b.outOfStockPromo=digitalData.page.attributes.stockhold.promotion
var oosPromoType
oosPromoType=digitalData.cart.item.map(function(item){return item.promoType})
b.productPromoTypeOOS=oosPromoType
var productId
productId=digitalData.cart.item.map(function(item){return item.productId})
b.productId=productId}
if(b.tealium_event=='ev | stockhold_OutOfStock_shopAll'){b.prop25Value=b.pageName+'shopall:'+digitalData.event[0].attributes.product.categoryName}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | pdp_initialLoad'.toLowerCase()){var productBadge=[]
productBadge=window.digitalData.product[0].attributes.badges
if(productBadge&&productBadge.length>0){for(var i=0;i<productBadge.length;i++){var currBadge=productBadge[i]
if(/&#163;/.test(currBadge)){currBadge=currBadge.replace(/&#163;/g,String.fromCharCode(163))
productBadge[i]=currBadge}
if(/_/.test(currBadge)){currBadge=currBadge.replace(/_/g,' ')
productBadge[i]=currBadge}
if(i>0){if(productBadge[i]===productBadge[i-1]){productBadge.pop()}}}
productBadge=productBadge.join('~')
b.productBadge=[productBadge]
b.productBadgeOffered=[1]}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){try{b['searchBoxWasUsed']=digitalData.page.attributes.searchBoxWasUsed}catch(e){};try{b['refinementBoxWasUsed']=digitalData.page.attributes.refinementBoxWasUsed}catch(e){};try{b['tellMeWhere']=digitalData.page.attributes.tellMeWhere}catch(e){};try{b['searchBoxValue']=digitalData.page.attributes.searchBoxValue}catch(e){};try{b['storeSelectorCtaLocation']=b.evtData.attributes.ctaLocation}catch(e){};try{b['storeSelectorStoreId']=b.evtData.attributes.store}catch(e){};try{b['apiSearchValue']=digitalData.page.attributes.apiSearchValue}catch(e){};try{b['apiSearchType']=digitalData.page.attributes.apiSearchType}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(typeof b['apiSearchType']!='undefined'&&b['apiSearchType']!=''){b['apiSearchValue_type']=b['apiSearchType']}}catch(e){utag.DB(e);}},function(a,b,c,d){try{if((typeof b['apiSearchValue']!='undefined'&&b['apiSearchValue']!=''&&typeof b['apiSearchType']!='undefined'&&b['apiSearchType']!='')){c=[b['apiSearchValue'],b['apiSearchType']];b['apiSearchValue_type']=c.join('|')}}catch(e){utag.DB(e);}},function(a,b){try{if(1){const url=window.location.search;const utm_params=['utm_source','utm_medium','utm_campaign','utm_term','utm_content','utm_custom1','utm_custom2','utm_custom6'];getQueryParams(url,utm_params);function getQueryParams(url,paramList){paramList.forEach((param)=>{const regex=new RegExp('[\\?&]'+param+'=([^&#]*)','i');const match=url.match(regex);if(match){let value=match[1];try{value=decodeURIComponent(value);}catch(e){value=value.replace(/%(?![0-9A-Fa-f]{2})/g,'');try{value=decodeURIComponent(value);}catch(e2){utag.DB('Extension 306 - UTM Marketing Params:',e2);}}
b[param]=value;}else{}});}}}catch(e){utag.DB(e)}},function(a,b){try{if((typeof b['pageName']!='undefined'&&typeof b['pageName']!='undefined'&&b['pageName']!='')){b['eventPageName']=b['pageName']}}catch(e){utag.DB(e);}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | pdp_initialLoad'.toLowerCase()){try{if(typeof window.digitalData.product[0].attributes.ar3d!=='undefined'&&window.digitalData.product[0].attributes.ar3d===true){b.productAR3DOffered=[1]}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(/^ar:myaccount:/.test(b['pageName'])){var s_notif=function(n){utag.DB('Firing AA hit for event: '+n)}
switch(b.event){case'ma_prepayExtended':s_notif(b.event)
b.prop25Value='ar:myaccount:extendPrepay'
break;case'ma_reservationExtended':s_notif(b.event)
b.prop25Value='ar:myaccount:extendReservation'
break;case'ma_prepayCancelled':s_notif(b.event)
b.prop25Value='ar:myaccount:cancelPrepay'
break;case'ma_reservationCancelled':s_notif(b.event)
b.prop25Value='ar:myaccount:cancelReservation'
break;case'ma_rescheduleDelivery':s_notif(b.event)
b.prop25Value='ar:myaccount:orderDetails:clickedrescheduledelivery:'
break;case'ma_rescheduleDeliveryNewSlotYes':s_notif(b.event)
b.prop25Value='ar:myaccount:orderDetails:rescheduledelivery:isthisright:clickedyes'
break;case'ma_rescheduleDeliveryNewSlot':s_notif(b.event)
b.prop25Value='ar:myaccount:orderDetails:rescheduledelivery:clickednewdeliveryslot'
break;case'ma_rescheduleDeliveryConfirmation':s_notif(b.event)
b.prop25Value='ar:myaccount:orderDetails:rescheduledelivery:deliveryslotchangeconfirmation:'
break;case'ma_searchOrdersOpened':s_notif(b.event)
b.prop25Value='ar:ma:orderSummary:searchOrderOpened:'
b.pageName=digitalData.page.pageInfo.pageName
break;case'ma_VATReceiptRendered':b.contentImpression=b.pageName+'vatReceiptRendered'+'-link'
b.orderId=b.evtData.eventInfo.attributes.orderID
break;case'ma_VATReceiptClicked':b.prop25Value=b.pageName+'vatReceiptClicked'
b.orderId=b.evtData.eventInfo.attributes.orderID
break;}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['pageName'].toString().toLowerCase()=='ar:trolley:trolleylist:'.toLowerCase()){if(window.digitalData.cart.stock.collectionMessageKey!=='undefined'||window.digitalData.cart.stock.deliveryMessageKey!=='undefined'){var stockCollectionMessageKey=window.digitalData.cart.stock.collectionMessageKey
var stockCollectionMessage=(stockCollectionMessageKey.length===0)?'COLLECTION_NO_STORE':stockCollectionMessageKey
var stockDeliveryMessageKey=window.digitalData.cart.stock.deliveryMessageKey
var stockDeliveryMessage=(stockDeliveryMessageKey.length===0)?'DELIVERY_NO_POSTCODE':stockDeliveryMessageKey
b.cartStockAvailability=stockCollectionMessage+'~'+stockDeliveryMessage}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event=='ev | Interaction: Wishlist'){let wishlistAction=b.evtData?.attributes?.isAddedOrRemoved;if(wishlistAction){b.prop25Value=b.siteSection+b.evtData?.attributes?.clickOrigin+':wishlist:'+wishlistAction;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['event'].toString().toLowerCase()=='collectionPNChoosePaymentOption'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='pl | orderConfirmation'.toLowerCase()||b['event'].toString().toLowerCase()=='collectionPNChooseSavedPaymentOption'.toLowerCase()||b['event'].toString().toLowerCase()=='choosePaymentOption'.toLowerCase()||b['event'].toString().toLowerCase()=='chooseSavedPaymentOption'.toLowerCase()){if(((b.event==='collectionPNChoosePaymentOption'||b.event==='collectionPNChooseSavedPaymentOption')&&b.evtData.attributes.paymentOption)||((b.event==='choosePaymentOption'||b.event==='chooseSavedPaymentOption')&&b.evtData.attributes.paymentOption)){let paymentOption=b.evtData.attributes.paymentOption;b.paymentSelection='ar:payment:choosepayment:'+paymentOption;b.confirmAndPayPaymentOption=b.paymentSelection;}
if(b.tealium_event==='pl | orderConfirmation'&&b.dd.transaction.payment.paymentSelected){if(b.pageName=='ar:trolley:prepay:confirmation:'||b.pageName=='ar:trolley:buy:confirmationpage:'){let paymentOptionArray=b.dd.transaction.payment.paymentSelected;let paymentOptions=paymentOptionArray.join('|');b.paymentSelection='ar:payment:confirmed:'+paymentOptions.toUpperCase();}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event=="pdp_initialLoad"){var products=b.dd.product
if(typeof products!="undefined"&&products instanceof Array&&products.length===1&&typeof products[0].attributes!="undefined"&&typeof products[0].attributes.careOffered=="boolean"){b.itemProductCareOffered=[products[0].attributes.careOffered?1:0]
b.itemProductCareOfferedString=b.itemProductCareOffered.toString()}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(/pdp_.*API/.test(b.event)&&!/Postcode/.test(b.event)){if(b.dd&&b.dd.product&&b.dd.product[0]&&b.dd.product[0].attributes&&b.dd.product[0].attributes.storeID&&b.dd.product[0].attributes.alternativesStore&&b.pageType){if(b.dd.product[0].attributes.alternativesStore>0){b.contentImpression=b.pageType+':'+'alternativeStore-banner'}}}
if(b.event=='tlp_initialLoad'||b.event=='tlp_newStoreSelected'||b.event=='tlp_changeVariant'||b.event=='tlp_itemRemoved'||b.event=='tlp_itemUndoRemoval'||b.event=='tlp_itemQuantityChanged'||b.event=='addToTrolley'){if(b.dd.cart.recommendedStore&&b.dd.cart.recommendedStore>0&&b.pageType){b.contentImpression=b.pageType+':'+'alternativeStore-banner'}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | pdp_initialLoad'.toLowerCase()){var clickSR=b["qp.clickSR"]
if((clickSR&&/^(slp:term)/.test(clickSR))){var clickSRArray=clickSR.split(":")
if(b.previousSiteSection=='ar:search:'){if(clickSRArray.length===6){var searchTerm=clickSRArray[2]
var clickPosition=clickSRArray[3]
var searchRecall=clickSRArray[4]
var relevancyRank=clickSRArray[5]
if(searchTerm&&clickPosition&&searchRecall&&relevancyRank){if((!isNaN(clickPosition))&&(!isNaN(searchRecall))&&(!isNaN(relevancyRank))){if(parseInt(clickPosition)==clickPosition&&parseInt(searchRecall)==searchRecall&&parseInt(relevancyRank)==relevancyRank){b.searchClickAttributes='slp:term'+':'+searchTerm+':'+clickPosition+':'+searchRecall+':'+relevancyRank
b.searchClickPosition=[clickPosition]
b.searchClickRecall=[searchRecall]
b.searchClickRelevancyRank=[relevancyRank]}}}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='pdp_nectarPointsSideDrawerOpen'){b.prop25Value=b.pageType+':nectarpoints'}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='pl | tlp_initialLoad'.toLowerCase()){try{if(typeof b.dd.cart.item[0].variantOffered=="boolean"){var items=b.dd.cart.item.length
var DDcartItem=b.dd.cart.item
var currProduct
var variantType
var itemVariantOfferedArray=[]
var itemVariantTypeArray=[]
var itemProducts=[]
for(var i=0;i<items;i++){currProduct=DDcartItem[i].id
if(itemProducts.indexOf(currProduct)===-1&&DDcartItem[i].isRemoved!==true&&b.productId.indexOf(currProduct)>=0){if(DDcartItem[i].variantType!="undefined"){variantType=DDcartItem[i].variantType}
switch(DDcartItem[i].variantOffered){case true:itemVariantOfferedArray.push(1)
itemVariantTypeArray.push(variantType)
itemProducts.push(currProduct)
break
case false:itemVariantOfferedArray.push(0)
itemVariantTypeArray.push('noVariant')
itemProducts.push(currProduct)
break}}}
if(itemProducts.length===b.productId.length){b.itemProductVariantOffered=itemVariantOfferedArray
b.itemProductVariantType=itemVariantTypeArray}}}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==="tlp_changeVariant"||b.event==="tlp_variantUpdated"||b.event==="tlp_variantSelected"){var currEvent=b.event
if(b.evtData&&b.evtData.attributes&&(b.evtData.attributes.productID||b.evtData.attributes.replacementProductID)){b.prop25Value=b.siteSection+window.utag.data.createUDOString([currEvent.substring(4),b.evtData.attributes.variantType])
if(b.event==='tlp_changeVariant'||b.event==="tlp_variantSelected"){b.productId=[b.evtData.attributes.productID]}else if(b.event==='tlp_variantUpdated'){b.productId=[b.evtData.attributes.replacementProductID]}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){switch(b.event){case'pageview':if(b.pageName==='ar:trolley:buy:confirmationpage:'||b.pageName==='ar:trolley:prepay:confirmation:'){if(window.s.events&&window.s.products){if(window.s.events.split(',').indexOf('event216')!==-1){b.monthlyCareOfferedInOCP=true
b.monthlyCareOfferedProductsEvent=window.s.products.split(',').map(function(p){var matches=p.match(/(?:[;|])event216=([01])(?:[;|]|$)/i)
return matches?parseInt(matches[1]):undefined})}}}
break;case'prepayConfirmation_initialLoad':if(b.dd.transaction&&b.dd.transaction.item){b.monthlyCareOfferedInOCP=true
b.monthlyCareOfferedProductsEvent=b.dd.transaction.item.map(function(p){return p.monthlyCareOffered===true?1:0})}
break;case'homeDeliveryConfirmation_initialLoad':if(b.dd.transaction&&b.dd.transaction.item){b.monthlyCareOfferedInOCP=true
b.monthlyCareOfferedProductsEvent=b.dd.transaction.item.map(function(p){return p.monthlyCareOffered===true?1:0})}
break;case'monthlyCare_info':if(b['qp.clickSource']!==''){b.contentInteraction=b['qp.clickSource']
b.prop25Value=b.contentInteraction}
break;case'tlp_initialLoad':if(b.dd!==undefined&&b.dd.cart!==undefined&&b.dd.cart.item instanceof Array&&b.dd.cart.item.length>0){b.monthlyCareOfferedInTLP=true
b.monthlyCareOfferedProductsEvent=b.dd.cart.item
.filter(function(item){return item.isRemoved===false})
.map(function(item){return item.monthlyCareOffered===true?1:0})}
break;case'pdp_initialLoad':if(b.dd!==undefined&&b.dd.product!==undefined&&b.dd.product instanceof Array&&b.dd.product[0]!==undefined&&b.dd.product[0].attributes!==undefined&&b.dd.product[0].attributes.monthlyCareOffered!==undefined){b.monthlyCareOfferedInPDP=true
b.monthlyCareOfferedProductsEvent=[b.dd.product[0].attributes.monthlyCareOffered===true?1:0]}
break;case'monthlyProductCareLbPage':if(b.ddLightbox!==undefined&&b.ddLightbox.product!==undefined&&b.ddLightbox.product instanceof Array){b.monthlyCareOfferedInLbPage=true
b.monthlyCareOfferedProductsEvent=[1,0]}
break;case'attLbOpenMonthlyCareAccordion':b.prop25Value='attLb:monthlyCareAccordionOpen'
var products=b.evtData.attributes.product
if(products!==undefined&&products instanceof Array){b.productId=products.map(function(p){return p.id})}
break;case'attLbMonthlyCareAccordionIPIDdocumentLink':b.prop25Value='attLb:monthlyCareAccordion:IPIDdocumentlink'
var products=b.evtData.attributes.product
if(products!==undefined&&products instanceof Array){b.productId=products.map(function(p){return p.id})}
break;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.pageName==='ar:monthlycare:info:'){switch(b.event){case'monthlyCare_info':b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_infoWhatsIncluded':b.prop25Value='ar:monthlycare:info:whatsincluded:clicked'
break;case'monthlyCare_infoWhatsExcluded':b.prop25Value='ar:monthlycare:info:whatsexcluded:clicked'
break;case'monthlyCare_infoContinue':b.prop25Value='ar:monthlycare:info:continue:clicked'
break;case'monthlyCare_infoBack':b.prop25Value='ar:monthlycare:info:back:clicked'
break;case'monthlyCare_systemErrorMessage':b.errorMessage=b.evtData.attributes.errorMessage
break;}}else if(b.pageName==='ar:monthlycare:howtogetstarted:'){switch(b.event){case'monthlyCare_howToGetStarted':b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_howToGetStartedContinue':b.prop25Value='ar:monthlycare:howtogetstarted:continue:clicked'
break;case'monthlyCare_howToGetStartedBack':b.prop25Value='ar:monthlycare:howtogetstarted:back:clicked'
break;case'monthlyCare_systemErrorMessage':b.errorMessage=b.evtData.attributes.errorMessage
break;}}else if(b.pageName==='ar:monthlycare:legal:'){switch(b.event){case'monthlyCare_legal':b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_legalPolicyInformationDocumentLink':b.prop25Value='ar:monthlycare:legal:policyinformationdocumentlink:clicked'
break;case'monthlyCare_legalIPIDdocumentLink':b.prop25Value='ar:monthlycare:legal:IPIDdocumentlink:clicked'
break;case'monthlyCare_legalContinue':b.prop25Value='ar:monthlycare:legal:continue:clicked'
break;case'monthlyCare_legalBack':b.prop25Value='ar:monthlycare:legal:back:clicked'
break;case'monthlyCare_systemErrorMessage':b.errorMessage=b.dd.evtData.attributes.errorMessage
break;case'monthlyCare_formFieldError':b.prop25Value='ar:monthlycare:'+b.pageName+'fieldName:error'
var form=b.dd.page.form[0]
var fieldId=b.evtData.attributes.fieldId
var field=form.fields[fieldId]
b.errorMessage=field.errorMessage
break;}}else if(b.pageName==='ar:monthlycare:directdebit:setup:'){switch(b.event){case'monthlyCare_directDebitSetup':b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_directDebitSetupProgressSuccess':b.prop25Value='ar:monthlycare:directdebit:setup:progress:success'
break;case'monthlyCare_directDebitSetupBack':b.prop25Value='ar:monthlycare:directdebit:setup:back:clicked'
break;}}else if(b.pageName==='ar:monthlycare:directdebit:summary:'){switch(b.event){case'monthlyCare_directDebitSummary':b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_directDebitSummaryBack':b.prop25Value='ar:monthlycare:directdebit:summary:back:clicked'
break;case'monthlyCare_directDebitSummaryBuyMonthlyCare':b.prop25Value='ar:monthlycare:directdebit:summary:buymonthlycare:clicked'
break;}}else if(b.pageName==='ar:monthlycare:confirmation:'){switch(b.event){case'monthlyCare_confirmation':if(b.dd&&b.dd.monthlyCare&&b.dd.monthlyCare.plans&&Array.isArray(b.dd.monthlyCare.plans)){var monthlyCarePlans=b.dd.monthlyCare.plans
var uniquePlans={}
var uniqueHostProducts=[]
monthlyCarePlans.forEach(function(plan){if(!uniquePlans.hasOwnProperty(plan.warrantySKU)){uniquePlans[plan.warrantySKU]={'warrantySKU':plan.warrantySKU,'productSKU':plan.productSKU,'warrantyMonthlyPrice':parseFloat(plan.warrantyMonthlyPrice),'warrantyUnits':1}}else{uniquePlans[plan.warrantySKU].warrantyUnits++
uniquePlans[plan.warrantySKU].warrantyMonthlyPrice+=parseFloat(plan.warrantyMonthlyPrice)}
if(uniqueHostProducts.indexOf(plan.productSKU)===-1){uniqueHostProducts.push(plan.productSKU)}})
b.monthlyCareOrderComplete=true
b.productId=[]
b.monthlyCareQuantity=[]
b.monthlyCarePricePerMonth=[]
for(var p in uniquePlans){var plan=uniquePlans[p]
b.productId.push(plan.warrantySKU)
b.monthlyCareQuantity.push(plan.warrantyUnits.toString())
b.monthlyCarePricePerMonth.push(plan.warrantyMonthlyPrice.toFixed(2))}
for(var p in uniqueHostProducts){b.productId.push(uniqueHostProducts[p])
b.monthlyCareQuantity.push('')
b.monthlyCarePricePerMonth.push('')}}else{b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
b.monthlyCareOrderComplete=true
b.monthlyCareOrderCompleteProductsEvent=b.dd.monthlyCare.attributes.items.map(function(p){return 1})}
break;case'monthlyCare_confirmationArgosProductCareWebsiteLink':b.prop25Value='ar:monthlycare:confirmation:argosproductcarewebsitelink:clicked'
break;case'monthlyCare_confirmationBackToOrderConfirmation':b.prop25Value='ar:monthlycare:confirmation:backtoorderconfirmation:clicked'
break;case'monthlyCare_systemErrorMessage':b.errorMessage=b.evtData.attributes.errorMessage
break;}}else if(b.pageName==='ar:monthlycare:error:'){switch(b.event){case'monthlyCare_errorPage':b.errorMessage=b.dd.page.attributes.errorMessage
b.orderId=b.dd.monthlyCare.attributes.orderId
b.productId=b.dd.monthlyCare.attributes.items.map(function(p){return p.id})
break;case'monthlyCare_errorPageBackToOrderConfirmation':b.prop25Value='ar:monthlycare:error:backtoorderconfirmation:clicked'
break;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.ddPage.pageInfo.siteSection==='ar:creditapplication:'){if(typeof(b.ddPage.attributes)!=="undefined"){b.creditApplicationId=[b.ddPage.attributes.creditPaymentType,b.ddPage.attributes.creditDecision,b.ddPage.attributes.creditApplicationID].join(b.udoGlue)
if(typeof(b.ddPage.attributes.creditAvailableOptions)!=="undefined"&&Array.isArray(b.ddPage.attributes.creditAvailableOptions)){b.creditAvailableOptions=b.ddPage.attributes.creditAvailableOptions.join('|')}
b.creditSelectedPlan=b.ddPage.attributes.creditSelectedPlan}
if(b.event==='creditApplication_offerSuccessViewAllItemsLbPage'){b.productId=b.ddLightbox.products.map(function(p){return p.id})
}
switch(b.event){case'creditApplication_aboutYouLeaveApplication':b.prop25Value='ar:creditapplication:aboutyou:leaveApplication'
break;case'creditApplication_confirmationWishlist':b.prop25Value='ar:creditapplication:confirmation:wishlist'
break;case'creditApplication_confirmationCreditOffers':b.prop25Value='ar:creditapplication:confirmation:creditOffers'
break;case'creditApplication_confirmationDownloadIOSApp':b.prop25Value='ar:creditapplication:confirmation:downloadIOSApp'
break;case'creditApplication_confirmationDownloadAndroidApp':b.prop25Value='ar:creditapplication:confirmation:downloadAndroidApp'
break;case'creditApplication_confirmationHelpPage':b.prop25Value='ar:creditapplication:confirmation:helpPage'
break;case'creditApplication_confirmationFAQs':b.prop25Value='ar:creditapplication:confirmation:FAQs'
break;case'creditApplication_confirmationBackToHomepage':b.prop25Value='ar:creditapplication:confirmation:backToHomePage'
break;case'creditApplication_creditOptionsStartApplication':b.prop25Value='ar:creditapplication:creditoptions:startapplication'
break;case'creditApplication_creditOptionsLeaveApplication':b.prop25Value='ar:creditapplication:creditoptions:leaveapplication'
break;case'creditApplication_waysToApplyShopNow':b.prop25Value='ar:creditapplication:choice:shopNow'
break;case'creditApplication_waysToApplyApplyToday':b.prop25Value='ar:creditapplication:choice:applyToday'
break;case'creditApplicationDeclineAvailableToday_backToHomepage':b.prop25Value='ar:creditapplication:declineavailabletoday:backToHomepage'
break;case'creditApplicationDeclineAvailableToday_howToImproveACreditScore':b.prop25Value='ar:creditapplication:declineavailabletoday:howToImproveACreditScore'
break;case'creditApplicationDeclineAvailableToday_checkEligibilityNow':b.prop25Value='ar:creditapplication:declineavailabletoday:checkEligibilityNow'
break;case'creditApplicationDeclinedUnavilableToday_backToHomePage':b.prop25Value='ar:creditapplication:declinedunavailabletoday:backToHomePage'
break;case'creditApplicationdeclinedUnavailableToday_HowToImproveCreditScore':b.prop25Value='ar:creditapplication:declinedunavailabletoday:howToImproveCreditScore'
break;case'creditApplication_downTimeReturnToHome':b.prop25Value='ar:creditapplication:downtime:returnToHome'
break;case'creditApplication_eligibilityContinue':b.prop25Value='ar:creditapplication:eligibility:continue'
break;case'creditApplication_yourFinanceDetailsBackToPreviousSection':b.prop25Value='ar:creditapplication:yourfinancedetails:backToPreviousSection'
break;case'creditApplication_readOurFullTNCs':b.prop25Value='ar:creditapplication:importantinfo:readOurFullTNCs'
break;case'creditApplication_getStarted':b.prop25Value='ar:creditapplication:importantinfo:getStarted'
break;case'creditApplication_insufficientCreditGoBackAndEditTrolley':b.prop25Value='ar:creditapplication:insufficientcredit:goBackAndEditTrolley'
break;case'creditApplication_insufficientCreditPayAnotherWay':b.prop25Value='ar:creditapplication:insufficientcredit:payAnotherWay'
break;case'creditApplication_agreementDetailsDownloadPDF':b.prop25Value='ar:creditapplication:agreementdetails:downloadPDF'
break;case'creditApplication_agreementDetailsIveReadThis':b.prop25Value='ar:creditapplication:agreementdetails:iveReadThis'
break;case'creditApplication_agreementDetailsClose':b.prop25Value='ar:creditapplication:agreementdetails:close'
break;case'creditApplication_creditAgreementDownloadPDF':b.prop25Value='ar:creditapplication:creditagreement:downloadPDF'
break;case'creditApplication_creditAgreementIveReadThis':b.prop25Value='ar:creditapplication:creditagreement:iveReadThis'
break;case'creditApplication_creditAgreementClose':b.prop25Value='ar:creditapplication:creditagreement:close'
break;case'creditApplication_lwsMybeLaterGoToBasket':b.prop25Value='ar:creditapplication:lws:maybeLaterGoToBasket'
break;case'creditApplication_lwsReturnToApplication':b.prop25Value='ar:creditapplication:lws:returnToApplication'
break;case'creditApplication_precontractInfoDownloadPDF':b.prop25Value='ar:creditapplication:precontractinfo:downloadPDF'
break;case'creditApplication_precontractInfoIveReadThis':b.prop25Value='ar:creditapplication:precontractinfo:iveReadThis'
break;case'creditApplication_precontractInfoClose':b.prop25Value='ar:creditapplication:precontractinfo:close'
break;case'creditApplication_offerSuccessViewCreditAgreement':b.prop25Value='ar:creditapplication:offersuccess:viewCreditAgreement'
break;case'creditApplication_offerSuccessViewAgreementDetails':b.prop25Value='ar:creditapplication:offersuccess:viewAgreementDetails'
break;case'creditApplication_offerSuccessViewPreContractInfo':b.prop25Value='ar:creditapplication:offersuccess:viewPreContractInfo'
break;case'creditApplication_offerSuccessSubmitApplication':b.prop25Value='ar:creditapplication:offersuccess:submitApplication'
break;case'creditApplication_offerSuccessMaybeLater':b.prop25Value='ar:creditapplication:offersuccess:maybeLater'
break;case'creditApplication_offerReferViewCreditAgreement':b.prop25Value='ar:creditapplication:offerrefer:viewCreditAgreement'
break;case'creditApplication_offerReferViewAgreementDetails':b.prop25Value='ar:creditapplication:offerrefer:viewAgreementDetails'
break;case'creditApplication_offerReferViewPreContractInfo':b.prop25Value='ar:creditapplication:offerrefer:viewPreContractInfo'
break;case'creditApplication_offerReferSubmitApplication':b.prop25Value='ar:creditapplication:offerrefer:submitApplication'
break;case'creditApplication_offerReferMaybeLater':b.prop25Value='ar:creditapplication:offerrefer:maybeLater'
break;case'creditApplication_offerReferPayAnotherWay':b.prop25Value='ar:creditapplication:offerrefer:payAnotherWay'
break;case'creditApplication_personalEligibilityContinue':b.prop25Value='ar:creditapplication:personalEligibility:continue'
break;case'creditApplication_completeReferWishlist':b.prop25Value='ar:creditapplication:completerefer:wishlist'
break;case'creditApplication_completeReferCreditOffers':b.prop25Value='ar:creditapplication:completerefer:creditOffers'
break;case'creditApplication_completeReferDownloadIOSApp':b.prop25Value='ar:creditapplication:completeRefer:downloadIOSApp'
break;case'creditApplication_completeReferDownloadAndroidApp':b.prop25Value='ar:creditapplication:completerefer:downloadAndroidApp'
break;case'creditApplication_completeReferHelpPage':b.prop25Value='ar:creditapplication:completerefer:helpPage'
break;case'creditApplication_completeReferFAQs':b.prop25Value='ar:creditapplication:completerefer:FAQs'
break;case'creditApplication_completeReferBackToHomepage':b.prop25Value='ar:creditapplication:completerefer:backToHomePage'
break;case'creditApplication_whereYouLiveBackToPreviousSection':b.prop25Value='ar:creditapplication:whereyoulive:backToPreviousSection'
break;case'creditApplication_whereYouLiveChangeAddress':b.prop25Value='ar:creditapplication:whereyoulive:goBackAndChangeAddress'
break;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['event'].toString().toLowerCase()=='namogoo_indicatorEvent'.toLowerCase()){var isInfected=b.evtData.attributes.namogooIsInfected
var inBlockMode=b.evtData.attributes.namogooInBlockMode
var namogooIndicators=[]
if(isInfected!==undefined&&(isInfected===1||isInfected===0)){namogooIndicators.push("isinfected:"+isInfected)}
if(inBlockMode!==undefined&&(inBlockMode===1||inBlockMode===0)){namogooIndicators.push("inblockmode:"+inBlockMode)}
var namogooIndicator=namogooIndicators.join('|')
if(namogooIndicator!==''){b.namogoo=namogooIndicator}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='attLbOpenTermCareAccordion'){b.prop25Value='attLb:termCareAccordionOpen'
var products=b.evtData.attributes.product
if(products!==undefined&&products instanceof Array){b.productId=products.map(function(p){return p.id})}}else if(b.event==='attLbTermCareAccordionIPIDdocumentLink'){b.prop25Value='attLb:termCareAccordion:IPIDdocumentlink'
var products=b.evtData.attributes.product
if(products!==undefined&&products instanceof Array){b.productId=products.map(function(p){return p.id})}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(!b.promoCodeValue){if(b.evtAttributes?.promoCodeValue){b.promoCodeValue=b.evtAttributes.promoCodeValue;}else if(b.evtAttributes?.promoCode){b.promoCodeValue=b.evtAttributes.promoCode;}}
if(window.s&&window.s.eVar11&&window.s.eVar11!==''){b.promoCode=window.s.eVar11;}
if(b.tealium_event==='pl | orderConfirmation'&&digitalData?.transaction?.promoCode){if(b.pageName==='ar:trolley:prepay:confirmation:'||b.pageName==='ar:trolley:buy:confirmationpage:'){let promoCodeArray=digitalData.transaction.promoCode;if(promoCodeArray&&typeof promoCodeArray!='undefined'&&promoCodeArray!==null){let promoCode=promoCodeArray.join(':');promoCode=promoCode.toString().toUpperCase();b.promoCode=promoCode;b.promoCodeCJ=promoCode.replace(/[ .Â£]/g,'');}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.productId&&b.units&&b.revenue){b.itemIds=b.productId.join('|')
b.itemQuantities=b.units.join('|')
b.itemRevenues=b.revenue.join('|')}
if(b.productId&&!b.revenue){b.itemIds=b.productId.join('|')}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='attWarrantiesOffered'){if(b.evtData!==undefined&&b.evtData.attributes!==undefined){var products=b.evtData.attributes.product
if(products!==undefined&&products instanceof Array){b.monthlyCareOfferedInATTLbPage=true
b.productId=[]
b.itemProductCareOffered=[]
b.monthlyCareOfferedProductsEvent=[]
products.forEach(function(p){b.productId.push(p.id)
b.itemProductCareOffered.push(p.termCareOffered===true?'1':'0')
b.monthlyCareOfferedProductsEvent.push(p.monthlyCareOffered===true?1:0)})
b.itemProductCareOfferedString=b.itemProductCareOffered.toString()}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var clickPR=b["qp.clickPR"]
if((clickPR&&/^(plp:)/.test(clickPR))){var clickPRArray=clickPR.split(":")
if(b.previousSiteSection=='ar:cat:'){b.plpPage=b.previousPageName
if(clickPRArray.length===3){var clickPosition=clickPRArray[1]
var plpLength=clickPRArray[2]
if(clickPosition&&plpLength){if((!isNaN(clickPosition))&&(!isNaN(plpLength))){if(parseInt(clickPosition)==clickPosition&&parseInt(plpLength)==plpLength){b.plpClickAttributes='plp:'+clickPosition+':'+plpLength
b.plpClickPosition=[clickPosition]
b.plpLength=[plpLength]}}}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['pageType'].toString().toLowerCase()=='plp'.toLowerCase()){try{b['plpPage']=b.pageName}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(b.event==='tlp_error'&&b.evtData&&b.evtData.attributes&&b.evtData.attributes.type){b.errorMessage='tlp:'.concat(b.evtData.attributes.type)}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var syteEvent=null;if(b.event==='pdp_syteDiscoveryButtonImpression'){syteEvent='discoveryButtonImpression';}else if(b.event==='pdp_syteDiscoveryButtonClick'){syteEvent='discoveryButtonClick';}else if(b.event==='pdp_syteProductClick'){syteEvent='productClick';}
if(syteEvent){b.prop25Value=[b.pageType,'syte',syteEvent].join(':');if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.productID){b.productId=[b.evtData.attributes.productID];}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.pageName==='ar:trolley:buy:arrangedelivery:'){if(b.event=='pageview'&&window.s&&window.s.prop28){b.contentImpression=s.pageName+window.s.prop28}
if(b.event==='s.tl Hijack'&&window.s&&window.s.prop29){b.formError='ageRestrictedError:'+window.s.prop29.replace(".","").toLowerCase()}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){function getPageName(){try{var pageName=null;if(/DeliveryConfirmation/i.test(window.location.pathname)){pageName=window.s.pageName;}else{pageName=window.digitalData.page.pageInfo.pageName;}
return pageName;}catch(error){return null;}}
function getSkuOnPDP(){try{var sku=window.digitalData.product[0].productInfo.productID;return sku;}catch(error){return null;}}
function getProductListOnTrolleyPage(){try{var productList=window.digitalData.cart.item;return productList.filter(function(p){return(!p.isRemoved);}).map(function(p){return{sku:p.id,quantity:parseInt(p.quantity),price:parseFloat(p.price)};});}catch(error){return null;}}
function getOrderIdOnConfirmationPage(){try{var orderId=null;if(/DeliveryConfirmation/i.test(window.location.pathname)){orderId=window.s.purchaseID;}else{orderId=window.digitalData.transaction.orderNumber;}
return orderId;}catch(error){return null;}}
function getProductListOnConfirmationPage(){try{var productList=null;if(/DeliveryConfirmation/i.test(window.location.pathname)){var sProducts=window.s.products.split(',');productList=sProducts.map(function(p){var pFields=p.split(';');return{sku:pFields[1],quantity:parseInt(pFields[2]),price:parseFloat(pFields[3])};});}else{productList=window.digitalData.transaction.item.map(function(p){return{sku:p.id,quantity:p.quantity,price:p.price};});}
return productList;}catch(error){return null;}}
var pageName=getPageName();var isProductPage=/\:pdp/i.test(pageName);var isTrolleyPage=/\:trolley/i.test(pageName);var isConfirmationPage=/:confirmation/i.test(pageName);var payload={tag:'ecommerce'};var isValid=false;if(isProductPage){if(/^pdp_(initialLoad|variantStockAPIs)$/i.test(b.event)){payload.name='fe_page_view';payload.sku=getSkuOnPDP();if(payload.sku){isValid=true;}}else if(/^addToTrolley$/i.test(b.event)){payload.name='products_added_to_cart';if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.product&&b.evtData.attributes.product[0]){payload.products=[{sku:b.evtData.attributes.product[0].id,quantity:parseInt(b.evtData.attributes.product[0].quantity),price:parseFloat(b.evtData.attributes.product[0].price)}];isValid=true;}}}else if(isTrolleyPage&&/^tlp_(initialLoad|itemQuantityChanged|itemRemoved|itemUndoRemoval)$/i.test(b.event)){payload.name='checkout_start';payload.currency='GBP';payload.products=getProductListOnTrolleyPage();if(payload.products&&payload.products.length){payload.value=payload.products.reduce(function(total,p){return total+(p.quantity*p.price);},0);isValid=true;}}else if(isConfirmationPage){payload.name='checkout_complete';payload.id=getOrderIdOnConfirmationPage();payload.currency='GBP';payload.products=getProductListOnConfirmationPage();if(payload.products&&payload.products.length){payload.value=payload.products.reduce(function(total,p){return total+(p.quantity*p.price);},0);if(payload.id){isValid=true;}}}
if(isValid){window.syteDataLayer=window.syteDataLayer||[];window.syteDataLayer.push(payload);}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){var mppEvents=['pl | MPP','pl | MPP LightBoxPage','ev | MPP']
if(/^ar:mpp:/.test(b.siteSection)&&mppEvents.indexOf(b.tealium_event)!==-1){var pageAttributes=b.ddPage&&b.ddPage.attributes?b.ddPage.attributes:{}
var products=b.dd&&b.dd.cart&&b.dd.cart.item?b.dd.cart.item:[]
var lightbox=b.ddLightbox?b.ddLightbox:{}
b.mppApplicationID=pageAttributes.mppApplicationID
b.mppSelectedCommunicationMethod=lightbox.selectedCommunicationMethod
b.mppOffered=pageAttributes.mppOffered
b.mppDeclined=pageAttributes.mppDeclined
b.mppPotentialPlanLength=pageAttributes.mppPlanLength
b.mppPotentialCostPerMonth=pageAttributes.mppCostPerMonth
b.mppPotentialTotalPayable=pageAttributes.mppTotalPayable
b.mppTrolleyTotal=pageAttributes.mppTrolleyTotal
b.mppOfferAccepted=pageAttributes.mppOfferAccepted
b.mppDeclinedCode=pageAttributes.mppDeclinedCode
if(typeof pageAttributes.errorCode!=='undefined'){b.errorMessage=pageAttributes.errorCode}else if(typeof lightbox.errorCode!=='undefined'){b.errorMessage=lightbox.errorCode}
if(b.pageName==="ar:mpp:itstimetosign:"&&b.tealium_event==="pl | MPP"){b.mppOfferAccepted=true}else if(b.event==='mpp_leaveApplication'&&['ar:mpp:youvebeenaccepted:leaveapplicationcreditfootprintLightbox:','mpp:offer:declineofferLightbox:'].indexOf(b.pageName)!==-1){b.mppOfferDeclined=true}
if(Array.isArray(products)){b.productId=[]
b.mppProductQuantity=[]
products.forEach(function(product){b.productId.push(product.id)
b.mppProductQuantity.push(product.quantity)})}
if(b.tealium_event==='ev | MPP'){var evtAction=b.evtData.eventInfo.eventAction
b.contentInteraction=b.pageName+evtAction.toLowerCase().replace(/\s/g,'')
b.prop25Value=b.contentInteraction}}else if(b.pageName==='ar:trolley:prepay:confirmation:'){var transaction=b.dd&&b.dd.transaction?b.dd.transaction:{}
var pageAttributes=b.ddPage&&b.ddPage.attributes?b.ddPage.attributes:{}
b.mppApplicationID=pageAttributes.mppApplicationID
if(transaction.mppApplicationCompleted===true){b.mppApplicationCompleted=transaction.mppApplicationCompleted
b.mppPlanLength=transaction.mppPlanLength
b.mppCostPerMonth=transaction.mppCostPerMonth}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='ev | Interaction: PDP Google'){if(b.evtData&&b.evtData.eventInfo&&b.evtData.eventInfo.eventAction){b.contentInteraction='pdpgoogle:'+b.evtData.eventInfo.eventAction.toLowerCase().replace(/\s/g,'')
b.prop25Value=b.contentInteraction}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='ev | Interaction: Credit Options'&&/_error$/.test(b.event)===false){if(b.evtData&&b.evtData.eventInfo&&b.evtData.eventInfo.eventAction&&typeof b.evtData.eventInfo.eventAction==='string'){var interactionValue=b.pageName+b.evtData.eventInfo.eventAction.toLowerCase().replace(/\s/g,'');b.contentInteraction=interactionValue;b.prop25Value=interactionValue;}}
if(b.dd&&b.dd.transaction&&b.dd.transaction.capeApplicationCompleted===true){b.creditApplicationCompleted=true;}
if(b.tealium_event==='pl | creditOptionsLbPage'&&b.ddLightbox&&b.ddLightbox.clickOrigin!==''){b.contentInteraction=b.ddLightbox.clickOrigin;b.prop25Value=b.contentInteraction;}
if(['tlp_argosCardBannerLoaded','tlp_argosCardBannerViewed','tlp_mppBannerLoaded','tlp_mppBannerViewed'].indexOf(b.event)!==-1){b.contentInteraction=b.pageName+b.event.split('_')[1].toLowerCase();b.prop25Value=b.contentInteraction;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(/^pl \|/.test(b.tealium_event)&&b.ddPage&&b.ddPage.attributes&&Array.isArray(b.ddPage.attributes.contents)){b.contentImpression=b.ddPage.attributes.contents.join('|');}else if(b.tealium_event.startsWith('ev |')&&b.evtAttributes?.contentImpression){b.contentImpression=b.evtAttributes.contentImpression;}
if(b.event==='creditOptionsAccordion_expanded'){if(b.evtData&&b.evtData.attributes&&Array.isArray(b.evtData.attributes.bannersDisplayed)&&b.evtData.attributes.bannersDisplayed.length>0){b.contentImpression=b.pageName+'creditoptionsaccordion:'+b.evtData.attributes.bannersDisplayed.join('|');}}else if(b.event==='creditOptionsLbPage'){if(b.ddLightbox&&Array.isArray(b.ddLightbox.content)){b.contentImpression=b.pageName+b.ddLightbox.content.join('|');}}else if(b.event==='tlp_initialLoad'){if(b.ddPage&&b.ddPage.attributes&&Array.isArray(b.ddPage.attributes.creditOffered)){b.contentImpression=b.pageName+'creditoffered:'+b.ddPage.attributes.creditOffered.join('|');}}else if(b.event==='pdp_initialLoad'){if(b.ddPage&&b.ddPage.attributes&&Array.isArray(b.ddPage.attributes.creditOffered)){b.contentImpression=b.siteSection+'creditoffered:'+b.ddPage.attributes.creditOffered.join('|');}}else if(b.event==='prepayCheckout_initialLoad'||b.event==='prepayGuestCheckout_initialLoad'||b.event==='homeDeliveryCheckout_initialLoad'){if(b.ddPage&&b.ddPage.attributes&&Array.isArray(b.ddPage.attributes.creditOffered)){b.contentImpression=b.siteSection+'creditoffered:'+b.ddPage.attributes.creditOffered.join('|');}}
if((b.event==='PLPResults'||b.event==='searchResults')&&b.ddPage&&b.ddPage.attributes&&b.ddPage.attributes.localisationOffered){b.contentImpression=b.pageType+':localisationOffered';}
if(b.event==='plp_displayLocalisationPrompt'){b.contentImpression='plp:localisationprompt:displayed';}else if(b.event==='slp_displayLocalisationPrompt'){b.contentImpression='slp:localisationprompt:displayed';}
if(b.tealium_event==='ev | Impression'||b.tealium_event==='ev | Interaction'){if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.impressionValue){b.contentImpression=b.evtData.attributes.impressionValue;}}
if(b.tealium_event==='ev | pdp_moneyOffBundlesAnchorViewed'){b.contentImpression=b.pageType+':'+b.event;}
var dd=window.digitalData;if(/pdp_.*API/.test(b.event)){var productAttributes=dd.product[0].attributes;if(productAttributes&&productAttributes.emailWhenInStockOffered){var emailWBIS=productAttributes.emailWhenInStockOffered;if(emailWBIS===true){b.contentImpression=b.pageType+':emailWhenInStockOffered';}}}
if(/^pdp_payPalImpression/.test(b.event)){b.contentImpression=b.event;}
if(b.tealium_event==='ev | pdp_energySavingButtonViewed'){b.contentImpression='pdp:energysaving:button:viewed';}
if(b.tealium_event==='ev | pdp_socialMediaComponentViewed'){if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.componentType&&b.evtData.attributes.componentType!==''){var componentType=b.evtData.attributes.componentType;b.contentImpression='pdp:socialmedia:component:viewed:'+componentType;}}
if(b.tealium_event==='ev | Arrange Delivery'||b.tealium_event==='ev | Change Address Lightbox'){if(b.evtAttributes&&b.evtAttributes.messageType){b.contentImpression=b.evtAttributes.messageType;}}
}}catch(e){utag.DB(e)}},function(a,b){try{if(/^billingEditAddress_/.test(b['event'])||b['event']=='prepayCheckout_paymentBillingEditAddress'||b['event']=='billingEditAddressSystem_errorMessage'||b['event']=='homeDeliveryCheckout_paymentBillingEditAddress'){if(b.dd&&b.dd.page&&b.dd.page.attributes&&b.dd.page.attributes.hasOwnProperty('preferredAddress')){var preferredAddressFlag=b.dd.page.attributes.preferredAddress
if(preferredAddressFlag===true){b.contentImpression='editPreferredAddress'}else if(preferredAddressFlag===false){b.contentImpression='editStandardAddress'}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | pdp_recommendationsRequested'.toLowerCase()){if(b.event==="pdp_requestRecommendations"){if(b.evtData&&b.evtData.attributes&&b.evtData.attributes.recResponse&&b.evtData.attributes.recPlacement){if(b.evtData.attributes.recPlacement=='avAlternatives'){var recResponse=b.evtData.attributes.recResponse
b.requestRecsTAISFY=1
if(recResponse>0){b.responseRecsTAISFY=recResponse}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | Interaction: Trolley'.toLowerCase()){b.recommendationDisplayList=[]
b.recommendationPlacement=[]
b.recommendation=[]
if(b.pageType==='trolley'&&b.event==='tlp_complementaryProductRecommendationPaginate'&&b.evtData.attributes){var eventData,recommendationPlacement
eventData=b.evtData.attributes
recommendationPlacement=b.pageType+':'+'complementary'
b.prop25Value='tlp:complementaryproductrecommendations:paginate'
if(eventData.displayedList&&eventData.displayedList.length>0&&eventData.masterSKU){for(var i=0;i<eventData.displayedList.length;i++){b.recommendationDisplayList.push(eventData.displayedList[i])
b.recommendationPlacement.push(recommendationPlacement)
b.recommendation.push(recommendationPlacement+':'+eventData.masterSKU)}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | Add to Trolley'.toLowerCase()||b['tealium_event'].toString().toLowerCase()=='ev | Interaction: Wishlist'.toLowerCase()){var clickOrigin=b["qp.clickOrigin"]
if((clickOrigin&&/^(header|searchbar)/.test(clickOrigin))&&(typeof b.searchMethodAndTerm==='undefined'||b.searchMethodAndTerm===null)){var pageType
clickOriginArray=clickOrigin.split(":")
if(b.pageType==="slp"){if((/^ev \| (Add to Trolley|Interaction: Wishlist)/i.test(b['tealium_event']))){b.headerInteraction=clickOrigin
if(/^searchbar/.test(clickOrigin)){b.searchOnclickType=clickOriginArray[2]
b.searchOnclickTerm=clickOriginArray[clickOriginArray.length-1]
if(b.pageName=="ar:search:noresults:"){pageType='nr'+b.pageType}else if(b.pageName=="ar:pdp-404:"){pageType='nrpdp'}else{pageType=b.pageType}
b.searchMethodAndTerm_aspire=window.utag_data.createUDOString([b.searchOnclickType,pageType,b.searchOnclickTerm])
b.headerInteraction=clickOriginArray.slice(0,3).join(":")}}}}
if(b["qp.clickSR"]){var clickSR=b["qp.clickSR"]
if((clickSR&&/^(slp:term)/.test(clickSR))){var clickSRArray=clickSR.split(":")
if(b.pageType==="pdp"){if((/^ev \| (Add to Trolley|Interaction: Wishlist)/i.test(b['tealium_event']))){if(clickSRArray.length===6){var searchTerm=clickSRArray[2]
var clickPosition=clickSRArray[3]
var searchRecall=clickSRArray[4]
var relevancyRank=clickSRArray[5]
if(searchTerm&&clickPosition&&searchRecall&&relevancyRank){if((!isNaN(clickPosition))&&(!isNaN(searchRecall))&&(!isNaN(relevancyRank))){if(parseInt(clickPosition)==clickPosition&&parseInt(searchRecall)==searchRecall&&parseInt(relevancyRank)==relevancyRank){b.searchClickAttributes_aspire='slp:term'+':'+searchTerm+':'+clickPosition+':'+searchRecall+':'+relevancyRank
b.searchClickPosition=[clickPosition]
b.searchClickRecall=[searchRecall]
b.searchClickRelevancyRank=[relevancyRank]}}}}}}}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.evtAttributes.products){if(b.evtAttributes.products&&Array.isArray(b.evtAttributes.products)&&b.productId&&Array.isArray(b.productId)&&b.evtAttributes.products.length===b.productId.length){b.hotspotProductTypes=b.evtAttributes.products.map(function(p){return p.hotspotProductType})}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='pl | Arrange Delivery'&&b.dd&&b.dd.cart&&b.dd.cart.price&&b.dd.cart.price.total){b.arrangeDeliveryPageBasketTotal=parseFloat(b.dd.cart.price.total)}
}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='pl | Arrange Delivery'&&window.digitalData&&window.digitalData.cart&&window.digitalData.cart.price&&window.digitalData.cart.price.savings){b.arrangeDeliveryPageBasketSavings=parseFloat(window.digitalData.cart.price.savings)}
}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.tealium_event==='ev | Arrange Delivery'&&b.event==='arrangeDelivery_continueSuccessful'){if(b.evtAttributes&&b.evtAttributes.selectedDeliverySlots&&Array.isArray(b.evtAttributes.selectedDeliverySlots)){b.deliverySlotSelection=b.evtAttributes.selectedDeliverySlots.map(function(slot){return window.utag_data.createUDOString([slot.day,slot.timeSlot,slot.leadTimeInDays,slot.leadTimeInHours,slot.cost,slot.originalCost,slot.promotionalFreeDeliverySlotSelected],":",true)}).join('|')}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['tealium_event'].toString().toLowerCase()=='ev | No Stores within Range Error'.toLowerCase()){if(b.ddPage.pageInfo.siteSection&&b.evtData.attributes.errorMessage){b.formError=b.ddPage.pageInfo.siteSection+b.evtData.attributes.errorMessage}}}catch(e){utag.DB(e)}},function(a,b){try{if(/^pl \|/i.test(b['tealium_event'])||b['tealium_event'].toString().toLowerCase()=='Page View'.toLowerCase()){b['dc_fire']='true'}}catch(e){utag.DB(e);}},function(a,b){try{if(1){if(b.event==='close_attlb'){b.prop25Value=b.siteSection+'attlb:close';}else if(b.event==='close_attlb_warrantydetails'){b.prop25Value=b.siteSection+'attlb:warrantydetails:close';}else if(b.event==='close_attlb_recommendations'){b.prop25Value=b.siteSection+'attlb:recommendations:close';}else if(/^open_attlb/.test(b.event)){b.prop25Value=b.siteSection+window.dataUtils.createUDOString(['attlb',b.event.split('_').pop(),'open']);}else if(/^attlb_click/.test(b.event)){let lightboxType=b.evtData?.attributes?.lightboxType||'na';b.prop25Value=b.siteSection+window.dataUtils.createUDOString(['attlb',lightboxType,'click']);}else if(/^attlb_quantityDropdown/.test(b.event)){b.prop25Value=b.siteSection+'attlb:quantityDropdown';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){const eventPattern=/missedOffersBanner|shopMoreItemsSidebar/i;if(eventPattern.test(b.event)){if(b.evtInfo?.eventAction){b.prop25Value=b.evtInfo.eventAction.toLowerCase().replace(/\s+/g,'');}
if(b.evtAttributes?.product){b.productId=b.productId||[];b.evtAttributes.product.forEach(function(p){b.productId.push(p.id);});}
if(digitalData.cart?.shopMoreItems){b.shopMoreItemsEligible=digitalData.cart.shopMoreItems?.isEligible;b.shopMoreItemsCompleted=digitalData.cart.shopMoreItems?.hasCompleted;b.specialOfferShortText=digitalData.cart.shopMoreItems?.stage;b.promoCodeValue=digitalData.cart.shopMoreItems?.promoCode;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='tlp_alternativeProductRecommendationsLightBoxReplaceItem'){if(b.evtAttributes?.clickOrigin){b.prop25Value=b.evtAttributes.clickOrigin;}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){let eventAction=b.evtData?.eventInfo?.eventAction;if(b.event.includes('guest_checkout_popup')&&eventAction){b.prop25Value=[b.pageType||b.pageName||':',eventAction].join(':').replace(/:*$/g,'');}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='arrangeDelivery_initialLoad'){b.slotRadiosOffered=digitalData?.page?.attributes?.deliveries[0]?.slotRadiosOffered||'';let pageType=b.pageType||'';let slotOffered=b.slotRadiosOffered===true?'slotOptionsOffered':'noSlotOptionsOffered';b.interactionDetail=utag.data.createUDOString([pageType,b.event,slotOffered]);}
if(b.event==='arrangeDelivery_slotBookingRadio'){let pageType=b.pageType||'';let eventAction=b.evtInfo?.eventAction||'';let radioText=b.evtData?.attributes?.radioText||'';b.prop25value=utag.data.createUDOString([pageType,eventAction,radioText]).toLowerCase().replace(/\s+/g,'');}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){const dd=window.digitalData;utag.DB('--- UID726 - New Monthly Care Journey and Custom Purchase events - Start ---');utag.DB('UID726 - b.event: '+b.event);utag.DB('UID726 - b: '+JSON.stringify(b,null,2));utag.DB('UID726 - dd: '+JSON.stringify(dd,null,2));const buildSerialisedEventString=function(eventNumber,serialisationId,value){if(typeof eventNumber!=='number'||isNaN(eventNumber)||!Number.isInteger(eventNumber)||eventNumber<=0||eventNumber>1000){utag.DB('UID726 - buildSerialisedEventString: Invalid eventNumber provided');return'';}
const eventNameString='event'+eventNumber.toString();const serialisationIdString=serialisationId?':'+serialisationId.toString():'';const valueString=value&&typeof value==='number'?'='+value.toString():'';return eventNameString+serialisationIdString+valueString;};const serialiser=function(serialisationId){return function(eventName,value){return buildSerialisedEventString(eventName,serialisationId,value);};};const EVENT_IDS={CUSTOM_ORDER_1_ORDERS:296,CUSTOM_ORDER_1_PRODUCT_UNITS:297,CUSTOM_ORDER_1_PRODUCT_REVENUE:298,CUSTOM_ORDER_1_TOTAL_DELIVERY_PRICE:299,CUSTOM_ORDER_1_BASKET_HAS_PRODUCTS_ELIGIBLE_FOR_MONTHLY_CARE:300,CUSTOM_ORDER_1_MONTHLY_CARE_OFFERED:216,CUSTOM_ORDER_1_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE:301,CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_UNITS:302,CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_PRICE:303,CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_TOTAL_PRICE:304,CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT:305,CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_UNITS:306,CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_PRICE:307,CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_TOTAL_PRICE:308,CUSTOM_ORDER_2_ORDERS:309,CUSTOM_ORDER_2_PRODUCT_UNITS:310,CUSTOM_ORDER_2_PRODUCT_REVENUE:311,CUSTOM_ORDER_2_TOTAL_DELIVERY_PRICE:312,ORDER_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE:313,ORDER_PRODUCT_MONTHLY_CARE_NOT_PURCHASED:314,ORDER_PRODUCT_MONTHLY_CARE_UNITS_NOT_PURCHASED:315,ORDER_PRODUCT_MONTHLY_CARE_PRICE_NOT_PURCHASED:316,ORDER_PRODUCT_MONTHLY_CARE_TOTAL_PRICE_NOT_PURCHASED:317,ORDER_BASKET_HAS_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE:318,ORDER_MONTHLY_CARE_PURCHASED:217,ORDER_PRODUCT_MONTHLY_CARE_PURCHASED:319,ORDER_PRODUCT_MONTHLY_CARE_UNITS_PURCHASED:243,ORDER_PRODUCT_MONTHLY_CARE_PRICE_PURCHASED:320,ORDER_PRODUCT_MONTHLY_CARE_TOTAL_PRICE_PURCHASED:244,};b.event_array=b.event_array||[];if(b.event==='setUpMonthlyCare_initialLoad'){utag.DB('UID726 - setUpMonthlyCare_initialLoad event detected');const orderIds=dd?.purchase?.transactionId;const orderIdArray=orderIds?.map?.((orderIds)=>orderIds.split?.('-')?.[0]);b.customPurchaseEvent_orderIdCustomer=orderIdArray?.join?.(',');b.customPurchaseEvent_orderId=orderIdArray?.join?.(',');b.customPurchaseEvent_orderIdUnique=orderIds?.join?.(',');const serialise=serialiser(b.customPurchaseEvent_orderIdUnique);const items=dd?.cart?.item||[];utag.DB('UID726 - Adding serialised events to b.event_array');b.event_array?.push?.(...[serialise(EVENT_IDS.CUSTOM_ORDER_1_ORDERS),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_UNITS),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_REVENUE),serialise(EVENT_IDS.CUSTOM_ORDER_1_TOTAL_DELIVERY_PRICE),serialise(EVENT_IDS.CUSTOM_ORDER_1_BASKET_HAS_PRODUCTS_ELIGIBLE_FOR_MONTHLY_CARE),serialise(EVENT_IDS.CUSTOM_ORDER_1_MONTHLY_CARE_OFFERED),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_UNITS),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_PRICE),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_POTENTIAL_MONTHLY_CARE_TOTAL_PRICE),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_UNITS),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_PRICE),serialise(EVENT_IDS.CUSTOM_ORDER_1_PRODUCT_MONTHLY_CARE_INTENT_TOTAL_PRICE),]);utag.DB('UID726 - Added serialised events to b.event_array: '+b.event_array.toString());b.custom_order_1_orders=1;b.custom_order_1_total_delivery_price=dd?.purchase?.fulfilmentTotalPrice;b.custom_order_1_basket_has_products_eligible_for_monthly_care=items.some?.((p)=>p.eligibleForMonthlyCare===true)?1:0;b.custom_order_1_monthly_care_offered=items.some?.((p)=>p.eligibleForMonthlyCare===true)?1:0;b.fulfilmentType=dd?.purchase?.fulfilmentType;b.currency=dd?.cart?.currency;b.productId=[];b.productId_str=items.map?.((p)=>p.id).join(',');b.custom_order_1_product_units=[];b.custom_order_1_product_revenue=[];b.custom_order_1_product_eligible_for_monthly_care=[];b.custom_order_1_product_potential_monthly_care_units=[];b.custom_order_1_product_potential_monthly_care_price=[];b.custom_order_1_product_potential_monthly_care_total_price=[];b.custom_order_1_product_monthly_care_intent=[];b.custom_order_1_product_monthly_care_intent_units=[];b.custom_order_1_product_monthly_care_intent_price=[];b.custom_order_1_product_monthly_care_intent_total_price=[];utag.DB('UID726 - Setting product arrays');items.forEach((item)=>{b.productId.push(item.id);b.custom_order_1_product_units.push(item.quantity??0);b.custom_order_1_product_revenue.push((item.quantity??0)*(item.finalUnitPrice??0));b.custom_order_1_product_eligible_for_monthly_care.push(item.eligibleForMonthlyCare===true?1:0);b.custom_order_1_product_potential_monthly_care_units.push(item.eligibleForMonthlyCare===true?item.quantity??0:0);b.custom_order_1_product_potential_monthly_care_price.push(item.eligibleForMonthlyCare===true?item.monthlyCarePrice??0:0);b.custom_order_1_product_potential_monthly_care_total_price.push(item.eligibleForMonthlyCare===true?(item.monthlyCarePrice??0)*(item.quantity??0):0);b.custom_order_1_product_monthly_care_intent.push(item.monthlyCareIntent===true?1:0);b.custom_order_1_product_monthly_care_intent_units.push(item.monthlyCareIntent===true?item.quantity??0:0);b.custom_order_1_product_monthly_care_intent_price.push(item.monthlyCareIntent===true?item.monthlyCarePrice??0:0);b.custom_order_1_product_monthly_care_intent_total_price.push(item.monthlyCareIntent===true?(item.monthlyCarePrice??0)*(item.quantity??0):0);});utag.DB('UID726 - Set product arrays');const productArrayPropertyNames=['custom_order_1_product_units','custom_order_1_product_revenue','custom_order_1_product_eligible_for_monthly_care','custom_order_1_product_potential_monthly_care_units','custom_order_1_product_potential_monthly_care_price','custom_order_1_product_potential_monthly_care_total_price','custom_order_1_product_monthly_care_intent','custom_order_1_product_monthly_care_intent_units','custom_order_1_product_monthly_care_intent_price','custom_order_1_product_monthly_care_intent_total_price',];for(let productArrayPropertyName of productArrayPropertyNames){if(!Array.isArray(b.productId)||!Array.isArray(b[productArrayPropertyName])||b.productId?.length!==b[productArrayPropertyName]?.length){b[productArrayPropertyName]=[];utag.DB('UID726 - Resetting b.'+productArrayPropertyName+' to empty array due to length mismatch with productId array length');}}
utag.DB('UID726 - setUpMonthlyCare_initialLoad - condition block complete');}else if(/^(prepay|homeDelivery)Confirmation_initialLoad$/.test(b.event)){utag.DB('UID726 - prepayConfirmation_initialLoad or homeDeliveryConfirmation_initialLoad event detected');const serialise=serialiser(b.orderIdUnique);const items=dd?.transaction?.item||[];b.customPurchaseEvent_orderIdCustomer=b.orderIdCustomer;b.customPurchaseEvent_orderId=b.orderId;b.customPurchaseEvent_transactionId=b.orderIdUnique;utag.DB('UID726 - Adding serialised events to b.event_array');b.event_array?.push?.(...[serialise(EVENT_IDS.CUSTOM_ORDER_2_ORDERS),serialise(EVENT_IDS.CUSTOM_ORDER_2_PRODUCT_UNITS),serialise(EVENT_IDS.CUSTOM_ORDER_2_PRODUCT_REVENUE),serialise(EVENT_IDS.CUSTOM_ORDER_2_TOTAL_DELIVERY_PRICE),serialise(EVENT_IDS.ORDER_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_NOT_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_UNITS_NOT_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_PRICE_NOT_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_TOTAL_PRICE_NOT_PURCHASED),serialise(EVENT_IDS.ORDER_BASKET_HAS_PRODUCT_ELIGIBLE_FOR_MONTHLY_CARE),serialise(EVENT_IDS.ORDER_MONTHLY_CARE_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_UNITS_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_PRICE_PURCHASED),serialise(EVENT_IDS.ORDER_PRODUCT_MONTHLY_CARE_TOTAL_PRICE_PURCHASED),]);utag.DB('UID726 - Added serialised events to b.event_array: '+b.event_array.toString());b.custom_order_2_orders=1;b.custom_order_2_total_delivery_price=b.deliveryCost;b.order_basket_has_product_eligible_for_monthly_care=items.some?.((item)=>item.eligibleForMonthlyCare===true)?1:0;b.order_monthly_care_purchased=items.some?.((item)=>item.monthlyCarePurchased===true)?1:0;b.fulfilmentType=dd?.purchase?.fulfilmentType;b.currency=dd?.cart?.currency;b.custom_order_2_product_units=[];b.custom_order_2_product_revenue=[];b.order_product_eligible_for_monthly_care=[];b.order_product_monthly_care_not_purchased=[];b.order_product_monthly_care_units_not_purchased=[];b.order_product_monthly_care_price_not_purchased=[];b.order_product_monthly_care_total_price_not_purchased=[];b.order_product_monthly_care_purchased=[];b.order_product_monthly_care_units_purchased=[];b.order_product_monthly_care_price_purchased=[];b.order_product_monthly_care_total_price_purchased=[];utag.DB('UID726 - Setting product arrays');items.forEach?.((item)=>{b.custom_order_2_product_units.push(item.quantity??0);b.custom_order_2_product_revenue.push((item.quantity??0)*(item.price??0));b.order_product_eligible_for_monthly_care.push(item.eligibleForMonthlyCare===true?1:0);b.order_product_monthly_care_not_purchased.push(item.monthlyCarePurchased===false?1:0);b.order_product_monthly_care_units_not_purchased.push(item.monthlyCarePurchased===false?item.monthlyCareUnits??0:0);b.order_product_monthly_care_price_not_purchased.push(item.monthlyCarePurchased===false?item.monthlyCarePrice??0:0);b.order_product_monthly_care_total_price_not_purchased.push(item.monthlyCarePurchased===false?item.totalMonthlyCarePrice??0:0);b.order_product_monthly_care_purchased.push(item.monthlyCarePurchased===true?1:0);b.order_product_monthly_care_units_purchased.push(item.monthlyCarePurchased===true?item.monthlyCareUnits??0:0);b.order_product_monthly_care_price_purchased.push(item.monthlyCarePurchased===true?item.monthlyCarePrice??0:0);b.order_product_monthly_care_total_price_purchased.push(item.monthlyCarePurchased===true?item.totalMonthlyCarePrice??0:0);});utag.DB('UID726 - Set product arrays');const productArrayPropertyNames=['custom_order_2_product_units','custom_order_2_product_revenue','order_product_eligible_for_monthly_care','order_product_monthly_care_not_purchased','order_product_monthly_care_units_not_purchased','order_product_monthly_care_price_not_purchased','order_product_monthly_care_total_price_not_purchased','order_product_monthly_care_purchased','order_product_monthly_care_units_purchased','order_product_monthly_care_price_purchased','order_product_monthly_care_total_price_purchased',];for(let productArrayPropertyName of productArrayPropertyNames){if(!Array.isArray(b.productId)||!Array.isArray(b[productArrayPropertyName])||b.productId?.length!==b[productArrayPropertyName]?.length){b[productArrayPropertyName]=[];utag.DB('UID726 - Resetting b.'+productArrayPropertyName+' to empty array due to length mismatch with productId array length');}}
utag.DB('UID726 - prepayConfirmation_initialLoad or homeDeliveryConfirmation_initialLoad - condition block complete');}
utag.DB('--- UID726 - New Monthly Care Journey and Custom Purchase events - End ---');utag.DB('UID726 - b.event: '+b.event);utag.DB('UID726 - b: '+JSON.stringify(b,null,2));utag.DB('UID726 - dd: '+JSON.stringify(dd,null,2));}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='personalisation_uniformScoresReady'){b.categoryScoresCount=b.evtAttributes?.categoryScoresCount||'';b.categoryScores=b.evtAttributes?.categoryScores||'';b.brandScoresCount=b.evtAttributes?.brandScoresCount||'';b.brandScores=b.evtAttributes?.brandScores||'';b.quirksScoresCount=b.evtAttributes?.quirksScoresCount||'';b.quirks=b.evtAttributes?.quirks||'';}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.ddUserProfile?.attributes?.argosPlusStatus===true){b.argosPlusStatus=1;}
if(window.digitalData?.cart?.freeDeliveryQualified===true){b.cartFreeDeliveryQualified=1;}
if(b.ddPage?.attributes?.fulfilmentPassBannerDisplayed===true){b.fulfilmentPassBannerDisplayed=1;}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){if(b.event==='pdp_AppleComparisonDropdown'&&b.evtData&&b.evtData.eventInfo&&typeof b.evtData.eventInfo.eventAction==='string'){b.prop25Value=b.evtData.eventInfo.eventAction;}}}catch(e){utag.DB(e)}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[622]=='undefined'){utag.runonce.ext[622]=1;if(1){var eventName='analyticsready';var event;if(typeof Event==='function'){event=new Event(eventName);}else{event=document.createEvent('Event');event.initEvent(eventName,true,true);}
document.dispatchEvent(event);}}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"end":0,"bwq":0,"id":"711","alr":0,"blr":1},{"end":0,"bwq":0,"id":"740","alr":0,"blr":1},{"end":0,"id":"192","bwq":0,"alr":0,"blr":1},{"blr":1,"alr":0,"id":"512","bwq":0,"end":0},{"alr":0,"blr":1,"end":0,"id":"8","bwq":0},{"alr":0,"blr":1,"end":0,"id":"16","bwq":0},{"alr":0,"blr":1,"end":0,"bwq":0,"id":"207"},{"id":"326","bwq":0,"end":0,"blr":1,"alr":0},{"alr":0,"blr":1,"end":0,"id":"442","bwq":0},{"alr":0,"blr":1,"end":0,"bwq":0,"id":"456"},{"end":0,"id":"545","bwq":0,"alr":0,"blr":1},{"alr":0,"blr":1,"end":0,"bwq":0,"id":"544"},{"end":0,"bwq":0,"id":"635","alr":0,"blr":1},{"end":0,"bwq":0,"id":"502","alr":0,"blr":1},{"end":0,"bwq":0,"id":"575","alr":0,"blr":1},{"id":"645","bwq":0,"end":0,"blr":1,"alr":0},{"alr":0,"blr":1,"end":0,"bwq":0,"id":"650"},{"id":"651","bwq":0,"end":0,"blr":1,"alr":0},{"blr":0,"alr":1,"bwq":0,"id":"621","end":0},{"end":0,"bwq":0,"id":"460","alr":1,"blr":0},{"bwq":0,"id":"704","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"706","alr":1,"blr":0},{"bwq":0,"id":"20","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"18","alr":1,"blr":0},{"end":0,"id":"24","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"36","end":0},{"bwq":0,"id":"22","end":0,"blr":0,"alr":1},{"end":0,"id":"146","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"82","end":0},{"bwq":0,"id":"48","end":0,"blr":0,"alr":1},{"bwq":0,"id":"25","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"73","alr":1,"blr":0},{"end":0,"bwq":0,"id":"59","alr":1,"blr":0},{"end":0,"bwq":0,"id":"37","alr":1,"blr":0},{"end":0,"id":"733","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"id":"31","bwq":0,"end":0},{"alr":1,"blr":0,"end":0,"id":"75","bwq":0},{"alr":1,"blr":0,"end":0,"id":"357","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"40"},{"id":"58","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"id":"47","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"463"},{"end":0,"id":"74","bwq":0,"alr":1,"blr":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"63"},{"end":0,"bwq":0,"id":"26","alr":1,"blr":0},{"end":0,"bwq":0,"id":"323","alr":1,"blr":0},{"end":0,"bwq":0,"id":"551","alr":1,"blr":0},{"id":"747","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"49"},{"id":"569","bwq":0,"end":0,"blr":0,"alr":1},{"blr":0,"alr":1,"bwq":0,"id":"282","end":0},{"end":0,"bwq":0,"id":"426","alr":1,"blr":0},{"bwq":0,"id":"547","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"312","alr":1,"blr":0},{"bwq":0,"id":"224","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"57","alr":1,"blr":0},{"end":0,"id":"56","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"439","end":0},{"bwq":0,"id":"440","end":0,"blr":0,"alr":1},{"end":0,"id":"556","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"339","end":0},{"bwq":0,"id":"69","end":0,"blr":0,"alr":1},{"bwq":0,"id":"54","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"43","alr":1,"blr":0},{"end":0,"bwq":0,"id":"337","alr":1,"blr":0},{"end":0,"bwq":0,"id":"65","alr":1,"blr":0},{"end":0,"id":"206","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"id":"41","bwq":0,"end":0},{"alr":1,"blr":0,"end":0,"id":"35","bwq":0},{"alr":1,"blr":0,"end":0,"id":"370","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"34"},{"id":"39","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"id":"27","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"52"},{"end":0,"id":"70","bwq":0,"alr":1,"blr":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"201"},{"end":0,"bwq":0,"id":"67","alr":1,"blr":0},{"end":0,"bwq":0,"id":"683","alr":1,"blr":0},{"end":0,"bwq":0,"id":"51","alr":1,"blr":0},{"id":"210","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"215"},{"id":"664","bwq":0,"end":0,"blr":0,"alr":1},{"blr":0,"alr":1,"bwq":0,"id":"19","end":0},{"end":0,"bwq":0,"id":"55","alr":1,"blr":0},{"bwq":0,"id":"181","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"435","alr":1,"blr":0},{"bwq":0,"id":"429","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"430","alr":1,"blr":0},{"end":0,"id":"182","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"85","end":0},{"bwq":0,"id":"84","end":0,"blr":0,"alr":1},{"end":0,"id":"94","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"78","end":0},{"bwq":0,"id":"79","end":0,"blr":0,"alr":1},{"bwq":0,"id":"168","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"17","alr":1,"blr":0},{"end":0,"bwq":0,"id":"101","alr":1,"blr":0},{"end":0,"bwq":0,"id":"727","alr":1,"blr":0},{"end":0,"id":"102","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"id":"737","bwq":0,"end":0},{"alr":1,"blr":0,"end":0,"id":"110","bwq":0},{"alr":1,"blr":0,"end":0,"id":"159","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"188"},{"id":"211","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"id":"153","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"584"},{"end":0,"id":"162","bwq":0,"alr":1,"blr":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"184"},{"end":0,"bwq":0,"id":"179","alr":1,"blr":0},{"end":0,"bwq":0,"id":"186","alr":1,"blr":0},{"end":0,"bwq":0,"id":"189","alr":1,"blr":0},{"id":"90","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"194"},{"id":"212","bwq":0,"end":0,"blr":0,"alr":1},{"blr":0,"alr":1,"bwq":0,"id":"219","end":0},{"end":0,"bwq":0,"id":"221","alr":1,"blr":0},{"bwq":0,"id":"389","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"386","alr":1,"blr":0},{"bwq":0,"id":"190","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"246","alr":1,"blr":0},{"end":0,"id":"198","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"234","end":0},{"bwq":0,"id":"237","end":0,"blr":0,"alr":1},{"end":0,"id":"238","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"240","end":0},{"bwq":0,"id":"239","end":0,"blr":0,"alr":1},{"bwq":0,"id":"243","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"244","alr":1,"blr":0},{"end":0,"bwq":0,"id":"262","alr":1,"blr":0},{"end":0,"bwq":0,"id":"288","alr":1,"blr":0},{"end":0,"id":"289","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"id":"290","bwq":0,"end":0},{"alr":1,"blr":0,"end":0,"id":"291","bwq":0},{"alr":1,"blr":0,"end":0,"id":"292","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"293"},{"id":"299","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"id":"300","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"301"},{"end":0,"id":"368","bwq":0,"alr":1,"blr":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"304"},{"end":0,"bwq":0,"id":"306","alr":1,"blr":0},{"end":0,"bwq":0,"id":"307","alr":1,"blr":0},{"end":0,"bwq":0,"id":"311","alr":1,"blr":0},{"id":"314","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"327"},{"id":"336","bwq":0,"end":0,"blr":0,"alr":1},{"blr":0,"alr":1,"bwq":0,"id":"351","end":0},{"end":0,"bwq":0,"id":"352","alr":1,"blr":0},{"bwq":0,"id":"355","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"364","alr":1,"blr":0},{"bwq":0,"id":"411","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"372","alr":1,"blr":0},{"end":0,"id":"373","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"381","end":0},{"bwq":0,"id":"390","end":0,"blr":0,"alr":1},{"end":0,"id":"400","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"402","end":0},{"bwq":0,"id":"403","end":0,"blr":0,"alr":1},{"bwq":0,"id":"406","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"410","alr":1,"blr":0},{"end":0,"bwq":0,"id":"417","alr":1,"blr":0},{"end":0,"bwq":0,"id":"437","alr":1,"blr":0},{"end":0,"id":"438","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"id":"461","bwq":0,"end":0},{"alr":1,"blr":0,"end":0,"id":"464","bwq":0},{"alr":1,"blr":0,"end":0,"id":"470","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"478"},{"id":"494","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"id":"497","bwq":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"498"},{"end":0,"id":"501","bwq":0,"alr":1,"blr":0},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"503"},{"end":0,"bwq":0,"id":"534","alr":1,"blr":0},{"end":0,"bwq":0,"id":"555","alr":1,"blr":0},{"end":0,"bwq":0,"id":"597","alr":1,"blr":0},{"id":"601","bwq":0,"end":0,"blr":0,"alr":1},{"alr":1,"blr":0,"end":0,"bwq":0,"id":"614"},{"id":"615","bwq":0,"end":0,"blr":0,"alr":1},{"blr":0,"alr":1,"bwq":0,"id":"616","end":0},{"end":0,"bwq":0,"id":"630","alr":1,"blr":0},{"bwq":0,"id":"660","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"682","alr":1,"blr":0},{"bwq":0,"id":"695","end":0,"blr":0,"alr":1},{"end":0,"bwq":0,"id":"699","alr":1,"blr":0},{"end":0,"id":"702","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"725","end":0},{"bwq":0,"id":"726","end":0,"blr":0,"alr":1},{"end":0,"id":"728","bwq":0,"alr":1,"blr":0},{"blr":0,"alr":1,"bwq":0,"id":"735","end":0},{"bwq":0,"id":"742","end":0,"blr":0,"alr":1},{"bwq":0,"id":"622","end":1,"blr":0,"alr":0}];if(utag.gdpr){var consentEnabled=false;var preferencesEnabled=false;var doNotSellEnabled=false;utag.gdpr.doNotSell=utag.gdpr.doNotSell||{};utag.gdpr.preferences_prompt=utag.gdpr.preferences_prompt||{};utag.gdpr.consent_prompt=utag.gdpr.consent_prompt||{};utag.gdpr.applyConsentState=function(){var enforcementMode=utag.gdpr.getEnforcementMode();if(enforcementMode==='none')return;utag.DB('Consent Manager: Applying consent');try{var i,lc=utag.loader.cfg,cs=utag.gdpr.getConsentState(),ot=utag.gdpr.omittedTags||{};if(typeof cs==='number'){if((utag.gdpr.consent_prompt.isEnabled&&parseInt(cs)!==1)||((!consentEnabled&&preferencesEnabled&&enforcementMode==='opt-in')&&(parseInt(cs)===-1||parseInt(cs)===0))){utag.DB('Consent Manager: Setting all tags to off');for(i in utag.loader.GV(lc)){if(typeof ot[i]==='undefined'){lc[i].load=0;}}}}else if(((utag.gdpr.consent_prompt.isEnabled||utag.gdpr.preferences_prompt.isEnabled)||(!consentEnabled&&preferencesEnabled))&&enforcementMode==='opt-in'){utag.DB('Consent Manager: Partial Consent');for(i in utag.loader.GV(lc)){if(typeof ot[i]==='undefined'){if(lc[i].tcat>0&&cs[lc[i].tcat-1].ct!='1'){lc[i].load=0;}}}}var btl=utag.gdpr.dns?utag.gdpr.dns.getBlockedDnsTagLookup():null;utag.DB('Consent Manager: Do Not Sell Tags');if(enforcementMode==='opt-out'&&btl){for(i in utag.loader.GV(lc)){if(parseInt(btl[i])===1){lc[i].load=0;}}}try{if(window.tealiumConsentRegister&&window.tealiumConsentRegister.currentDecision===null){var cookieValues=utag.gdpr.getCookieValues();var hasDnsCookie=typeof cookieValues.dns==='string';var hasConsentCookie=typeof cookieValues.consent==='string';var decisionType=(enforcementMode==='opt-in'&&hasConsentCookie)||(enforcementMode==='opt-out'&&hasDnsCookie)?'explicit':'implicit';var decision=(decisionType==='implicit'&&enforcementMode==='opt-in')?[]:utag.gdpr.getSelectedCategories();decision.unshift('always_on');decision.type=decisionType;window.tealiumConsentRegister.addConsentDecision(decision);}}catch(e){utag.DB(e);}}catch(e){utag.DB(e);}};utag.gdpr.promptEnabledSetting=function(){if(!utag.gdpr.dr&&(utag.cfg.readywait||utag.cfg.waittimer)){utag.gdpr.dr=1;return;}utag.gdpr.consent_prompt.wasInitiallyEnabled=consentEnabled;utag.gdpr.preferences_prompt.wasInitiallyEnabled=preferencesEnabled;utag.gdpr.doNotSell.wasInitiallyEnabled=doNotSellEnabled;if(consentEnabled===true&&!(1)){utag.gdpr.consent_prompt.isEnabled=false;}if(preferencesEnabled===true&&(consentEnabled===true&&!(1))){utag.gdpr.preferences_prompt.isEnabled=false;}if(doNotSellEnabled===true&&!(1)){utag.gdpr.doNotSell.isEnabled=false;}if(preferencesEnabled===true&&consentEnabled===false&&!(1)){utag.gdpr.preferences_prompt.isEnabled=true;}};var splitGdprModules=false;if(typeof utag.gdpr.getEnforcementMode!=='function'){splitGdprModules=true;}utag.gdpr.getEnforcementMode=function(){utag.gdpr.promptEnabledSetting();var optInModulesAreActive=(utag.gdpr.consent_prompt&&utag.gdpr.consent_prompt.isEnabled===true);var optOutModuleIsActive=(utag.gdpr.doNotSell&&utag.gdpr.doNotSell.isEnabled===true);var optInPreferencesOnly=(!optInModulesAreActive&&!utag.gdpr.consent_prompt.wasInitiallyEnabled&&utag.gdpr.preferences_prompt.wasInitiallyEnabled&&!optOutModuleIsActive)||(splitGdprModules&&utag.gdpr.preferences_prompt&&utag.gdpr.preferences_prompt.wasInitiallyEnabled);var enforcementMode='opt-in';if(optOutModuleIsActive&&!optInModulesAreActive)enforcementMode='opt-out';if(!optOutModuleIsActive&&optInPreferencesOnly)enforcementMode='opt-in';if(!optOutModuleIsActive&&!optInModulesAreActive&&!optInPreferencesOnly)enforcementMode='none';return enforcementMode;};}utag.loader.initcfg=function(){utag.loader.cfg={"2":{load:4,send:1,v:202506260927,wait:0,tid:1191},"257":{load:4,send:utag.cond[72],v:202501221015,wait:0,tid:7143},"168":{load:utag.cond[4],send:1,v:202302011001,wait:0,tid:2062},"355":{load:((((utag.cond[72]||utag.cond[40])&&(utag.cond[127]))&&!((utag.cond[113])&&(utag.cond[54])))),send:1,v:202601291031,wait:1,tid:20010},"17":{load:(((utag.cond[141])&&(utag.cond[142])&&(utag.cond[7])&&(utag.cond[103])&&(utag.cond[155]))),send:1,v:202501221015,wait:1,tid:14030},"46":{load:utag.cond[4],send:1,v:202302011001,wait:1,tid:20010},"48":{load:utag.cond[119],send:1,v:202302011001,wait:1,tid:20010},"83":{load:(utag.cond[54]&&utag.cond[89]),send:1,v:202302011001,wait:1,tid:20010},"78":{load:(((utag.cond[218])&&(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:20010},"252":{load:(((utag.cond[218])&&(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:20010},"144":{load:(utag.cond[63]||utag.cond[62]||utag.cond[4]||utag.cond[10]||utag.cond[11]||utag.cond[125]),send:1,v:202302011001,wait:1,tid:20010},"225":{load:((((utag.cond[100])&&(utag.cond[72])&&(utag.cond[197]))&&!(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:20010},"115":{load:utag.cond[10],send:1,v:201907301236,wait:1,tid:20010},"114":{load:utag.cond[4],send:1,v:201902251046,wait:1,tid:20010},"116":{load:utag.cond[11],send:1,v:201907301236,wait:1,tid:20010},"117":{load:utag.cond[19],send:1,v:202302011001,wait:1,tid:20010},"118":{load:utag.cond[20],send:1,v:202302011001,wait:1,tid:20010},"119":{load:(utag.cond[37]&&utag.cond[72]),send:1,v:201907301236,wait:1,tid:20010},"128":{load:(((utag.cond[54])&&!(utag.cond[113]))),send:1,v:202502061013,wait:1,tid:20052},"141":{load:utag.cond[39],send:1,v:201902181405,wait:1,tid:20010},"156":{load:utag.cond[81],send:1,v:202302011001,wait:1,tid:20010},"157":{load:utag.cond[82],send:1,v:202302011001,wait:1,tid:20010},"158":{load:(utag.cond[97]||utag.cond[83]),send:1,v:202302011001,wait:1,tid:20010},"160":{load:(((utag.cond[85])&&!(utag.cond[113]))),send:1,v:202502061013,wait:1,tid:20010},"166":{load:utag.cond[54],send:1,v:202302011001,wait:1,tid:20010},"289":{load:(utag.cond[150]&&utag.cond[141]&&utag.cond[142]&&utag.cond[72]&&utag.cond[147]),send:1,v:202506260927,wait:1,tid:20010},"291":{load:(utag.cond[149]&&utag.cond[141]&&utag.cond[142]&&utag.cond[72]&&utag.cond[147]),send:1,v:202506260927,wait:1,tid:20010},"1":{load:((utag.cond[70])),send:1,v:202601291031,wait:1,tid:20064},"186":{load:((((utag.cond[2])&&(utag.cond[100])&&(utag.cond[197]))&&!(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:6026},"319":{load:(((utag.cond[54])&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:20010},"197":{load:((((utag.cond[100])&&(utag.cond[72]))&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:20010},"199":{load:utag.cond[81],send:1,v:202302011001,wait:1,tid:20010},"212":{load:utag.cond[19],send:1,v:202302011001,wait:1,tid:20010},"198":{load:(((utag.cond[54])&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:20010},"202":{load:((((utag.cond[100])&&(utag.cond[104])&&(utag.cond[72]))&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:2063},"227":{load:(utag.cond[141]&&utag.cond[142]&&utag.cond[120]&&utag.cond[100]&&utag.cond[72]),send:1,v:202302011001,wait:1,tid:20010},"229":{load:(utag.cond[54]&&utag.cond[95]),send:1,v:202302011001,wait:1,tid:20010},"245":{load:(utag.cond[113]&&utag.cond[129]&&utag.cond[54]),send:1,v:202501221015,wait:1,tid:20010},"312":{load:(utag.cond[113]&&utag.cond[129]&&utag.cond[54]),send:1,v:202501221015,wait:1,tid:20010},"265":{load:((((utag.cond[100])&&(utag.cond[72])&&(utag.cond[197]))&&!(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:20010},"269":{load:(((utag.cond[54]||utag.cond[4])&&!(utag.cond[113]))),send:1,v:202502061013,wait:1,tid:20103},"270":{load:((((utag.cond[72]||utag.cond[40])&&(utag.cond[197]))&&!(utag.cond[54]))),send:1,v:202601291031,wait:1,tid:20119},"293":{load:((utag.cond[151])),send:1,v:202501221015,wait:1,tid:20010},"294":{load:((utag.cond[152])),send:1,v:202501221015,wait:1,tid:20010},"295":{load:((utag.cond[153])),send:1,v:202501221015,wait:1,tid:20010},"296":{load:((utag.cond[154])),send:1,v:202501221015,wait:1,tid:20010},"303":{load:(((utag.cond[72])&&(utag.cond[157]||utag.cond[61]))),send:1,v:202506260927,wait:1,tid:20010},"305":{load:(((utag.cond[72]||utag.cond[40])&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:18048},"311":{load:((((utag.cond[54])&&(utag.cond[100]))&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:20010},"320":{load:(((utag.cond[54])&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:20010},"325":{load:(((utag.cond[72])&&!(utag.cond[113]))),send:1,v:202502061013,wait:1,tid:4049},"343":{load:((((utag.cond[100])&&(utag.cond[72]||utag.cond[40]))&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:19129},"347":{load:(((utag.cond[201])&&(utag.cond[202])&&(utag.cond[203]))),send:1,v:202506260927,wait:1,tid:20010},"276":{load:((utag.cond[13]||utag.cond[83]||utag.cond[216])),send:1,v:202601291031,wait:1,tid:20010},"365":{load:((((utag.cond[72])&&(utag.cond[100]))&&!(utag.cond[113]))),send:1,v:202601291031,wait:1,tid:13111}};utag.loader.cfgsort=["2","257","168","355","17","46","48","83","78","252","144","225","115","114","116","117","118","119","128","141","156","157","158","160","166","289","291","1","186","319","197","199","212","198","202","227","229","245","312","265","269","270","293","294","295","296","303","305","311","320","325","343","347","276","365"];if(utag.gdpr&&utag.gdpr.getEnforcementMode()==='opt-in'){Object.keys(utag.loader.cfg).forEach(function(tagId){if(utag.loader.cfg[tagId].tcat===16){utag.DB('Consent Manager: Removing uncategorized tag from utag.loader.cfg in opt-in mode: '+tagId);delete utag.loader.cfg[tagId];utag.loader.cfgsort=utag.loader.cfgsort.filter(function(id){return id!==tagId;});}})}}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};try{(function(window){function evaluateLoadRule(id){if(!id)return false;if(id==="all")return true;var config={};config[id]=0;var data=window.utag.loader.GV(window.utag_data);window.utag.cl={"_all_":1};window.utag.loader.rd_flag=1;window.utag.loader.RD(data);window.utag.loader.loadrules(data,config);window.utag.cl=undefined;window.utag.loader.rd_flag=undefined;return Boolean(config[id]);}
function checkLoadRulesConflict(map){if(!map)return true;var counter=0;for(var key in map){if(map[key])counter+=1;}
if(counter>1)return true;return false;}
function canIntegrationLoad(id){return Boolean(!window.tealiumCmpIntegration.loadRules.hasConflict&&window.tealiumCmpIntegration.loadRules.loadMap[id]);}
window.tealiumCmpIntegration=window.tealiumCmpIntegration||{};window.tealiumCmpIntegration.loadRules={};window.tealiumCmpIntegration.loadRules.canIntegrationLoad=canIntegrationLoad;window.tealiumCmpIntegration.loadRules.loadMap={"13cc8104-41a8-4e26-d0e1-f061af8102e9":evaluateLoadRule("all")};window.tealiumCmpIntegration.loadRules.exemptionMap={};window.tealiumCmpIntegration.loadRules.hasConflict=checkLoadRulesConflict(window.tealiumCmpIntegration.loadRules.loadMap);})(window);if(window.tealiumCmpIntegration.loadRules.canIntegrationLoad("13cc8104-41a8-4e26-d0e1-f061af8102e9")){window.tealiumCmpIntegration=window.tealiumCmpIntegration||{};window.tealiumCmpIntegration.map={"b7b86492-4d84-4b05-950b-ed66298bbb71":{"1":["262","17","220","225","257","265","284","311","355","312"],"3":["289","291"],"4":["269","270","128","320","48","46","293","119","227","198","212","199","197","114","115","116","117","118","141","156","157","158","160","166","245","296","294","295","83","164","144","319","343","305","209","231","235","325","186","202","365"],"2":["281","264","78","252","276","303","254","347","1","168","2","229"]}};window.tealiumCmpIntegration.refiringAllowed=[1,2,17,46,48,78,83,114,115,116,117,118,119,128,141,144,156,157,158,160,164,166,168,186,197,198,199,202,209,212,220,225,227,229,231,235,245,252,254,257,262,264,265,269,270,276,281,284,289,291,293,294,295,296,303,305,311,312,319,320,325,343,347,355,365];window.tealiumCmpIntegration.tiqGroupName="1";(function oneTrust(window){var useNamesInsteadOfKeys=false;var disableVendorIdValidation=false;window.tealiumCmpIntegration=window.tealiumCmpIntegration||{};window.tealiumCmpIntegration.cmpName="OneTrust";window.tealiumCmpIntegration.cmpIntegrationVersion="onetrust-2.1.0";window.tealiumCmpIntegration.cmpFetchCurrentConsentDecision=cmpFetchCurrentConsentDecision;window.tealiumCmpIntegration.cmpFetchCurrentLookupKey=cmpFetchCurrentLookupKey;window.tealiumCmpIntegration.cmpCheckIfOptInModel=cmpCheckIfOptInModel;window.tealiumCmpIntegration.cmpCheckForWellFormedDecision=cmpCheckForWellFormedDecision;window.tealiumCmpIntegration.cmpCheckForExplicitConsentDecision=cmpCheckForExplicitConsentDecision;window.tealiumCmpIntegration.cmpCheckForTiqConsent=cmpCheckForTiqConsent;window.tealiumCmpIntegration.cmpConvertResponseToGroupList=cmpConvertResponseToGroupList;window.tealiumCmpIntegration.cmpConvertResponseToLookupObject=cmpConvertResponseToLookupObject;window.tealiumCmpIntegration.cmpAddCallbackToTriggerRecheck=cmpAddCallbackToTriggerRecheck;function cmpCheckIfOptInModel(){var decision=cmpFetchCurrentConsentDecision();if(decision&&decision.ConsentModel&&decision.ConsentModel.Name==="opt-out"){return false;}
return true;}
function cmpFetchCurrentConsentDecision(){if(!window.OneTrust||typeof window.OneTrust.GetDomainData!=="function")return false;var cmpRawOutput=window.OneTrust.GetDomainData();cmpRawOutput.dataLayer=window.dataLayer;return cmpRawOutput;}
function cmpFetchCurrentLookupKey(){var scrapeOneTrustVendorId=function(){var allScripts=document.getElementsByTagName("script");var re=/\/otSDKStub\.js(\?.*)*$/;for(var i=0;i<allScripts.length;i++){var isOneTrustScript=re.test(allScripts[i].src);if(isOneTrustScript){var fullVendorId=allScripts[i].getAttribute("data-domain-script");return fullVendorId.split("-test")[0];}}
return"error-not-found";}
if(disableVendorIdValidation){return(window.tealiumCmpIntegration&&window.tealiumCmpIntegration.map&&Object.keys(window.tealiumCmpIntegration.map)[0])||"(Vendor ID check disabled)";}
return scrapeOneTrustVendorId();}
function cmpCheckForWellFormedDecision(cmpRawOutput){if(typeof cmpRawOutput!=="object")return false;if(toString.call(cmpRawOutput.Groups)!=="[object Array]")return false;if(toString.call(cmpRawOutput.dataLayer)!=="[object Array]")return false;return true;}
function cmpCheckForExplicitConsentDecision(cmpRawOutput){if(cmpCheckForWellFormedDecision(cmpRawOutput)!==true)return false;return window.OneTrust&&typeof window.OneTrust.IsAlertBoxClosed==="function"&&window.OneTrust.IsAlertBoxClosed();}
function cmpConvertResponseToLookupObject(cmpRawOutput){var decisionString="";var foundOneTrustEntry=false;if(cmpCheckForWellFormedDecision(cmpRawOutput)!==true)return{};for(var i=cmpRawOutput.dataLayer.length-1;i>=0;i--){if(["OneTrustGroupsUpdated","OneTrustLoaded"].indexOf(cmpRawOutput.dataLayer[i].event)!==-1){decisionString=cmpRawOutput.dataLayer[i].OnetrustActiveGroups;foundOneTrustEntry=true;break;}}
var permittedPurposeIds=decisionString.split(",").filter(function(group){return group!=="";});if(decisionString===""&&cmpRawOutput.dataLayer.length===1000&&foundOneTrustEntry===false){permittedPurposeIds=window.tealiumConsentRegister&&window.tealiumConsentRegister.getCurrentDecision();}
var permittedPurposesWithNames={};cmpRawOutput.Groups.forEach(function(groupInfo){if(permittedPurposeIds.indexOf(groupInfo.OptanonGroupId)!==-1){permittedPurposesWithNames[groupInfo.OptanonGroupId]=groupInfo.GroupName||"ERROR-MISSING";}})
return permittedPurposesWithNames;}
function cmpConvertResponseToGroupList(cmpRawOutput){var permittedPurposesWithNames=cmpConvertResponseToLookupObject(cmpRawOutput);var keysOrValues=useNamesInsteadOfKeys?"values":"keys";return Object[keysOrValues](permittedPurposesWithNames);}
function cmpAddCallbackToTriggerRecheck(triggerRecheck){if(typeof triggerRecheck!=='function')return false;(function(){'use strict';var f=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)\]/;function g(a){return null==a?String(a):(a=f.exec(Object.prototype.toString.call(Object(a))))?a[1].toLowerCase():"object"}function m(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)}function n(a){if(!a||"object"!=g(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!m(a,"constructor")&&!m(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var b in a);return void 0===b||m(a,b)};function p(a,b){var c={},d=c;a=a.split(".");for(var e=0;e<a.length-1;e++)d=d[a[e]]={};d[a[a.length-1]]=b;return c}function q(a,b){var c=!a._clear,d;for(d in a)if(m(a,d)){var e=a[d];"array"===g(e)&&c?("array"===g(b[d])||(b[d]=[]),q(e,b[d])):n(e)&&c?(n(b[d])||(b[d]={}),q(e,b[d])):b[d]=e}delete b._clear};function r(a,b,c){b=void 0===b?{}:b;"function"===typeof b?b={listener:b,listenToPast:void 0===c?!1:c,processNow:!0,commandProcessors:{}}:b={listener:b.listener||function(){},listenToPast:b.listenToPast||!1,processNow:void 0===b.processNow?!0:b.processNow,commandProcessors:b.commandProcessors||{}};this.a=a;this.l=b.listener;this.j=b.listenToPast;this.g=this.i=!1;this.c={};this.f=[];this.b=b.commandProcessors;this.h=u(this);var d=this.a.push,e=this;this.a.push=function(){var k=[].slice.call(arguments,0),l=d.apply(e.a,k);v(e,k);return l};b.processNow&&this.process()}r.prototype.process=function(){this.registerProcessor("set",function(){var c={};1===arguments.length&&"object"===g(arguments[0])?c=arguments[0]:2===arguments.length&&"string"===g(arguments[0])&&(c=p(arguments[0],arguments[1]));return c});this.i=!0;for(var a=this.a.length,b=0;b<a;b++)v(this,[this.a[b]],!this.j)};r.prototype.get=function(a){var b=this.c;a=a.split(".");for(var c=0;c<a.length;c++){if(void 0===b[a[c]])return;b=b[a[c]]}return b};r.prototype.flatten=function(){this.a.splice(0,this.a.length);this.a[0]={};q(this.c,this.a[0])};r.prototype.registerProcessor=function(a,b){a in this.b||(this.b[a]=[]);this.b[a].push(b)};function v(a,b,c){c=void 0===c?!1:c;if(a.i&&(a.f.push.apply(a.f,b),!a.g))for(;0<a.f.length;){b=a.f.shift();if("array"===g(b))a:{var d=a.c;g(b[0]);for(var e=b[0].split("."),k=e.pop(),l=b.slice(1),h=0;h<e.length;h++){if(void 0===d[e[h]])break a;d=d[e[h]]}try{d[k].apply(d,l)}catch(w){}}else if("arguments"===g(b)){e=a;k=[];l=b[0];if(e.b[l])for(d=e.b[l].length,h=0;h<d;h++)k.push(e.b[l][h].apply(e.h,[].slice.call(b,1)));a.f.push.apply(a.f,k)}else if("function"==typeof b)try{b.call(a.h)}catch(w){}else if(n(b))for(var t in b)q(p(t,b[t]),a.c);else continue;c||(a.g=!0,a.l(a.c,b),a.g=!1)}}r.prototype.registerProcessor=r.prototype.registerProcessor;r.prototype.flatten=r.prototype.flatten;r.prototype.get=r.prototype.get;r.prototype.process=r.prototype.process;window.DataLayerHelper=r;function u(a){return{set:function(b,c){q(p(b,c),a.c)},get:function(b){return a.get(b)}}};})();function listener(model,message){if(["OneTrustGroupsUpdated","OneTrustLoaded"].indexOf(message.event)!==-1){triggerRecheck()}}
window.dataLayer=window.dataLayer||[];const helper=new DataLayerHelper(window.dataLayer,{listener:listener});var oldWrapper=window.OptanonWrapper||function(){}
window.OptanonWrapper=function(){oldWrapper();triggerRecheck();}
return true;}
function cmpCheckForTiqConsent(cmpRawOutput,tiqGroupName){if(cmpCheckForWellFormedDecision(cmpRawOutput)!==true)return false;tiqGroupName=tiqGroupName||"tiq-group-name-missing";var allowedGroups=cmpConvertResponseToGroupList(cmpRawOutput);return allowedGroups.indexOf(tiqGroupName)!==-1;}})(window);}
var hasLoadRuleMatch=Object.values(window.tealiumCmpIntegration.loadRules.loadMap).some(value=>!!value);var hasExemptionMatch=Object.values(window.tealiumCmpIntegration.loadRules.exemptionMap).some(value=>!!value);if(hasLoadRuleMatch||!hasExemptionMatch){(function(window){var version="v1.2.1";window.tealiumCmpIntegration=window.tealiumCmpIntegration||{};window.tealiumCmpIntegration.cmpName=window.tealiumCmpIntegration.cmpName||"Unnamed CMP";var nameOfFullGroupArray=window.tealiumCmpIntegration.nameOfFullGroupArray||"tci.purposes_with_consent_all";var nameOfUnprocessedGroupArray=window.tealiumCmpIntegration.nameOfUnprocessedGroupArray||"tci.purposes_with_consent_unprocessed";var nameOfProcessedGroupArray=window.tealiumCmpIntegration.nameOfProcessedGroupArray||"tci.purposes_with_consent_processed";var nameOfConsentTypeString=window.tealiumCmpIntegration.nameOfConsentTypeString||"tci.consent_type";var nameOfEventIdString=window.tealiumCmpIntegration.nameOfConsentTypeString||"tci.event_id";var nameOfImplicitQueueMarker=window.tealiumCmpIntegration.nameOfImplicitQueueMarker||"tci.from_implicit_queue"
tealiumCmpIntegration.suppressConsentRegister=tealiumCmpIntegration.suppressConsentRegister||false;var refiringAllowed=window.tealiumCmpIntegration.refiringAllowed||[];var nameOfConsentPollingEvent=window.tealiumCmpIntegration.nameOfConsentPollingEvent||"tiq_cmp_consent_polling";var consentTimeoutInterval=250;var tiqInDebugMode=/utagdb=true/.test(document.cookie);var tealiumEnvironment=getTealiumEnvironment()||"prod";var tiqGroupName=window.tealiumCmpIntegration.tiqGroupName||"_missing_";var cmpFetchCurrentConsentDecision=(typeof window.tealiumCmpIntegration.cmpFetchCurrentConsentDecision==="function"&&window.tealiumCmpIntegration.cmpFetchCurrentConsentDecision)||function(){};var cmpCheckForWellFormedDecision=(typeof window.tealiumCmpIntegration.cmpCheckForWellFormedDecision==="function"&&window.tealiumCmpIntegration.cmpCheckForWellFormedDecision)||function(){};var cmpFetchCurrentLookupKey=(typeof window.tealiumCmpIntegration.cmpFetchCurrentLookupKey==="function"&&window.tealiumCmpIntegration.cmpFetchCurrentLookupKey)||function(){};var cmpCheckForExplicitConsentDecision=(typeof window.tealiumCmpIntegration.cmpCheckForExplicitConsentDecision==="function"&&window.tealiumCmpIntegration.cmpCheckForExplicitConsentDecision)||function(){};var cmpCheckForTiqConsent=(typeof window.tealiumCmpIntegration.cmpCheckForTiqConsent==="function"&&window.tealiumCmpIntegration.cmpCheckForTiqConsent)||function(){};var cmpConvertResponseToGroupList=(typeof window.tealiumCmpIntegration.cmpConvertResponseToGroupList==="function"&&window.tealiumCmpIntegration.cmpConvertResponseToGroupList)||function(){};var cmpCheckIfOptInModel=(typeof window.tealiumCmpIntegration.cmpCheckIfOptInModel==="function"&&window.tealiumCmpIntegration.cmpCheckIfOptInModel)||function(){};window.tealiumCmpIntegration.version=version;window.tealiumCmpIntegration.logger=logger;window.tealiumCmpIntegration.getCurrentConsentDecision=getCurrentConsentDecision;window.tealiumCmpIntegration.cmpFetchCurrentLookupKey=cmpFetchCurrentLookupKey;window.tealiumCmpIntegration.isNoviewSet=window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noview===true;window.tealiumCmpIntegration.nameOfFullGroupArray=nameOfFullGroupArray;window.tealiumCmpIntegration.nameOfConsentTypeString=nameOfConsentTypeString;window.tealiumCmpIntegration.nameOfUnprocessedGroupArray=nameOfUnprocessedGroupArray;window.tealiumCmpIntegration.nameOfProcessedGroupArray=nameOfProcessedGroupArray;window.tealiumCmpIntegration.implicitEventQueue=window.tealiumCmpIntegration.implicitEventQueue||[];window.tealiumCmpIntegration.earlyEventQueue=window.tealiumCmpIntegration.earlyEventQueue||[];var map=window.tealiumCmpIntegration.map||{};window.tealiumCmpIntegration.tagBasedMap=generateTagBasedMap();var alreadyLoggedMessageIds={};function messageNotLoggedYet(messageId){var output=false;if(typeof alreadyLoggedMessageIds[messageId]==="undefined"){alreadyLoggedMessageIds[messageId]=true;output=true;}
return output;}
function buildConsentDecisionFromRawCmpOutput(cmpRawOutput){var vendorArray=cmpConvertResponseToGroupList(cmpRawOutput)||[];var isWellFormed=cmpCheckForWellFormedDecision(cmpRawOutput);if(!isWellFormed){vendorArray.type="missing-well-formed-response";return vendorArray;}
var tagBasedMap=generateTagBasedMap();var currentSettingsIdHasMapping=typeof tagBasedMap==="object"&&Object.keys(tagBasedMap).length>0;if(!currentSettingsIdHasMapping){vendorArray.type="missing-map";return vendorArray;}
vendorArray.type=cmpCheckForExplicitConsentDecision(cmpRawOutput)?"explicit":"implicit";var tiqGroupName=window.tealiumCmpIntegration.tiqGroupName||"_missing_";if(cmpCheckForTiqConsent(cmpRawOutput,tiqGroupName)===false){vendorArray.type="missing-tiq-consent";}
return vendorArray;}
class TealiumConsentRegister{constructor(){this.currentDecision=null;this.decisions=[];}
addConsentDecision(decision){if(!decision||(decision.type!=='implicit'&&decision.type!=='explicit')){return;}
if(!this.isNewDecision(this.currentDecision,decision)){return;}
const eventType=this.currentDecision===null?'consent_loaded':'consent_updated';this.currentDecision=decision;this.decisions.push(decision);const event=new CustomEvent(eventType,{detail:{decision:decision}});window.dispatchEvent(event);}
getCurrentDecision(){return this.currentDecision;}
getAllDecisions(){return this.decisions;}
isNewDecision(desc1,desc2){if(!desc1||!desc2||desc1.length!==desc2.length||desc1.type!==desc2.type)return true;for(let i=0;i<desc1.length;i++){if(desc1[i]!==desc2[i]){return true;}}
return false;}}
function reactToCmpResponse(cmpResponse){var cmpFound=typeof cmpResponse==="object";var foundWellFormedConsentDecision=cmpCheckForWellFormedDecision(cmpResponse);var tagBasedMap=generateTagBasedMap();var foundMapEntryForActiveSetting=Object.keys(tagBasedMap).length>0;var foundExplicitConsent=cmpCheckForExplicitConsentDecision(cmpResponse);var tiqIsAllowedToFire=cmpCheckForTiqConsent(cmpResponse,tiqGroupName);var tiqIsLoaded=window.tealiumCmpIntegration.isTiqReady||(window.utag&&window.utag.handler&&window.utag.handler.iflag===1);var conflictingIntegrations=window.tealiumCmpIntegration.loadRules.hasConflict;var noEnforcementRuleApplies=(Object.values(window.tealiumCmpIntegration.loadRules.loadMap)).indexOf(true)===-1;var currentDecision=buildConsentDecisionFromRawCmpOutput(cmpResponse);try{if(!window.tealiumCmpIntegration.suppressConsentRegister){window.tealiumConsentRegister=window.tealiumConsentRegister||new TealiumConsentRegister();window.tealiumConsentRegister.addConsentDecision(currentDecision);}}catch(e){console.warn(e)}
function checkLater(){if(!window.tealiumCmpIntegration.alreadyPolling){window.tealiumCmpIntegration.alreadyPolling=true;return window.setTimeout(recheckForCmpAndConsent,consentTimeoutInterval);}}
function checkLaterIfNeeded(){if(cmpCheckIfOptInModel()===true){return checkLater();}
if(cmpCheckIfOptInModel()===false&&!window.tealiumCmpIntegration.isTiqReady){return checkLater();}}
if(tiqIsLoaded){window.tealiumCmpIntegration.isTiqReady=true;}
if(conflictingIntegrations){if(messageNotLoggedYet(0)){var message="Conflicting consent integrations found:\n";var loadMap=window.tealiumCmpIntegration.loadRules.loadMap;Object.keys(loadMap).forEach(function(key){if(loadMap[key])
message+="\n- "+key});message+="\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nNo further polling."
logger(message);}
stopTiq();}else if(noEnforcementRuleApplies){if(messageNotLoggedYet(10))
logger("Consent Integrations are active on this environment, but none of the enforcement rules apply to this page, and no exemption applies.\n\nStopping TiQ (no cookies set/removed, no tags fired).");stopTiq();}else if(!cmpFound){if(messageNotLoggedYet(1))
logger("No CMP found on page.\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nPolling for changes.");checkLater();stopTiq();}else if(!foundMapEntryForActiveSetting){if(messageNotLoggedYet(2))
logger("No map found for current CMP Lookup Key.\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nNo retries.");stopTiq();}else if(!foundWellFormedConsentDecision){if(messageNotLoggedYet(3))
logger("Found CMP and got response, but didn't understand the response.\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nPolling for changes.");checkLater();stopTiq();}else if(!tiqIsAllowedToFire){if(messageNotLoggedYet(4))
logger("Found CMP and got well-formed response, but TiQ (window.tealiumCmpIntegration.tiqGroupName, defined as "+
window.tealiumCmpIntegration.tiqGroupName+
") isn't allowed to run based on the response.\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nPolling for changes.");checkLaterIfNeeded();stopTiq();}else if(!foundExplicitConsent){if(cmpCheckIfOptInModel()===true){checkLaterIfNeeded();if(messageNotLoggedYet(5))
logger("Found CMP and got well-formed IMPLICIT response which includes TiQ.\n\nAllowing certain tags to fire based on IMPLICIT consent.\n\nPolling for changes (opt-in mode).");}else{if(messageNotLoggedYet(5))
logger("Found CMP and got well-formed IMPLICIT response which includes TiQ.\n\nAllowing certain tags to fire based on IMPLICIT consent.\n\nNo further polling (opt-out mode)");}
if(tiqIsLoaded){processEarlyQueue();}else{checkLaterIfNeeded();}
triggerOrQueue();}else if(foundExplicitConsent){if(messageNotLoggedYet(6))
logger("Found CMP and got well-formed EXPLICIT response which includes TiQ.\n\nAllowing certain tags to fire based on EXPLICIT consent.\n\nNo further polling.");processEarlyQueue();processImplicitQueue();triggerOrQueue();}else{if(messageNotLoggedYet(7))
logger("Something unexpected went wrong.\n\nStopping TiQ (no cookies set/removed, no tags fired).\n\nNo retries.");stopTiq();}
if(!window.tealiumCmpIntegration.suppressConsentRegister&&!window.tealiumCmpIntegration.alreadyPolling){window.tealiumCmpIntegration.pollingWouldHaveStopped=true;return checkLater();}}
function overrideUtagFunctions(){if(window.utag.handler.trigger.toString().indexOf("tealiumCmpIntegration")!==-1){return true;}
window.utag.loader.initdata_old=window.utag.loader.initdata;window.utag.loader.initdata=newUtagLoaderInitdata;window.utag.handler.trigger_old=window.utag.handler.trigger;window.utag.handler.trigger=newUtagHandlerTrigger;window.utag.handler.RE_old=window.utag.handler.RE;window.utag.handler.RE=newUtagHandlerRE;logger("Overrode utag functions!");if(window.utag.handler.trigger.toString().indexOf("tealiumCmpIntegration")!==-1){return true;}
return false;}
function getNewConsents(implicit,explicit){implicit=implicit||[];explicit=explicit||[];var changes=[];for(var i=0;i<explicit.length;i++){if(implicit.indexOf(explicit[i])===-1){changes.push(explicit[i]);}}
return changes;}
function allPurposesHaveConsent(consentedServices,assignedPurposesString){if(!consentedServices||!assignedPurposesString||typeof assignedPurposesString!=='string')return false;var splitPurposeIds=assignedPurposesString.split(',');for(var i=0;i<splitPurposeIds.length;i++){if(consentedServices.indexOf(splitPurposeIds[i])===-1)return false;}
return true;}
function allPurposesHaveBeenPreviouslyProcessed(alreadyProcessedGroups,assignedPurposesString){if(!alreadyProcessedGroups||!assignedPurposesString||typeof assignedPurposesString!=='string')return true;var splitPurposeIds=assignedPurposesString.split(',');for(var i=0;i<splitPurposeIds.length;i++){if(alreadyProcessedGroups.indexOf(splitPurposeIds[i])===-1)return false;}
return true;}
function blockTagsBasedOnConsent(tagBasedMap,configObject,consentedServices,alreadyProcessedGroups,notProcessedGroups,refiringAllowed){if(Array.isArray(consentedServices)!==true){consentedServices=[];}
tagBasedMap=tagBasedMap||{};var utagFunctionsHaveBeenOverridden=window.utag.handler.trigger.toString().indexOf("tealiumCmpIntegration")!==-1;if(utagFunctionsHaveBeenOverridden!==true){window.utag.handler.trigger=function(){if(messageNotLoggedYet(8)){logger("Tags have been disabled because the required utag.loader edit hasn't been done successfully and the tealiumCmpIntegration is active.");}};consentedServices=[];}
if(!window.tealiumCmpIntegration.bundledTags){var cfg=window.utag.loader.cfg;var tags=Object.keys(cfg);window.tealiumCmpIntegration.bundledTags=tags.filter(function(tag){return cfg[tag].load===4});}
var deactivatedTags=[];alreadyProcessedGroups=alreadyProcessedGroups||[];var tiqIsAllowed=tiqGroupName&&consentedServices.indexOf(tiqGroupName)!==-1;var allTagUids=Object.keys(configObject);var assignedPurposeIds;var isAllowed;for(var i=0;i<allTagUids.length;i++){isAllowed=false;assignedPurposeIds=tagBasedMap[allTagUids[i]]||[];if(assignedPurposeIds){isAllowed=tiqIsAllowed&&allPurposesHaveConsent(consentedServices,assignedPurposeIds)&&(!allPurposesHaveBeenPreviouslyProcessed(alreadyProcessedGroups,assignedPurposeIds)||(notProcessedGroups.length>0&&refiringAllowed.indexOf(Number(allTagUids[i]))!==-1));}
if(isAllowed===true){configObject[allTagUids[i]].consent=1;}else{configObject[allTagUids[i]].load=0;configObject[allTagUids[i]].send=0;configObject[allTagUids[i]].consent=0;deactivatedTags.push(allTagUids[i]);}}
if(messageNotLoggedYet(9)){logger("Blocked tags: "+
JSON.stringify(deactivatedTags,null,2)+
(tiqIsAllowed?"":"\n\nAll tags blocked because Tealium iQ isn't allowed to fire."));}
return configObject;}
function newUtagHandlerRE(a,b,c){if(c=="alr"){var tagBasedMap=generateTagBasedMap();var currentlyAllowedVendors=getCurrentConsentDecision();var alreadyProcessed=b[nameOfImplicitQueueMarker]===1?window.tealiumCmpIntegration.implicitServices:[];var notProcessed=getNewConsents(alreadyProcessed,currentlyAllowedVendors);b[nameOfFullGroupArray]=currentlyAllowedVendors;b[nameOfConsentTypeString]=currentlyAllowedVendors&&currentlyAllowedVendors.type;b[nameOfUnprocessedGroupArray]=notProcessed;b[nameOfProcessedGroupArray]=alreadyProcessed;logger("Called block logic:\n\nAllowed: "+
JSON.stringify(currentlyAllowedVendors,null,2)+
"\n\nAlready processed: "+
(alreadyProcessed?JSON.stringify(alreadyProcessed,null,2):"(none)"));logger("Map:\n\n"+
JSON.stringify(map,null,2)+
"\n\nActive CMP Lookup Key: "+
cmpFetchCurrentLookupKey()+
"\n\nMap has entry for current settingsId: "+
(typeof map[cmpFetchCurrentLookupKey()]==="object"?"true":"false")+
"\n\nTag-based map for the active key: "+
JSON.stringify(tagBasedMap,null,2)+
"\n\nTags configured to refire: "+
JSON.stringify(refiringAllowed.map(tag=>String(tag)),null,2));logger("Consent confirmed: "+
currentlyAllowedVendors.type+
" : "+
JSON.stringify(currentlyAllowedVendors,null,2));var newCfg=blockTagsBasedOnConsent(tagBasedMap,window.utag.loader.cfg,currentlyAllowedVendors,alreadyProcessed,notProcessed,refiringAllowed);window.utag.loader.cfg=newCfg;}
var r=window.utag.handler.RE_old(a,b,c);return r;}
function newUtagLoaderInitdata(){window.utag.loader.initdata_old();if(!window.tealiumCmpIntegration.isNoviewSet&&!window.tealiumCmpIntegration.alreadyFiredInitialViewEvent){var consentedServices=getCurrentConsentDecision();if(consentedServices.type==="missing-well-formed-response"){return;}
window.tealiumCmpIntegration.alreadyFiredInitialViewEvent=true;if(consentedServices.type==="implicit"){window.tealiumCmpIntegration.implicitServices=consentedServices;var viewEvent={event:"view",data:window.utag.handler.C(window.utag.data),};viewEvent.data[nameOfEventIdString]=storeOriginalEvent(viewEvent);queueEventWithoutFiringImplicitServices(viewEvent);}}}
function generateTagBasedMap(){var tagBasedMap=getTagBasedMap(map);window.tealiumCmpIntegration.tagBasedMap=tagBasedMap;return tagBasedMap;}
function newUtagHandlerTrigger(a,b,c){var isPureConsentEvent=a===nameOfConsentPollingEvent&&!b&&!c;var isNoviewSet=window.tealiumCmpIntegration.isNoviewSet||true;var consentedServices=getCurrentConsentDecision();var consentType=(consentedServices&&consentedServices.type)||"none";var isCmpReady=consentType==="implicit"||consentType==="explicit";var isTealiumReady=window.tealiumCmpIntegration.isTiqReady||(window.utag&&window.utag.handler&&window.utag.handler.iflag===1)||(window.utag&&window.utag.PINITCalled===true);if(isTealiumReady){window.tealiumCmpIntegration.isTiqReady=true;}
if(!isPureConsentEvent){logger("utag.handler.trigger called with:\n\n"+JSON.stringify(arguments,null,2));b=b||{};b[nameOfEventIdString]=b[nameOfEventIdString]||storeOriginalEvent(a,b,c);}
if(!isCmpReady&&!isTealiumReady){consentedServices.type="tealium-and-cmp-loading";logger("Waiting for CMP and Tealium to be ready, queueing early event.");queueEarlyEvent(a,b,c);return false;}else if(!isCmpReady){consentedServices.type="cmp-loading";logger("CMP is still loading, queueing early event");queueEarlyEvent(a,b,c);return false;}else if(!isTealiumReady){consentedServices.type="tealium-still-loading";logger("Tealium iQ is still loading, queueing early event");queueEarlyEvent(a,b,c);return false;}
var hasTagUidArray=c&&typeof c==="object"&&c.uids&&window.utag.ut.typeOf(c.uids)==="array";var uidMap=generateTagBasedMap();var allowedTagUids=[];var blockedTagUids=[];var assignedPurposeIds;var tagUid;var hasConsent;if(hasTagUidArray){for(var i=0;i<c.uids.length;i++){tagUid=c.uids[i];assignedPurposeIds=uidMap[tagUid]||"(missing)";hasConsent=utag.loader.cfg[tagUid]&&utag.loader.cfg[tagUid].consent===1;if(hasConsent){allowedTagUids.push(tagUid);}else{blockedTagUids.push(tagUid);}}
c.originalUids=c.uids.slice();c.uids=allowedTagUids.slice();c.blockedTagUids=blockedTagUids.slice();logger("Call included tagUid array:\n\n"+
JSON.stringify(c.originalUids)+
"\n\nwhich was replaced by the filtered version (after consent and refire considerations):\n\n"+
JSON.stringify(c.uids));}
if(consentType==="explicit"){processEarlyQueue();processImplicitQueue();triggerTiqLoad();if(!isPureConsentEvent){return window.utag.handler.trigger_old(a,b,c);}}else if(consentType==="implicit"){processEarlyQueue();triggerTiqLoad();window.tealiumCmpIntegration.implicitServices=consentedServices;if(!isNoviewSet&&isTealiumReady&&!window.tealiumCmpIntegration.alreadyFiredInitialViewEvent){window.tealiumCmpIntegration.alreadyFiredInitialViewEvent=true;queueEventAndFireImplicitServices("view",window.utag.handler.C(window.utag.data));}
if(!isPureConsentEvent){return queueEventAndFireImplicitServices(a,b,c);}}else if(consentType==="missing-map"){logger("Something went wrong - all tags were blocked because no consent map was found for the active setting ID.");return false;}else if(consentType==="missing-tiq-consent"){logger('Something went wrong - all tags were blocked because no consent was found for "'+
tiqGroupName+
'", configured Tealium iQ name.\n\nConsent found: '+
JSON.stringify(consentedServices,null,2));return false;}else{logger("Something went wrong - all tags were blocked because the consent response was not understood.");return false;}}
var dequeuingInterval=150;function processEarlyQueue(){if(window.tealiumCmpIntegration.alreadyProcessingEarlyQueue!==true){window.tealiumCmpIntegration.earlyEventQueue=window.tealiumCmpIntegration.earlyEventQueue||[];var count=1;var trackCallGenerator=function(event){return function(){window.utag.track(event);};};while(window.tealiumCmpIntegration.earlyEventQueue.length>0){window.tealiumCmpIntegration.alreadyProcessingEarlyQueue=true;var queuedEvent=window.tealiumCmpIntegration.earlyEventQueue.shift();queuedEvent.data[nameOfProcessedGroupArray]=[];logger("Processing queued early event for currently consented tags: "+JSON.stringify(queuedEvent,null,2));var trackCall=trackCallGenerator(queuedEvent);window.setTimeout(trackCall,count*dequeuingInterval);count++;}}}
function processImplicitQueue(){var count=1;var trackCallGenerator=function(event){return function(){var originalEventCopy=JSON.parse(JSON.stringify(window.tealiumCmpIntegration.originalEvents[event.data[nameOfEventIdString]]));originalEventCopy.data[nameOfImplicitQueueMarker]=1;return window.utag.track(originalEventCopy);};};var alreadyLogged=false;if(window.tealiumCmpIntegration.alreadyProcessingImplicitQueue!==true){window.tealiumCmpIntegration.implicitEventQueue=window.tealiumCmpIntegration.implicitEventQueue||[];while(window.tealiumCmpIntegration.implicitEventQueue.length>0){if(!alreadyLogged){alreadyLogged=true;logger("Explicit consent tracking request received - processing past implicitly tracked events ("+
window.tealiumCmpIntegration.implicitEventQueue.length+
") for any new explicit tags.");}
window.tealiumCmpIntegration.alreadyProcessingImplicitQueue=true;var queuedEvent=window.tealiumCmpIntegration.implicitEventQueue.shift();logger("Triggering event for explicitly-consented tags: "+JSON.stringify(queuedEvent));var trackCall=trackCallGenerator(queuedEvent);window.setTimeout(trackCall,count*dequeuingInterval);count++;}}}
function storeOriginalEvent(a,b,c){a=a||{};if(typeof b==="object"){b=JSON.parse(JSON.stringify(b));}
if(typeof a==="string"){a={event:a,data:b||{},cfg:c};}
var event_id=String(Date.now())+String(Math.round(Date.now()*Math.random()*10000));a.data[nameOfEventIdString]=event_id;window.tealiumCmpIntegration.originalEvents=window.tealiumCmpIntegration.originalEvents||{};window.tealiumCmpIntegration.originalEvents[event_id]=a;logger("Stored original event "+event_id+"!");return event_id;}
function queueEarlyEvent(a,b,c){a=a||{};if(typeof b==="object"){b=JSON.parse(JSON.stringify(b));}
if(typeof a==="string"){a={event:a,data:b||{},cfg:c};}
a.data[nameOfEventIdString]=a.data[nameOfEventIdString]||storeOriginalEvent(a,b,c);window.tealiumCmpIntegration.earlyEventQueue=window.tealiumCmpIntegration.earlyEventQueue||[];window.tealiumCmpIntegration.earlyEventQueue.push(a);logger("Queued early event!");}
function queueEventWithoutFiringImplicitServices(a,b,c){a=a||{};if(typeof b==="object"){b=JSON.parse(JSON.stringify(b));}
if(typeof a==="string"){a={event:a,data:b||{},cfg:c};}
a.data[nameOfEventIdString]=a.data[nameOfEventIdString]||storeOriginalEvent(a,b,c);var newUids;if(a&&a.cfg&&window.utag.ut.typeOf(a.cfg.uids)==="array"){newUids=a.cfg.blockedTagUids.slice();for(var i=0;i<refiringAllowed.length;i++){if(a.cfg.originalUids&&a.cfg.originalUids.indexOf(refiringAllowed[i])!==-1&&newUids.indexOf(refiringAllowed[i])===-1&&(b[nameOfUnprocessedGroupArray]&&b[nameOfUnprocessedGroupArray].length>0)){newUids.push(refiringAllowed[i]);}}
a.cfg.uids=newUids;}
delete a.data[nameOfProcessedGroupArray];delete a.data[nameOfFullGroupArray];delete a.data[nameOfUnprocessedGroupArray];window.tealiumCmpIntegration.implicitEventQueue=window.tealiumCmpIntegration.implicitEventQueue||[];if(window.tealiumCmpIntegration.cmpCheckIfOptInModel()){window.tealiumCmpIntegration.implicitEventQueue.push(a);}}
function queueEventAndFireImplicitServices(a,b,c){window.utag.handler.trigger_old(a,b,c);logger("Implicit consent tracking request fired (or queued, if utag hasn't loaded).");return queueEventWithoutFiringImplicitServices(a,b,c);}
function getTagBasedMap(map){if(typeof map!=="object")return{};var settingsId=cmpFetchCurrentLookupKey()||"";if(typeof settingsId!=="string"||settingsId==="")return{};var settingSpecificMap=map[settingsId]||{};var purposeIds=Object.keys(settingSpecificMap);var uidMap={};for(var i=0;i<purposeIds.length;i++){for(var j=0;j<settingSpecificMap[purposeIds[i]].length;j++){uidMap[settingSpecificMap[purposeIds[i]][j]]=uidMap[settingSpecificMap[purposeIds[i]][j]]||[]
uidMap[settingSpecificMap[purposeIds[i]][j]].push(purposeIds[i]);}}
Object.keys(uidMap).forEach((tag)=>{uidMap[tag]=uidMap[tag].join(',')})
return uidMap;}
function recheckForCmpAndConsent(){var newConsentResponse=cmpFetchCurrentConsentDecision();window.tealiumCmpIntegration.alreadyPolling=false;reactToCmpResponse(newConsentResponse);}
function getCurrentConsentDecision(){var freshConsent=cmpFetchCurrentConsentDecision();return buildConsentDecisionFromRawCmpOutput(freshConsent);}
function logger(message,showOutsideDebugMode){if(typeof tealiumEnvironment==="undefined"||tealiumEnvironment==="prod"){showOutsideDebugMode=false;}
if(showOutsideDebugMode||tiqInDebugMode){message="\n"+message+"\n";var formattedArr=[];formattedArr.push("****************");var messageArr=message.split("\n");messageArr.forEach(function(messageLine){formattedArr.push("*  "+messageLine);});formattedArr.push("****************");var outputString=formattedArr.join("\n");console.log(outputString);}}
function stopTiq(){window.utag_cfg_ovrd=window.utag_cfg_ovrd||{};window.utag_cfg_ovrd.noload=true;}
function triggerTiqLoad(){if(!(window.utag&&window.utag.loader&&window.utag.loader.PINIT)){return true;}
if(!window.utag.handler||!window.utag.handler.iflag){window.utag.cfg.noload=false;if(!window.utag.PINITCalled){window.utag.loader.rd_flag=undefined;window.utag.loader.PINIT();for(var i in window.utag.loader.GV(window.utag.loader.cfg)){var tag=window.utag.loader.cfg[i];if(tag.load===4&&tag.wait===0){window.utag.loader.LOAD(i);}}
window.utag.PINITCalled=true;}
return true;}
return false;}
function triggerOrQueue(){var successfullyTriggeredLoadIfNeeded=triggerTiqLoad();if(!successfullyTriggeredLoadIfNeeded){return window.utag.handler.trigger(nameOfConsentPollingEvent);}}
function getTealiumEnvironment(){var allScripts=document.getElementsByTagName("script");var re=/\/([^/]*)\/utag\.js(\?.*)*$/;for(var i=0;i<allScripts.length;i++){var result=re.exec(allScripts[i].src);if(result&&result[1]){return result[1];}}
return"prod";}
if(window.utag_cfg_ovrd&&window.utag_cfg_ovrd.noload===true)return false;logger("TiQ CMP integration active: "+
window.tealiumCmpIntegration.cmpName+
(tiqInDebugMode?"\n\nDEBUGGING TIP: Use /SENDING|\\*\\*\\*\\*/ in the browser console as the 'filter' to show only CMP and tag send notifications.":"\n\nActivate TiQ Debug Mode for more details: https://docs.tealium.com/platforms/javascript/debugging/"));overrideUtagFunctions();var data=window.utag.loader.GV(window.utag_data);window.utag.cl={"_all_":1};window.utag.loader.rd_flag=1;window.utag.loader.RD(data);window.utag.loader.loadrules(data);window.utag.cl=undefined;var cmpResponse=cmpFetchCurrentConsentDecision();reactToCmpResponse(cmpResponse);})(window);}}catch(e){utag.DB(e)}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};utag.loader.EV('','ready',function(a){if(utag.loader.efr!=1){utag.loader.efr=1;try{try{if(1){window.utag_data=window.utag_data||{};digitalData=digitalData||{};digitalData.trackVersion='utag.js';digitalData.track=function(name,details){if(name==='updateConsentPreference'&&typeof window.Optanon!=='undefined'&&typeof window.Optanon.ToggleInfoDisplay==='function'){window.Optanon.ToggleInfoDisplay();}
try{const fireTealiumHit=function(){window.utag.DB('[fireTealiumHit] '.concat(eventData.event).concat(' -> ').concat(eventData.tealium_event).concat('\n').concat(JSON.stringify(eventData,null,2)));let time=0;const interval=500;const timeout=10000;const checkAMCVID=function(){if(window.dataUtils.getAdobeExperienceCloudIdFromCookie()){window.utag.link(eventData);}else if(time>=timeout){window.utag_data.debug='AMCVID Time up';window.utag.link(eventData);}else{window.utag.DB('AMCVID: Waiting '+interval+' ms');time+=interval;setTimeout(checkAMCVID,interval);}};checkAMCVID();};digitalData.currentTrackValue=name;window.utag.DB('digitalData.track fired with value:'+name);window.utag.DB(details);const eventNameCheck=/^ev \| |^pl \| /.test(name);const eventData={evtDetails:details||'none',tealium_event:eventNameCheck?name:window.utag_data.eventLookup(name),isWhitelisted:eventNameCheck,event:name,};if(digitalData&&digitalData.event&&digitalData.event.length){const ev=digitalData.event;eventData.evtData=ev[ev.length-1];if(ev.length>1){eventData.evtDataPrevious=ev[ev.length-2];}}
if(!window.utag_data.needToWait(fireTealiumHit,eventData)&&!window.utag_data.doNotTrack(eventData)){fireTealiumHit();}}catch(e){utag.DB('digitalData.track failed with error: '+e);}};}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){if(window.earlyEventStack&&Array.isArray(window.earlyEventStack)){for(var x=0;x<window.earlyEventStack.length;x++){if(!window.earlyEventStack[x].processed){window.digitalData.track(window.earlyEventStack[x].eventName,window.earlyEventStack[x].details,window.earlyEventStack[x].fromDTM)
window.earlyEventStack[x].processed=true}}}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{if(typeof utag.linkHandler=='undefined'){utag.linkHandler=function(a,b,c,d,e){if(!a)a=window.event;if(a.target)b=a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;if(typeof b=='undefined'||typeof b.tagName=='undefined')return;c=b.tagName.toLowerCase();if(c=='body')return;if(c!='a'){for(d=0;d<5;d++){if(typeof b!='undefined'&&b.parentNode)b=b.parentNode;c=(b!=null&&b.tagName)?b.tagName.toLowerCase():'';if(c=='a')break;else if(c=='body')return;}}
if(c!='a')return;var lt=b.text?b.text:b.innerText?b.innerText:'';if((lt==''||/^\s+$/.test(lt))&&typeof b.innerHTML!='undefined'){lt=b.innerHTML.toLowerCase();if(lt.indexOf('<img ')>-1){d=lt.indexOf('alt="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}else{d=lt.indexOf('src="');if(d>-1){e=lt.indexOf('"',d+5);lt=lt.substring(d+5,e);}}}}
var hr=b.href,hrnq=(b.href.split('?'))[0];var obj={link_obj:b,link_text:lt,link_url:hr,link_type:'exit link',event_name:'exit-link'};c=[location.hostname].concat(('javascript:,www.argos.co.uk,argos.co.uk,www.argos.ie,argos.ie,help.argos.co.uk,www.hlserve.com,hlserve.com,mailto:,tel:,localhost').split(','));for(d=0;d<c.length;d++){if(hrnq.indexOf(c[d])>-1){obj.link_type='link';break;}};c=('exe,zip,wav,mp3,mov,mpg,avi,wmv,doc,pdf,xls').split(',');for(d=0;d<c.length;d++){e=new RegExp(c[d]+'$');if(e.test(hrnq)){obj.link_type='download link';break;}};try{var link=b;obj.link_obj=undefined;if(obj.link_url.indexOf('feedback.argos.co.uk')>-1)obj.link_type='exit link';}catch(e){};if(/^\/|((http|https):\/\/(?!argos.co.uk|www.argos.co.uk|argos.ie|www.argos.ie|help.argos.co.uk|hlserve.com|www.hlserve.com)[\w\.\/\-=?#]+)/.test(obj['link_url']))utag.link(obj);}
utag.loader.EV(document,'mousedown',utag.linkHandler);}}catch(e){utag.DB(e)};try{try{if(utag.data['consentPreference'].toString().toLowerCase().indexOf('performance:1'.toLowerCase())>-1){if(document.getElementsByClassName('argos-header').length&&document.getElementsByClassName('argos-header--desktop').length&&document.getElementsByClassName('argos-header--mobile').length){document.getElementsByClassName('argos-header--desktop')[0].addEventListener('click',function(e){doJobReact(e,'desktop')})
document.getElementsByClassName('argos-header--mobile')[0].addEventListener('click',function(e){doJobReact(e,'mobile')})}else if(document.getElementById('main')&&document.getElementsByClassName('header-desktop').length&&document.getElementsByClassName('header-mobile').length){document.getElementsByClassName('header-desktop')[0].addEventListener('click',function(e){doJobReact2(e,'desktop')})
document.getElementsByClassName('header-mobile')[0].addEventListener('click',function(e){doJobReact2(e,'mobile')})}else if(document.getElementsByClassName('main-header').length&&document.getElementById('search_submit')){document.getElementById('search_submit').addEventListener('click',function(e){doJobBeta()})}
function doJobReact(e,view){if(e.target){var searchType
var searchValue
if(/autosuggest/.test(e.target.parentNode.className)){searchType='autosuggest'
searchValue=getAutoSuggestSearchValue(e)}else if(isReactSearchButton(e.target)||isReactSearchButton(e.target.parentNode)){searchType='standard'
searchValue=document.getElementsByClassName('argos-header--'+view)[0].getElementsByClassName('argos-header__search-input')[0].value}
if(searchValue){setCookie(searchType,searchValue)}}}
function isReactSearchButton(node){return(node.nodeName==='BUTTON'&&node.classList.contains('argos-header__search-button'))}
function doJobReact2(e,view){if(e.target){var searchType
var searchValue
if(/suggested-term/.test(e.target.parentNode.getAttribute('data-el'))){searchType='autosuggest'
searchValue=getAutoSuggestSearchValue2(e)}else if(e.target.classList.contains('icon-UIE-Search')||e.target.classList.contains('btn-search')){searchType='standard'
searchValue=document.getElementById('searchTerm').value}
if(searchValue){setCookie(searchType,searchValue)}}}
function doJobBeta(){var searchType='standard'
var searchValue=document.getElementsByName('searchTerm')[0].value
if(searchValue){setCookie(searchType,searchValue)}}
function getAutoSuggestSearchValue(e){var asNodeValue
if(typeof e.target!=='undefined'&&e.target.classList.contains('autosuggest__list-item')){asNodeValue=e.target.innerText}else if(typeof e.target!=='undefined'&&e.target.parentNode.classList.contains('autosuggest__list-item')){asNodeValue=e.target.parentNode.innerText}
return asNodeValue}
function getAutoSuggestSearchValue2(e){var asNodeValue
if(e.target&&/suggested-term/.test(e.target.getAttribute('data-el'))){asNodeValue=e.target.innerText}else if(typeof e.target!=='undefined'&&/suggested-term/.test(e.target.parentNode.getAttribute('data-el'))){asNodeValue=e.target.parentNode.innerText}
return asNodeValue}
function processSearchValue(searchType,searchValue){searchValue=searchValue.toLowerCase().trim().replace(/\s+/g,' ')
if(searchType==='autosuggest'){searchValue+=':auto'}
return searchValue}
function setCookie(searchType,searchValue){searchValue=processSearchValue(searchType,searchValue)
var output=JSON.stringify({v:searchValue,r:'searchBar',p:window.utag.data.pageName})
window.utag.data.c_w('_cl_ev',window.btoa(output),null,'/','argos.co.uk')
window.utag.DB('Set cookie _cl_ev with encoded value: '+output)}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){var dd=window.digitalData;setTimeout(function(){if(window.utag&&window.utag.data&&window.utag.data['ut.env']&&!/prod/i.test(window.utag.data['ut.env'])&&dd&&dd.page&&dd.page.attributes){console.log('++++++++ platform:',dd.page.attributes.platform);}
if(!(dd&&dd.page&&dd.page.attributes&&/react/i.test(dd.page.attributes.platform))){dd.track('pageview',null,true);}},800);}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(1){$('.town-store-collection .cta.button.enable-storelocator-lightbox').click(function(){digitalData.track('tlp_storeSelector',null,true)});}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.pathname'].toString().toLowerCase().indexOf('StoreAvailabilityView'.toLowerCase())>-1){try{if(window.s.version!=='dummy'){$('#PNPL_new_pay_instore_button').click(function(){digitalData.track('pnpl_payInStoreButtonCustom',null,true)})
$('#confirmEmail').click(function(){digitalData.track('pnpl_checkDetailsButtonCustom',null,true)})
$('#PNPL_place_reservation_button').click(function(){digitalData.track('pnpl_placeReservationButtonCustom',null,true)})
$('#changeEmailLink').click(function(){digitalData.track('pnpl_changeEmailLinkCustom',null,true)})}}catch(e){}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};try{try{if(utag.data['dom.pathname'].toString().indexOf('/product/')>-1){try{document.addEventListener('click',function(e){if(e.target.className==='product-qanda-summary-link a'){digitalData.track('pdp_askQuestion',null,true)}})}catch(e){}}}catch(e){utag.DB(e)}}catch(e){utag.DB(e)};}});(function(w){var i=0
if((typeof w.utag_events==='object'&&w.utag_events.length>0)){while(w.utag_events.length){d=w.utag_events.shift();(function(d){setTimeout(function(){utag.track({event:d.d,data:d.a,cfg:{cb:d.b,uids:d.c}});},150*i);})(d);i++;}}}(window));if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}
//tealium universal tag - utag.2 ut4.0.202601291031, Copyright 2026 Tealium.com Inc. All Rights Reserved.
var loadLibrary=function(){var e=function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!U.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function r(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return r(n.concat(i))?(a(n,i),o(n,i)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function u(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=Ie("log",e,t),this.warn=Ie("warn",e,t),this.error=Ie("error",e,t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cookieName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cookies;if(!t||!i)return{get:xe,set:xe,remove:xe};var r={remove:function(){i.remove(t)},get:function(){var e=i.get(t),n={};try{n=JSON.parse(e)}catch(e){n={}}return n},set:function(e,n){n=n||{};var a=r.get(),o=Object.assign(a,e);i.set(t,JSON.stringify(o),{domain:n.optInCookieDomain||"",cookieLifetime:n.optInStorageExpiry||3419e4,secure:n.secure,sameSite:n.sameSite,expires:!0})}};return r}function f(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var n=Ae(e);return n.length?n.every(function(e){return!!t[e]}):Oe(t)}function t(){E(M),k(de.COMPLETE),S(C.status,C.permissions),s&&_.set(C.permissions,{optInCookieDomain:c,optInStorageExpiry:u,secure:f,sameSite:p}),I.execute(He)}function n(e){return function(n,i){if(!Me(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return k(de.CHANGED),Object.assign(M,ke(Ae(n),e)),i||t(),C}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,c=i.optInCookieDomain,u=i.optInStorageExpiry,l=i.isIabContext,f=i.secureCookie,p=i.sameSiteCookie,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=g.cookies,h=Ne(a);Fe(h,"Invalid `previousPermissions`!"),Fe(o,"Invalid `preOptInApprovals`!");var _=d({cookieName:"adobeujs-optin"},{cookies:m}),C=this,S=le(C),I=_e(),v=Le(h),D=Le(o),y=s?_.get():{},b={},A=function(e,t){return Pe(e)||t&&Pe(t)?de.COMPLETE:de.PENDING}(v,y),O=function(e,t,n){var i=ke(he,!r);return r?Object.assign({},i,e,t,n):i}(D,v,y),M=Ee(O),k=function(e){return A=e},E=function(e){return O=e};C.deny=n(!1),C.approve=n(!0),C.denyAll=C.deny.bind(C,he),C.approveAll=C.approve.bind(C,he),C.isApproved=function(t){return e(t,C.permissions)},C.isPreApproved=function(t){return e(t,D)},C.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?C.on(de.COMPLETE,e):xe;return!r||r&&C.isComplete||!!o?e(C.permissions):t||I.add(He,function(){return e(C.permissions)}),n},C.complete=function(){C.status===de.CHANGED&&t()},C.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Be);b[e.name]||(b[e.name]=e,e.onRegister.call(e,C))},C.execute=Ue(b),C.memoizeContent=function(e){we(e)&&_.set(e,{optInCookieDomain:c,optInStorageExpiry:u,secure:f,sameSite:p})},C.getMemoizedContent=function(e){var t=_.get();if(t)return t[e]},Object.defineProperties(C,{permissions:{get:function(){return O}},status:{get:function(){return A}},Categories:{get:function(){return fe}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return C.status===de.PENDING}},isComplete:{get:function(){return C.status===de.COMPLETE}},__plugins:{get:function(){return Object.keys(b)}},isIabContext:{get:function(){return l}}})}function g(e,t){function n(){r=null,e.call(e,new f("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e===window.top)return void ye.error("__tcfapi not found");for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void ye.error("__tcfapi not found");var n={};return window.__tcfapi=function(e,i,r,a){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:a,version:i,callId:o}};n[o]=r,t.postMessage(s,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var i=t.__tcfapiReturn;"function"==typeof n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__tcfapi}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0===e.vendor.consents[t],r=n.every(function(t){return!0===e.purpose.consents[t]});return i&&r}function _(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=_e(),i={transparencyAndConsentData:null},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);a({callback:i})},e.isApproved=function(e){var t=e.callback,n=e.category,r=e.timeout;if(i.transparencyAndConsentData)return t(null,h(i.transparencyAndConsentData,pe[n],ge[n]));var o=g(function(e,i){t(e,h(i,pe[n],ge[n]))},r);a({category:n,callback:o})},e.onRegister=function(n){t=n;var i=Object.keys(pe),r=function(e,t){!e&&t&&(i.forEach(function(e){var i=h(t,pe[e],ge[e]);n[i?"approve":"deny"](e,!0)}),n.complete())};e.fetchConsentData({callback:r})};var a=function(e){var a=e.callback;if(i.transparencyAndConsentData)return a(null,i.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",a),o(function(e,a){if(a){var o=Ee(e),s=t.getMemoizedContent("iabConsentHash"),c=De(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==c,r("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},o=function(e){var t=Ve(pe),n=m();"function"==typeof n&&n("getTCData",2,e,t)}}var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};var S,I,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},D={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},y={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},b={CUSTOMERIDS:"getCustomerIDs"},A={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},O={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},M={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},k={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},E={GLOBAL:"global"},T={LAX:"Lax",STRICT:"Strict",NONE:"None"},L={MESSAGES:v,STATE_KEYS_MAP:D,ASYNC_API_MAP:y,SYNC_API_MAP:b,ALL_APIS:A,FIELDGROUP_TO_FIELD:O,FIELDS:M,AUTH_STATE:k,OPT_OUT:E,SAME_SITE_VALUES:T},P=L.STATE_KEYS_MAP,R=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(P.MCMID,e),r=n.call(this,P.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},w=L.MESSAGES,x=L.ASYNC_API_MAP,N=L.SYNC_API_MAP,F=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(w.GETSTATE),""}}function n(n){this[x[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[N[t]]=function(){return this.findField(t,e)||{}}}Object.keys(x).forEach(n,this),Object.keys(N).forEach(i,this)},j=L.ASYNC_API_MAP,V=function(){Object.keys(j).forEach(function(e){this[j[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},U=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};var i=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:i()?7:null},n.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),H=(U.isObjectEmpty,U.isValueEmpty,U.getIeVersion,U.isFirefox,U.encodeAndBuildRequest,U.isObject,U.defineGlobalNamespace,U.pluck,U.parseOptOut,U.normalizeBoolean,n),B=L.MESSAGES,G={0:"prefix",1:"orgID",2:"state"},Y=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e){t[G[n]]=2!==n?e:JSON.parse(e)}}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(B).indexOf(i.prefix);return r||a||o},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}},q=L.MESSAGES,W=function(e,t,n,i){function r(e){Object.assign(p,e)}function a(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(i,e))}function c(){r(new R(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),C.removeEventListener("message",u)}function u(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,C.clearTimeout(p._handshakeTimeout),C.removeEventListener("message",u),r(new F(p)),C.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(q.GETSTATE)}}function l(){g&&postMessage?(C.addEventListener("message",u),s(q.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function d(){C.s_c_in||(C.s_c_il=[],C.s_c_in=0),p._c="Visitor",p._il=C.s_c_il,p._in=C.s_c_in,p._il[p._in]=p,C.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var m=!1,h=new Y(e,g);p.callbackRegistry=H(),p.init=function(){d(),f(),r(new V(p)),l()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=a},X=L.MESSAGES,K=L.ALL_APIS,J=L.ASYNC_API_MAP,z=L.FIELDGROUP_TO_FIELD,Q=function(e,t){function n(){var t={};return Object.keys(K).forEach(function(n){var i=K[n],r=e[i]();U.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=z[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=J[a[0]];e[o](n,!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){c(e),a(e,X.HANDSHAKE)}function s(e){r(function(){a(e,X.PARENTSTATE)})()}function c(n){function i(i){r.call(e,i),t.send(n,X.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e)){(t.parse(e).prefix===X.HANDSHAKE?o:s)(e.source)}}},$=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})},Z={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var r=i(n,"cookieLifetime"),a=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure"),c=i(n,"sameSite"),u=s?"Secure":"",l=c?"SameSite="+c+";":"";if(a&&"SESSION"!==r&&"NONE"!==r){var d=""!==t?parseInt(r||0,10):-60;if(d)a=new Date,a.setTime(a.getTime()+1e3*d);else if(1===a){a=new Date;var f=a.getYear();a.setYear(f+2+(f<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(a?" expires="+a.toGMTString()+";":"")+(o?" domain="+o+";":"")+l+u,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain="+n+";":"";var r=i(t,"secure"),a=i(t,"sameSite"),o=r?"Secure":"",s=a?"SameSite="+a+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+s+o}},ee=function(e,t){var n;!e&&C.location&&(e=C.location.hostname),n=e;var i,r=n.split("."),a=t||{};for(i=r.length-2;i>=0;i--)if(a.domain=r.slice(i).join("."),Z.set("TEST_AMCV_COOKIE_WRITE","cookie",a))return Z.remove("TEST_AMCV_COOKIE_WRITE",a),a.domain;return""},te={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},ne=!!C.postMessage,ie={postMessage:function(e,t,n){var i=1;t&&(ne?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},receiveMessage:function(e,t){var n;try{ne&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),C.addEventListener?C[e?"addEventListener":"removeEventListener"]("message",n):C[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},re=function(e){var t,n,i="0123456789",r="",a="",o=8,s=10,c=10,u=""+Date.now(),l=u.substr(-6).split("").reverse("").join("");if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),4>t&&l[t]<o&&(n=+l[t]),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),6>t&&l[t]<s?(r+=l[t],n=l[t]):r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),a+=i.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&2>n?c=10:2<t&&(c=10);return r+a},ae=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(C.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new C[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=C,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},oe={POST_MESSAGE_ENABLED:!!C.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},se=function(e,t){var n=C.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:oe.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,c=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!oe.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=oe.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),U.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,c=e._getField(a),u=!1,l=!1,d=Math.ceil((new Date).getTime()/oe.MILLIS_PER_DAY);c?(o=c.split("*"),s=this.pruneSyncData(o,t.id,d),u=s.dataPresent,l=s.dataValid,u&&l||this.fireSync(r,t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var c,u,l,d,f=n.url,p=e.loadSSL?"https:":"http:";for(c=0,u=f.length;c<u;c++){l=f[c],d=/^\/\//.test(l);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,c=e._getField(a),u=[];if(c){o=c.split("*");var l,d,f;for(l=0,d=o.length;l<d;l++)f=o[l],f.match("^"+n.id+"-")||u.push(f)}s.setSyncTrackingData(u,n,i,r)}}(this.onPagePixels.length,n,a,o)),g.src=(d?p:"")+l,this.onPagePixels.push(g)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((oe.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?oe.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ie.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>oe.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},ce={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},ue={getConfigNames:function(){return Object.keys(ce)},getConfigs:function(){return ce},normalizeConfig:function(e,t){return ce[e]&&"boolean"===ce[e].type?"function"!=typeof t?t:t():t}},le=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},de={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},fe={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},pe=(S={},t(S,fe.AAM,565),t(S,fe.ECID,565),S),ge=(I={},t(I,fe.AAM,[1,10]),t(I,fe.ECID,[1,10]),I),me=["videoaa","iabConsentHash"],he=function(e){return Object.keys(e).map(function(t){return e[t]})}(fe),_e=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!u(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},Ce=function(){},Se=function(e){var t=window,n=t.console;return!!n&&"function"==typeof n[e]},Ie=function(e,t,n){return n()?function(){if(Se(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:Ce},ve=l,De=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var i=0;i<t.length;i++){var r=255&(n^t.charCodeAt(i));n=n>>>8^e[r]}return(n^=-1)>>>0}}(),ye=new ve("[ADOBE OPT-IN]"),be=function(t,n){return e(t)===n},Ae=function(e,t){return e instanceof Array?e:be(e,"string")?[e]:t||[]},Oe=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||Te(e))&&Ae(e).every(function(e){return he.indexOf(e)>-1||t&&me.indexOf(e)>-1})},ke=function(e,t){return e.reduce(function(e,n){return e[n]=t,e},{})},Ee=function(e){return JSON.parse(JSON.stringify(e))},Te=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Le=function(e){if(we(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Pe=function(e){return void 0===e||(we(e)?Me(Object.keys(e),!0):Re(e))},Re=function(e){try{var t=JSON.parse(e);return!!e&&be(e,"string")&&Me(Object.keys(t),!0)}catch(e){return!1}},we=function(e){return null!==e&&be(e,"object")&&!1===Array.isArray(e)},xe=function(){},Ne=function(e){return be(e,"function")?e():e},Fe=function(e,t){Pe(e)||ye.error("".concat(t))},je=function(e){return Object.keys(e).map(function(t){return e[t]})},Ve=function(e){return je(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ue=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?xe:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],u=s[1];if(!c||"function"!=typeof c[u])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(r,{callback:o});c[u].call(c,l)}catch(e){ye.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var He="fetchPermissions",Be="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=fe,p.TimeoutError=f;var Ge=Object.freeze({OptIn:p,IabPlugin:_}),Ye=function(e,t){e.publishDestinations=function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!U.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var u=[];c.forEach(function(e){U.isObject(e)&&(e.hideReferrer?e.message&&a.addMessage(e.message):u.push(e))});!function e(){u.length&&setTimeout(function(){var t=new Image,n=u.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}},qe=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,a=Math.pow,o=a(2,32),s="",c=[],u=8*t.length,l=e.h=e.h||[],d=e.k=e.k||[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;l[f]=a(g,.5)*o|0,d[f++]=a(g,1/3)*o|0}for(t+="Ã‚Â€";t.length%64-56;)t+="\0";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;c[i>>2]|=r<<(3-i)%4*8}for(c[c.length]=u/o|0,c[c.length]=u,r=0;r<c.length;){var m=c.slice(r,r+=16),h=l;for(l=l.slice(0,8),i=0;i<64;i++){var _=m[i-15],C=m[i-2],S=l[0],I=l[4],v=l[7]+(n(I,6)^n(I,11)^n(I,25))+(I&l[5]^~I&l[6])+d[i]+(m[i]=i<16?m[i]:m[i-16]+(n(_,7)^n(_,18)^_>>>3)+m[i-7]+(n(C,17)^n(C,19)^C>>>10)|0);l=[v+((n(S,2)^n(S,13)^n(S,22))+(S&l[1]^S&l[2]^l[1]&l[2]))|0].concat(l),l[4]=l[4]+v|0}for(i=0;i<8;i++)l[i]=l[i]+h[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var D=l[i]>>8*r&255;s+=(D<16?0:"")+D.toString(16)}return s},We=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=qe(e)),e},Xe=function(e){return String(e).trim().toLowerCase()},Ke=Ge.OptIn;U.defineGlobalNamespace(),window.adobe.OptInCategories=Ke.Categories;var Je=function(t,n,i){function r(){S._customerIDsHashChanged=!1}function a(e){var t=e;return function(e){var n=e||A.location.href;try{var i=S._extractParamFromUri(n,t);if(i)return q.parsePipeDelimetedKeyValues(i)}catch(e){}}}function o(e){function t(e,t,n){e&&e.match(oe.VALID_VISITOR_ID_REGEX)&&(n===T&&(b=!0),t(e))}t(e[T],S.setMarketingCloudVisitorID,T),S._setFieldExpire(N,-1),t(e[w],S.setAnalyticsVisitorID)}function s(e){e=e||{},S._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",S._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},S._supplementalDataIDLast=e.supplementalDataIDLast||"",S._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"="+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==F&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=q.getTimestampInSeconds();return e=e?e+="|":e,e+="TS="+t}(i)}function u(e){var t=e.minutesToLive,n="";return(S.idSyncDisableSyncs||S.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function l(){return!!S.configs.doesOptInApply&&!(I.optIn.isComplete&&d())}function d(){return S.configs.doesOptInApply&&S.configs.isIabContext?I.optIn.isApproved(I.optIn.Categories.ECID)&&y:I.optIn.isApproved(I.optIn.Categories.ECID)}function f(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=S[t];S[t]=function(e){return d()&&S.isAllowed()?i.apply(S,arguments):("function"==typeof e&&S._callCallback(e,[n]),n)}})}function p(){var e=S._getAudienceManagerURLData(),t=e.url;return S._loadData(E,t,null,e)}function g(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),p(),_()}function m(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),S.init(),_()}function h(){I.optIn.isComplete&&(I.optIn.isApproved(I.optIn.Categories.ECID)?S.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(S.init(),_()):S.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(f(),_()))}function _(){I.optIn.off("complete",h)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var S=this,I=window.adobe,v="",D=0,y=!1,b=!1;S.version="5.5.0";var A=C,O=A.Visitor;O.version=S.version,O.AuthState=L.AUTH_STATE,O.OptOut=L.OPT_OUT,A.s_c_in||(A.s_c_il=[],A.s_c_in=0),S._c="Visitor",S._il=A.s_c_il,S._in=A.s_c_in,S._il[S._in]=S,A.s_c_in++,S._instanceType="regular",S._log={requests:[]},S.marketingCloudOrgID=t,S.cookieName="AMCV_"+t,S.sessionCookieName="AMCVS_"+t;var M={};n&&n.secureCookie&&n.sameSiteCookie&&(M={sameSite:n.sameSiteCookie,secure:n.secureCookie}),S.cookieDomain=S.useLocalStorage?"":ee(null,M),S.loadSSL=!0,S.loadTimeout=3e4,S.CORSErrors=[],S.marketingCloudServer=S.audienceManagerServer="dpm.demdex.net",S.sdidParamExpiry=30;var k=null,E="MC",T="MCMID",P="MCIDTS",R="A",w="MCAID",x="AAM",N="MCAAMB",F="NONE",j=function(e){return!Object.prototype[e]},V=ae(S);S.FIELDS=L.FIELDS,S.cookieRead=function(e){return S.useLocalStorage?e===S.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):Z.get(e)},S.cookieWrite=function(e,t,n){var i=""+t;if(S.useLocalStorage)return e===S.sessionCookieName?sessionStorage.setItem(e,i):localStorage.setItem(e,i);var r=S.cookieLifetime?(""+S.cookieLifetime).toUpperCase():"",a={expires:n,domain:S.cookieDomain,cookieLifetime:r};return S.configs&&S.configs.secureCookie&&"https:"===location.protocol&&(a.secure=!0),S.configs&&S.configs.sameSiteCookie&&"https:"===location.protocol&&(a.sameSite=L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()]||"Lax"),Z.set(e,i,a)},S.removeCookie=function(e){if(S.useLocalStorage)return e===S.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:S.cookieDomain};return S.configs&&S.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),S.configs&&S.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()]||"Lax"),Z.remove(e,t)},S.resetState=function(e){e?S._mergeServerState(e):s()},S._isAllowedDone=!1,S._isAllowedFlag=!1,S.isAllowed=function(){return S._isAllowedDone||(S._isAllowedDone=!0,(S.cookieRead(S.cookieName)||S.cookieWrite(S.cookieName,"T",1))&&(S._isAllowedFlag=!0)),"T"===S.cookieRead(S.cookieName)&&S.removeCookie(S.cookieName),S._isAllowedFlag},S.setMarketingCloudVisitorID=function(e){S._setMarketingCloudFields(e)},S._use1stPartyMarketingCloudServer=!1,S.getMarketingCloudVisitorID=function(e,t){S.marketingCloudServer&&S.marketingCloudServer.indexOf(".demdex.net")<0&&(S._use1stPartyMarketingCloudServer=!0);var n=S._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return S._getRemoteField(T,i,e,t,n)};var H=function(e,t){var n={};S.getMarketingCloudVisitorID(function(){t.forEach(function(e){n[e]=S._getField(e,!0)}),-1!==t.indexOf("MCOPTOUT")?S.isOptedOut(function(t){n.MCOPTOUT=t,e(n)},null,!0):e(n)},!0)};S.getVisitorValues=function(e,t){var n={MCMID:{fn:S.getMarketingCloudVisitorID,args:[!0],context:S},MCOPTOUT:{fn:S.isOptedOut,args:[void 0,!0],context:S},MCAID:{fn:S.getAnalyticsVisitorID,args:[!0],context:S},MCAAMLH:{fn:S.getAudienceManagerLocationHint,args:[!0],context:S},MCAAMB:{fn:S.getAudienceManagerBlob,args:[!0],context:S}},i=t&&t.length?U.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?H(e,t):$(i,e)},S._currentCustomerIDs={},S._customerIDsHashChanged=!1,S._newCustomerIDsHash="",S.setCustomerIDs=function(t,n){if(!S.isOptedOut()&&t){if(!U.isObject(t)||U.isObjectEmpty(t))return!1;S._readVisitor();var i,a,o,s;for(i in t)if(j(i)&&(S._currentCustomerIDs.dataSources=S._currentCustomerIDs.dataSources||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var c={};if(a.id){if(n){if(!(s=We(Xe(a.id),n)))return;a.id=s,c.hashType=n}c.id=a.id}void 0!=a.authState&&(c.authState=a.authState),S._currentCustomerIDs.dataSources[i]=c}else if(n){if(!(s=We(Xe(a),n)))return;S._currentCustomerIDs.dataSources[i]={id:s,hashType:n}}else S._currentCustomerIDs.dataSources[i]={id:a};var u=S.getCustomerIDs(!0),l=S._getField("MCCIDH"),d="";l||(l=0);for(o in u){var f=u[o];if(!U.isObjectEmpty(f))for(i in f)j(i)&&(a=f[i],d+=(d?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}S._newCustomerIDsHash=String(S._hash(d)),S._newCustomerIDsHash!==l&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(r))}},S.syncIdentity=function(t,n){if(!S.isOptedOut()&&t){if(!U.isObject(t)||U.isObjectEmpty(t))return!1;S._readVisitor();var i,a,o,s,c;for(i in t)if(j(i)&&(S._currentCustomerIDs.nameSpaces=S._currentCustomerIDs.nameSpaces||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a&&"object"===e(a))){var u={};if(a.id){if(n){if(!(o=We(Xe(a.id),n)))return;a.id=o,u.hashType=n}u.id=a.id}void 0!=a.authState&&(u.authState=a.authState),a.dataSource&&(S._currentCustomerIDs.dataSources=S._currentCustomerIDs.dataSources||{},s=a.dataSource,S._currentCustomerIDs.dataSources[s]=u),S._currentCustomerIDs.nameSpaces[i]=u}var l=S.getCustomerIDs(!0),d=S._getField("MCCIDH"),f="";d||(d="0");for(c in l){var p=l[c];if(!U.isObjectEmpty(p))for(i in p)j(i)&&(a=p[i],f+=(f?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}S._newCustomerIDsHash=String(S._hash(f)),S._newCustomerIDsHash!==d&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(r))}},S.getCustomerIDs=function(e){S._readVisitor();var t,n,i={dataSources:{},nameSpaces:{}},r=S._currentCustomerIDs.dataSources;for(t in r)j(t)&&(n=r[t],n.id&&(i.dataSources[t]||(i.dataSources[t]={}),i.dataSources[t].id=n.id,void 0!=n.authState?i.dataSources[t].authState=n.authState:i.dataSources[t].authState=O.AuthState.UNKNOWN,n.hashType&&(i.dataSources[t].hashType=n.hashType)));var a=S._currentCustomerIDs.nameSpaces;for(t in a)j(t)&&(n=a[t],n.id&&(i.nameSpaces[t]||(i.nameSpaces[t]={}),i.nameSpaces[t].id=n.id,void 0!=n.authState?i.nameSpaces[t].authState=n.authState:i.nameSpaces[t].authState=O.AuthState.UNKNOWN,n.hashType&&(i.nameSpaces[t].hashType=n.hashType)));return e?i:i.dataSources},S.setAnalyticsVisitorID=function(e){S._setAnalyticsFields(e)},S.getAnalyticsVisitorID=function(e,t,n){if(!q.isTrackingServerPopulated()&&!n)return S._callCallback(e,[""]),"";var i="";if(n||(i=S.getMarketingCloudVisitorID(function(t){S.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?S.marketingCloudServer:S.trackingServer,a="";S.loadSSL&&(n?S.marketingCloudServerSecure&&(r=S.marketingCloudServerSecure):S.trackingServerSecure&&(r=S.trackingServerSecure));var o={};if(r){var s="http"+(S.loadSSL?"s":"")+"://"+r+"/id",c=S.configs.cookieLifetime,u="d_visid_ver="+S.version+"&mcorgid="+encodeURIComponent(S.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(c?"&cl="+encodeURIComponent(c):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",S._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+u+"&callback=s_c_il%5B"+S._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+u,o.callback=l}return o.url=a,S._getRemoteField(n?T:w,a,e,t,o)}return""},S.getAudienceManagerLocationHint=function(e,t){if(S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})){var n=S._getField(w);if(!n&&q.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})),n||!q.isTrackingServerPopulated()){var i=S._getAudienceManagerURLData(),r=i.url;return S._getRemoteField("MCAAMLH",r,e,t,i)}}return""},S.getLocationHint=S.getAudienceManagerLocationHint,S.getAudienceManagerBlob=function(e,t){if(S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})){var n=S._getField(w);if(!n&&q.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})),n||!q.isTrackingServerPopulated()){var i=S._getAudienceManagerURLData(),r=i.url;return S._customerIDsHashChanged&&S._setFieldExpire(N,-1),S._getRemoteField(N,r,e,t,i)}}return""},S._supplementalDataIDCurrent="",S._supplementalDataIDCurrentConsumed={},S._supplementalDataIDLast="",S._supplementalDataIDLastConsumed={},S.getSupplementalDataID=function(e,t){S._supplementalDataIDCurrent||t||(S._supplementalDataIDCurrent=S._generateID(1));var n=S._supplementalDataIDCurrent;return S._supplementalDataIDLast&&!S._supplementalDataIDLastConsumed[e]?(n=S._supplementalDataIDLast,S._supplementalDataIDLastConsumed[e]=!0):n&&(S._supplementalDataIDCurrentConsumed[e]&&(S._supplementalDataIDLast=S._supplementalDataIDCurrent,S._supplementalDataIDLastConsumed=S._supplementalDataIDCurrentConsumed,S._supplementalDataIDCurrent=n=t?"":S._generateID(1),S._supplementalDataIDCurrentConsumed={}),n&&(S._supplementalDataIDCurrentConsumed[e]=!0)),n};var B=!1;S._liberatedOptOut=null,S.getOptOut=function(e,t){var n=S._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(d())return S._getRemoteField("MCOPTOUT",i,e,t,n);if(S._registerCallback("liberatedOptOut",e),null!==S._liberatedOptOut)return S._callAllCallbacks("liberatedOptOut",[S._liberatedOptOut]),B=!1,S._liberatedOptOut;if(B)return null;B=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[r],C[r]=function(e){if(e===Object(e)){var t,n,i=U.parseOptOut(e,t,F);t=i.optOut,n=1e3*i.d_ottl,S._liberatedOptOut=t,setTimeout(function(){S._liberatedOptOut=null},n)}S._callAllCallbacks("liberatedOptOut",[t]),B=!1},V.fireCORS(n),null},S.isOptedOut=function(e,t,n){t||(t=O.OptOut.GLOBAL);var i=S.getOptOut(function(n){var i=n===O.OptOut.GLOBAL||n.indexOf(t)>=0;S._callCallback(e,[i])},n);return i?i===O.OptOut.GLOBAL||i.indexOf(t)>=0:null};var G={subscribed:!1,callbacks:[]};S.onReceiveEcid=function(e){if(d())return S.getMarketingCloudVisitorID(e,!0);G.subscribed=!0,e&&"function"==typeof e&&G.callbacks.push(e)},S._fields=null,S._fieldsExpired=null,S._hash=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},S._generateID=re,S._generateLocalMID=function(){var e=S._generateID(0);return X.isClientSideMarketingCloudVisitorID=!0,e},S._callbackList=null,S._callCallback=function(e,t){try{"function"==typeof e?e.apply(A,t):e[1].apply(e[0],t)}catch(e){}},S._registerCallback=function(e,t){t&&(null==S._callbackList&&(S._callbackList={}),void 0==S._callbackList[e]&&(S._callbackList[e]=[]),S._callbackList[e].push(t))},S._callAllCallbacks=function(e,t){if(null!=S._callbackList){var n=S._callbackList[e];if(n)for(;n.length>0;)S._callCallback(n.shift(),t)}},S._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),a=q.parseHash(e),o=q.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+q.addQueryParamAtLocation(u,r,i)+a},S._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},S._parseAdobeMcFromUrl=a(oe.ADOBE_MC),S._parseAdobeMcSdidFromUrl=a(oe.ADOBE_MC_SDID),S._attemptToPopulateSdidFromUrl=function(e){var n=S._parseAdobeMcSdidFromUrl(e),i=1e9;n&&n.TS&&(i=q.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<S.sdidParamExpiry&&(S._supplementalDataIDCurrent=n.SDID,S._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},S._attemptToPopulateIdsFromUrl=function(){var e=S._parseAdobeMcFromUrl();if(e&&e.TS){var n=q.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>oe.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},S._mergeServerState=function(e){if(e)try{if(e=function(e){return q.isObject(e)?e:JSON.parse(e)}(e),e[S.marketingCloudOrgID]){var t=e[S.marketingCloudOrgID];!function(e){q.isObject(e)&&S.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},S._timeout=null,S._loadData=function(e,t,n,i){t=S._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=S._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=S._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),X.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===V.corsMetadata.corsType&&V.fireCORS(i,n,e)},S._clearTimeout=function(e){null!=S._timeout&&S._timeout[e]&&(clearTimeout(S._timeout[e]),S._timeout[e]=0)},S._settingsDigest=0,S._getSettingsDigest=function(){if(!S._settingsDigest){var e=S.version;S.audienceManagerServer&&(e+="|"+S.audienceManagerServer),S.audienceManagerServerSecure&&(e+="|"+S.audienceManagerServerSecure),S._settingsDigest=S._hash(e)}return S._settingsDigest},S._readVisitorDone=!1,S._readVisitor=function(){if(!S._readVisitorDone){S._readVisitorDone=!0;var e,t,n,i,r,a,o=S._getSettingsDigest(),s=!1,c=S.cookieRead(S.cookieName),u=new Date;if(c||b||S.discardTrackingServerECID||(c=S.cookieRead(oe.FIRST_PARTY_SERVER_COOKIE)),null==S._fields&&(S._fields={}),c&&"T"!==c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)t=c[e].split("-"),n=t[0],i=c[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=u.getTime()/1e3-60)),n&&i&&(S._setField(n,i,1),r>0&&(S._fields["expire"+n]=r+(a?"s":""),(u.getTime()>=1e3*r||a&&!S.cookieRead(S.sessionCookieName))&&(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[n]=!0)));!S._getField(w)&&q.isTrackingServerPopulated()&&(c=S.cookieRead("s_vi"))&&(c=c.split("|"),c.length>1&&c[0].indexOf("v1")>=0&&(i=c[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&i.match(oe.VALID_VISITOR_ID_REGEX)&&S._setField(w,i)))}},S._appendVersionTo=function(e){var t="vVersion|"+S.version,n=e?S._getCookieVersion(e):null;return n?te.areVersionsDifferent(n,S.version)&&(e=e.replace(oe.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},S._writeVisitor=function(){var e,t,n=S._getSettingsDigest();for(e in S._fields)j(e)&&S._fields[e]&&"expire"!==e.substring(0,6)&&(t=S._fields[e],n+=(n?"|":"")+e+(S._fields["expire"+e]?"-"+S._fields["expire"+e]:"")+"|"+t);n=S._appendVersionTo(n),S.cookieWrite(S.cookieName,n,1)},S._getField=function(e,t){return null==S._fields||!t&&S._fieldsExpired&&S._fieldsExpired[e]?null:S._fields[e]},S._setField=function(e,t,n){null==S._fields&&(S._fields={}),S._fields[e]=t,n||S._writeVisitor()},S._getFieldList=function(e,t){var n=S._getField(e,t);return n?n.split("*"):null},S._setFieldList=function(e,t,n){S._setField(e,t?t.join("*"):"",n)},S._getFieldMap=function(e,t){var n=S._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},S._setFieldMap=function(e,t,n){var i,r=null;if(t){r=[];for(i in t)j(i)&&(r.push(i),r.push(t[i]))}S._setFieldList(e,r,n)},S._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1e3*t),null==S._fields&&(S._fields={}),S._fields["expire"+e]=Math.floor(i.getTime()/1e3)+(n?"s":""),t<0?(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[e]=!0):S._fieldsExpired&&(S._fieldsExpired[e]=!1),n&&(S.cookieRead(S.sessionCookieName)||S.cookieWrite(S.sessionCookieName,"1"))},S._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=F),t&&(t===F||t.match(oe.VALID_VISITOR_ID_REGEX))||(t="")),t},S._setFields=function(t,n){if(S._clearTimeout(t),null!=S._loading&&(S._loading[t]=!1),X.fieldGroupObj[t]&&X.setState(t,!1),t===E){!0!==X.isClientSideMarketingCloudVisitorID&&(X.isClientSideMarketingCloudVisitorID=!1);var i=S._getField(T);if(!i||S.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:S._findVisitorID(n))){if(S._use1stPartyMarketingCloudServer&&!S.tried1stPartyMarketingCloudServer)return S.tried1stPartyMarketingCloudServer=!0,void S.getAnalyticsVisitorID(null,!1,!0);i=S._generateLocalMID()}S._setField(T,i)}i&&i!==F||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&S._setFields(x,n),S._use1stPartyMarketingCloudServer&&n.mid&&S._setFields(R,{id:n.id})),S._callAllCallbacks(T,[i])}if(t===x&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var a=W.getRegionAndCheckIfChanged(n,r);S._callAllCallbacks("MCAAMLH",[a]);var o=S._getField(N);(n.d_blob||n.blob)&&(o=n.d_blob,o||(o=n.blob),S._setFieldExpire(N,r),S._setField(N,o)),o||(o=""),S._callAllCallbacks(N,[o]),!n.error_msg&&S._newCustomerIDsHash&&S._setField("MCCIDH",S._newCustomerIDsHash)}if(t===R){var s=S._getField(w);s&&!S.overwriteCrossDomainMCIDAndAID||(s=S._findVisitorID(n),s?s!==F&&S._setFieldExpire(N,-1):s=F,S._setField(w,s)),s&&s!==F||(s=""),S._callAllCallbacks(w,[s])}if(S.idSyncDisableSyncs||S.disableIdSyncs)W.idCallNotProcesssed=!0;else{W.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,W.processIDCallData(c)}if(n===Object(n)){var u,l;d()&&S.isAllowed()&&(u=S._getField("MCOPTOUT"));var f=U.parseOptOut(n,u,F);u=f.optOut,l=f.d_ottl,S._setFieldExpire("MCOPTOUT",l,!0),S._setField("MCOPTOUT",u),S._callAllCallbacks("MCOPTOUT",[u])}},S._loading=null,S._getRemoteField=function(e,t,n,i,r){var a,o="",s=q.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&S.isAllowed()){S._readVisitor(),o=S._getField(e,!0===c[e]);if(function(){return(!o||S._fieldsExpired&&S._fieldsExpired[e])&&(!S.disableThirdPartyCalls||s)}()){if(e===T||"MCOPTOUT"===e?a=E:"MCAAMLH"===e||e===N?a=x:e===w&&(a=R),a)return!t||null!=S._loading&&S._loading[a]||(null==S._loading&&(S._loading={}),S._loading[a]=!0,a===x&&(D=0),S._loadData(a,t,function(t){if(!S._getField(e)){t&&X.setState(a,!0);var n="";e===T?n=S._generateLocalMID():a===x&&(n={error_msg:"timeout"}),S._setFields(a,n)}},r)),S._registerCallback(e,n),o||(t||S._setFields(a,{id:F}),"")}else o||(e===T?(S._registerCallback(e,n),o=S._generateLocalMID(),S.setMarketingCloudVisitorID(o)):e===w?(S._registerCallback(e,n),o="",S.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==T&&e!==w||o!==F||(o="",i=!0),n&&i&&S._callCallback(n,[o]),e===T&&G.subscribed&&(G.callbacks&&G.callbacks.length&&G.callbacks.forEach(function(e){S._callCallback(e,[o])}),G.subscribed=!1,G.callbacks.length=0),o},S._setMarketingCloudFields=function(e){S._readVisitor(),S._setFields(E,e)},S._mapCustomerIDs=function(e){S.getAudienceManagerBlob(e,!0)},S._setAnalyticsFields=function(e){S._readVisitor(),S._setFields(R,e)},S._setAudienceManagerFields=function(e){S._readVisitor(),S._setFields(x,e)},S._getAudienceManagerURLData=function(e){var t=S.audienceManagerServer,n="",i=S._getField(T),r=S._getField(N,!0),a=S._getField(w),o=a&&a!==F?"&d_cid_ic=AVID%01"+encodeURIComponent(a):"";if(S.loadSSL&&S.audienceManagerServerSecure&&(t=S.audienceManagerServerSecure),t){var s,c,u,l=S.getCustomerIDs(!0);if(l)for(c in l){var d=l[c];if(!U.isObjectEmpty(d)){var f="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)j(s)&&(u=d[s],o+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(S.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver="+S.version+(v&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+v:"")+(D&&-1!==p.indexOf("demdex.net")?"&d_cf="+D:"")+"&d_rtbd=json&d_ver=2"+(!i&&S._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(S.marketingCloudOrgID)+"&d_nsid="+(S.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===k?"&d_coop_safe=1":!1===k?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,m=["s_c_il",S._in,e];return n=p+"?"+g+"&d_cb=s_c_il%5B"+S._in+"%5D."+e,{url:n,corsUrl:p+"?"+g,callback:m}}return{url:n}},S.appendVisitorIDsTo=function(e){try{var t=[[T,S._getField(T)],[w,S._getField(w)],["MCORGID",S.marketingCloudOrgID]];return S._addQuerystringParam(e,oe.ADOBE_MC,c(t))}catch(t){return e}},S.appendSupplementalDataIDTo=function(e,t){if(!(t=t||S.getSupplementalDataID(q.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",S.marketingCloudOrgID]]);return S._addQuerystringParam(e,oe.ADOBE_MC_SDID,n)}catch(t){return e}};var q={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==w)return!1;var i;return t||(t=S.trackingServer),n||(n=S.trackingServerSecure),!("string"!=typeof(i=S.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Z.remove(e,{domain:S.cookieDomain})},isTrackingServerPopulated:function(){return!!S.trackingServer||!!S.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};S._helpers=q;var W=se(S,O);S._destinationPublishing=W,S.timeoutMetricsLog=[];var X={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case E:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case R:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case x:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};S.isClientSideMarketingCloudVisitorID=function(){return X.isClientSideMarketingCloudVisitorID},S.MCIDCallTimedOut=function(){return X.MCIDCallTimedOut},S.AnalyticsIDCallTimedOut=function(){return X.AnalyticsIDCallTimedOut},S.AAMIDCallTimedOut=function(){return X.AAMIDCallTimedOut},S.idSyncGetOnPageSyncInfo=function(){return S._readVisitor(),S._getField("MCSYNCSOP")},S.idSyncByURL=function(e){if(!S.isOptedOut()){var t=u(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=W;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=U.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},S.idSyncByDataSource=function(e){if(!S.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,S.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ye(S,W),S._getCookieVersion=function(e){e=e||S.cookieRead(S.cookieName);var t=oe.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},S._resetAmcvCookie=function(e){var t=S._getCookieVersion();t&&!te.isLessThan(t,e)||S.removeCookie(S.cookieName)},S.setAsCoopSafe=function(){k=!0},S.setAsCoopUnsafe=function(){k=!1},function(){if(S.configs=Object.create(null),q.isObject(n))for(var e in n)j(e)&&(S[e]=n[e],S.configs[e]=n[e])}(),f();var K;S.init=function(){l()&&(I.optIn.fetchPermissions(h,!0),!I.optIn.isApproved(I.optIn.Categories.ECID))||K||(K=!0,function(){if(q.isObject(n)){S.idSyncContainerID=S.idSyncContainerID||0,k="boolean"==typeof S.isCoopSafe?S.isCoopSafe:q.parseBoolean(S.isCoopSafe),S.resetBeforeVersion&&S._resetAmcvCookie(S.resetBeforeVersion),S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl(),S._readVisitor();var e=S._getField(P),t=Math.ceil((new Date).getTime()/oe.MILLIS_PER_DAY);S.idSyncDisableSyncs||S.disableIdSyncs||!W.canMakeSyncIDCall(e,t)||(S._setFieldExpire(N,-1),S._setField(P,t)),S.getMarketingCloudVisitorID(),S.getAudienceManagerLocationHint(),S.getAudienceManagerBlob(),S._mergeServerState(S.serverState)}else S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl()}(),function(){if(!S.idSyncDisableSyncs&&!S.disableIdSyncs){W.checkDPIframeSrc();var e=function(){var e=W;e.readyToAttachIframe()&&e.attachIframe()};A.addEventListener("load",function(){O.windowLoaded=!0,e()});try{ie.receiveMessage(function(e){W.receiveMessage(e.data)},W.iframeHost)}catch(e){}}}(),function(){S.whitelistIframeDomains&&oe.POST_MESSAGE_ENABLED&&(S.whitelistIframeDomains=S.whitelistIframeDomains instanceof Array?S.whitelistIframeDomains:[S.whitelistIframeDomains],S.whitelistIframeDomains.forEach(function(e){var n=new Y(t,e),i=Q(S,n);ie.receiveMessage(i,e)}))}())}};Je.config=ue,C.Visitor=Je;var ze=Je,Qe=function(e){if(U.isObject(e))return Object.keys(e).filter(function(t){return""!==e[t]&&ue.getConfigs()[t]}).reduce(function(t,n){var i=ue.normalizeConfig(n,e[n]),r=U.normalizeBoolean(i);return t[n]=r,t},Object.create(null))},$e=Ge.OptIn,Ze=Ge.IabPlugin;return ze.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=C.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=Qe(t)||{};!function(e){C.adobe.optIn=C.adobe.optIn||function(){var t=U.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),n=e.optInCookieDomain||e.cookieDomain;n=n||ee(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new $e(t,{cookies:Z});if(t.isIabContext&&t.doesOptInApply){var r=new Ze;i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new ze(e,null,a);i.cookieDomain&&(o.cookieDomain=i.cookieDomain),i.sameSiteCookie&&i.secureCookie&&(o.configs={sameSiteCookie:i.sameSiteCookie,secureCookie:i.secureCookie}),function(){C.s_c_il.splice(--C.s_c_in,1)}();var s=U.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c=function(){try{return C.self!==C.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)||U.isFirefox()&&!function(t){var n="AMCV_"+e;return!!t.cookieRead(n)}(o)&&i.whitelistParentDomain)&&C.parent?new W(e,i,o,C.parent):new ze(e,i,a);return o=null,c.init(),c},function(){function e(){ze.windowLoaded=!0}C.addEventListener?C.addEventListener("load",e):C.attachEvent&&C.attachEvent("onload",e),ze.codeLoadEnd=(new Date).getTime()}(),ze}();}
try{(function(id,loader){window.utag.tagsettings=window.utag.tagsettings||{};window.utag.tagsettings.adobe=window.utag.tagsettings.adobe||{};var vAPI=window.utag.tagsettings.adobe.visitorAPI=window.utag.tagsettings.adobe.visitorAPI||(function(){function logger(msg){utag.DB("["+id+"] : "+msg);}
function Observer(orgId,config){var observers=[],visitor={},demdex=null,instance=null,regex=new RegExp("AMCV_"+window.encodeURIComponent(orgId)+"=(.*?)(;|$)"),active=false,util={"hasOwn":function(o,a){return o!==null&&Object.prototype.hasOwnProperty.call(o,a);}},mTags=(function(){var tags=[],tag,cfg=utag.loader.cfg,loadcond={1:1,4:1};for(tag in cfg){if(!util.hasOwn(cfg,tag)){continue;}
if(cfg[tag].tid&&String(cfg[tag].tid).indexOf('1191')===0&&loadcond[cfg[tag].load]){tags.push(tag);}}
return tags;}());function mTagsLoaded(){var loaded=true,id;for(var i=0,len=mTags.length;i<len;i++){id=mTags[i];if(!utag.sender[id]){loaded=false;break;}}
return loaded;}
function notify(result){instance=result;if(instance&&instance.setCustomerIDs){var aliases,alias;for(aliases in visitor){if(util.hasOwn(visitor,aliases)){alias=visitor[aliases];if(alias.authState&&Visitor.AuthState[alias.authState]!==undefined){alias.authState=Visitor.AuthState[alias.authState];}}}
instance.setCustomerIDs(visitor);}
while(observers.length!==0){var nextCallback=observers.shift();nextCallback(instance);}
return true;}
this.sync=function(ids){var alias;for(alias in ids){if(util.hasOwn(ids,alias)){if(!visitor[alias]){visitor[alias]=ids[alias];}}}
return true;};this.subscribe=function(callback){var self=this;if(instance!==null){return callback(instance);}else{observers.push(callback);if(!active){logger("demdex org id ["+orgId+"] sync requested");(function retry(retries){if(retries===0){logger("demdex org id ["+orgId+"] sync timed out!");active=false;return notify(undefined);}else{active=true;if(regex.test(document.cookie)&&/\|mcmid\|/i.test(window.decodeURIComponent(RegExp.$1))&&mTagsLoaded()){logger('demdex org id ['+orgId+'] sync completed');return config?notify(window.Visitor.getInstance(orgId,config)):notify(window.Visitor.getInstance(orgId));}else{if(window.Visitor&&window.Visitor.getInstance){if(config&&!demdex){demdex=window.Visitor.getInstance(orgId,config);}}
window.setTimeout(function(){logger("demdex org id ["+orgId+"] sync, waiting...");retry(--retries);},25);}}}(80));}}
return true;};}
function VisitorAPIWrapper(){var observers={};this._version="1.0";this.getInstance=function(orgId,callback,config,customerIds){if(!orgId){return callback(undefined);}
orgId=!/@AdobeOrg$/.test(orgId)?orgId+"@AdobeOrg":orgId;if(!observers[orgId]){if(!config){logger("demdex org id ["+orgId+"] sync error. marketing cloud tag missing demdex config");return callback(undefined);}
observers[orgId]=new Observer(orgId,config);}
if(customerIds){observers[orgId].sync(customerIds);}
observers[orgId].subscribe(callback);return true;};}
return new VisitorAPIWrapper();}());var u={"id":id};utag.o[loader].sender[id]=u;if(utag.ut===undefined){utag.ut={};}
var match=/ut\d\.(\d*)\..*/.exec(utag.cfg.v);if(utag.ut.loader===undefined||!match||parseInt(match[1])<41){u.loader=function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}if(o.id){b.id=o.id;}for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l]);}b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){this.onreadystatechange=null;o.cb();}};}}if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}}};}else{u.loader=utag.ut.loader;}
if(utag.ut.typeOf===undefined){u.typeOf=function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();};}else{u.typeOf=utag.ut.typeOf;}
u.hasOwn=function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a);};u.isEmptyObject=function(o,a){for(a in o){if(u.hasOwn(o,a))return false;}return true;};u.ev={"view":1,"link":1};u.initialized=false;u.adobeInstance;u.map_func=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.map_func(arr,obj[i],item);}else{obj[i]=item;}};u.clearEmptyKeys=function(object){for(var key in object){if(object[key]===""||object[key]===undefined){delete object[key];}}
return object;};u.eventsNameByKey={setCustomerID:'setCustomerID',};u.sendEvents=function(instance){u.data.events.forEach(function(eventName){if(eventName===u.eventsNameByKey.setCustomerID){instance.setCustomerIDs(u.data.customer_ids);utag.DB("callEvent:setCustomerIDs");}})}
u.map={"AdobeOrgID":"adobe_org_id","TrackingServer":"config.trackingServer","TrackingServerSecure":"config.trackingServerSecure","MarketingCloudServer":"config.marketingCloudServer","MarketingCloudServerSecure":"config.marketingCloudServerSecure"};u.extend=[];u.send=function(a,b){if(u.ev[a]||u.ev.all!==undefined){loadLibrary();utag.DB("send:2");utag.DB(b);var c,d,e,f;u.data={"adobe_org_id":"","config":{"trackingServer":"","trackingServerSecure":"","marketingCloudServer":"","marketingCloudServerSecure":"","cookieDomain":(function(){return utag.loader.RC('utag_main').vapi_domain||(function(){var i=0,d=document.domain,p=d.split("."),s="_vapi"+new Date().getTime();while(i<(p.length-1)&&document.cookie.indexOf(s+"="+s)===-1){d=p.slice(-1-(++i)).join(".");document.cookie=s+"="+s+";domain="+d+";";}
document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+d+";";utag.loader.SC("utag_main",{"vapi_domain":d});return d;}());}())},"customer_ids":{},events:[]};utag.DB("send:2:EXTENSIONS");utag.DB(b);c=[];for(d in utag.loader.GV(u.map)){if(b[d]!==undefined&&b[d]!==""){e=u.map[d].split(",");for(f=0;f<e.length;f++){u.map_func(e[f].split("."),u.data,b[d]);}}else{var event_destinations=d.split(':');if(event_destinations.length===2&&String(b[event_destinations[0]])===String(event_destinations[1])){if(u.map[d]){u.data.events=u.data.events.concat(u.map[d].split(","));}}}}
utag.DB("send:2:MAPPINGS");utag.DB(u.data);if(!u.data.adobe_org_id){utag.DB(u.id+": Tag not fired: Required attribute not populated [adobe_org_id]");return;}
if(u.initialized){u.sendEvents(u.adobeInstance)}else if(!u.initialized){u.initialized=!0;vAPI.getInstance(u.data.adobe_org_id,function(instance){u.adobeInstance=instance;u.sendEvents(u.adobeInstance)},u.clearEmptyKeys(u.data.config),u.data.customer_ids);}
utag.DB("send:2:COMPLETE");}};utag.o[loader].loader.LOAD(id);}("2","argos.main"));}catch(error){utag.DB(error);}

//tealium universal tag - utag.257 ut4.0.202601291031, Copyright 2026 Tealium.com Inc. All Rights Reserved.
try{(function(id,loader){var u={};u.ev={"view":1,"link":1};u.initialized=false;utag.o[loader].sender[id]=u;if(utag===undefined){utag={};}if(utag.ut===undefined){utag.ut={};}if(utag.ut.loader===undefined){u.loader=function(o){var a,b,c,l;a=document;if(o.type==="iframe"){b=a.createElement("iframe");b.setAttribute("height","1");b.setAttribute("width","1");b.setAttribute("style","display:none");b.setAttribute("src",o.src);}else if(o.type==="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";b.src=o.src;}if(o.id){b.id=o.id;}if(typeof o.cb==="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb();},false);}else{b.onreadystatechange=function(){if(this.readyState==="complete"||this.readyState==="loaded"){this.onreadystatechange=null;o.cb();}};}}l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l==="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b);}}};}else{u.loader=utag.ut.loader;}
u.checkForDefaultDecision=function(){var dataLayerArray=window.dataLayer||[];for(var i=dataLayerArray.length-1;i>=0;i--){if(dataLayerArray[i][0]==="consent"&&dataLayerArray[i][1]==="default"){return true;}}
return false;};u.getPreviousDecision=function(){var dataLayerArray=window.dataLayer||[];for(var i=dataLayerArray.length-1;i>=0;i--){if(dataLayerArray[i][0]==="consent"){return dataLayerArray[i][2];}}};u.isDeepEqual=function(object1,object2){function isObject(object){return object!==null&&typeof object==="object";}
var keys1=Object.keys(object1);var keys2=Object.keys(object2);if(keys1.length!==keys2.length)return false;for(var i=0;i<keys1.length;i++){var value1=object1[keys1[i]];var value2=object2[keys1[i]];var areObjects=isObject(value1)&&isObject(value2);if((areObjects&&!u.isDeepEqual(value1,value2))||(!areObjects&&value1!==value2))return false;}
return true;}
u.toBoolean=function(val){val=String(val)||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";};u.mapFunc=function(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){u.mapFunc(arr,obj[i],item);}else{obj[i]=item;}};u.getConsentValue=function(itemConsent){var googleConsentValues=['granted','denied'];var googleConsentValuesByKey=googleConsentValues.reduce(function(acc,value){acc[value]=value;return acc;},{});if(!u.data.tealium_consent||(!utag.gdpr&&u.data.tealium_consent)){return googleConsentValues.indexOf(itemConsent)===-1?googleConsentValuesByKey.denied:itemConsent;}else if(utag.gdpr&&u.data.tealium_consent){var consentState=utag.gdpr.getConsentState();if(consentState===1){return googleConsentValuesByKey.granted;}
if(consentState===-1||consentState===0){return googleConsentValuesByKey.denied;}
if(Array.isArray(consentState)){var selectedCategories=utag.gdpr.getSelectedCategories();if(googleConsentValues.indexOf(itemConsent)===-1){return selectedCategories.indexOf(itemConsent)===-1?googleConsentValuesByKey.denied:googleConsentValuesByKey.granted;}
return itemConsent;}
return googleConsentValuesByKey.denied;}};u.hasgtagjs=function(){window.gtagRename=window.gtagRename||"gtag";if(utag.ut.gtagScriptRequested){return true;}
var i,s=document.getElementsByTagName("script");for(i=0;i<s.length;i++){if(s[i].src&&s[i].src.indexOf("gtag/js")>=0&&(s[i].id&&s[i].id.indexOf("utag")>-1)){return true;}}
var data_layer_name="dataLayer";window[data_layer_name]=window[data_layer_name]||[];if(typeof window[window.gtagRename]!=="function"){window[window.gtagRename]=function(){window[data_layer_name].push(arguments);};var cross_track=u.toBoolean(u.data.cross_domain_flag),cross_track_domains=u.data.cross_domains;if(cross_track&&cross_track_domains!==""){window[window.gtagRename]("set","linker",{domains:cross_track_domains.split(","),accept_incoming:true});}
window[window.gtagRename]("js",new Date());}
return false;};u.loaderCallback=function(){utag.DB('send:257:CALLBACK');u.initialized=true;u.callback();utag.DB('send:257:CALLBACK:COMPLETE');};u.callback=function(){var thisDecision={ad_storage:u.data.ad_storage_consent,analytics_storage:u.data.analytics_storage_consent,wait_for_update:u.data.wait_for_update,ad_user_data:u.data.ad_user_data,ad_personalization:u.data.ad_personalization};if(!u.checkForDefaultDecision()){u.o("set","url_passthrough",u.data.url_passthrough);u.o("set","ads_data_redaction",u.data.ads_data_redaction);u.o("consent","default",thisDecision);}
if(!u.isDeepEqual(u.getPreviousDecision(),thisDecision)){u.o("set","url_passthrough",u.data.url_passthrough);u.o("set","ads_data_redaction",u.data.ads_data_redaction);u.o("consent","update",thisDecision);}
u.data.events.forEach(function(eventName){u.sendEvent(eventName);});};u.sendEvent=function(eventName){var eventData={ad_storage:u.data.ad_storage_consent,analytics_storage:u.data.analytics_storage_consent,wait_for_update:u.data.wait_for_update,ad_user_data:u.data.ad_user_data,ad_personalization:u.data.ad_personalization,};utag.ut.merge(eventData,u.data[eventName],1);u.o('consent',eventName,eventData);};u.map={"ga_ads":"ad_user_data,ad_personalization,ad_storage_consent","ga_analytics":"analytics_storage_consent"};u.extend=[];u.send=function(utag_event,data_layer){if(u.ev[utag_event]||u.ev.all!==undefined){var a,b,c,d,e,f;a=utag_event;b=data_layer;u.data={base_url:"https://www.googletagmanager.com/gtag/js",tealium_consent:"false",ad_storage_consent:"display_ads",analytics_storage_consent:"analytics",ads_data_redaction:"false",url_passthrough:"true",wait_for_update:"",ad_user_data:"display_ads",ad_personalization:"display_ads",custom:{},events:[]};Object.keys(utag.loader.GV(u.map)).forEach(function(mapping_key){if(data_layer[mapping_key]!==undefined&&data_layer[mapping_key]!==''){var destinations=u.map[mapping_key].split(',');destinations.forEach(function(parameter){u.mapFunc(parameter.split('.'),u.data,data_layer[mapping_key]);});}else{var event_destinations=mapping_key.split(':');if(event_destinations.length===2&&String(data_layer[event_destinations[0]])===String(event_destinations[1])){if(u.map[mapping_key]){u.data.events=u.data.events.concat(u.map[mapping_key].split(','));}}}});utag.DB('send:257:MAPPINGS');utag.DB(u.data);u.data.tealium_consent=u.toBoolean(u.data.tealium_consent);u.data.url_passthrough=u.toBoolean(u.data.url_passthrough);u.data.ads_data_redaction=u.toBoolean(u.data.ads_data_redaction);u.data.wait_for_update=Number(u.data.wait_for_update)||0;u.data.ad_storage_consent=u.getConsentValue(u.data.ad_storage_consent);u.data.analytics_storage_consent=u.getConsentValue(u.data.analytics_storage_consent);u.data.ad_user_data=u.getConsentValue(u.data.ad_user_data);u.data.ad_personalization=u.getConsentValue(u.data.ad_personalization);u.scriptrequested=u.hasgtagjs();u.o=window[window.gtagRename];if(u.initialized){u.callback();}else{if(!u.hasgtagjs()){u.scriptrequested=true;u.initialized=true;utag.ut.gtagScriptRequested=true;u.loader({type:"script",src:u.data.base_url,cb:u.loaderCallback,loc:"script",id:"utag_257",attrs:{}});}}}};utag.o[loader].loader.LOAD(id);})("257","argos.main");}catch(error){utag.DB(error);}
(function(){ if(typeof utag!='undefined' && !utag_condload){utag.initcatch=true;for(var i in utag.loader.GV(utag.loader.cfg)){var b=utag.loader.cfg[i];if(b.load!=4){utag.initcatch=false;break};if(b.wait==1){utag.initcatch=false;break}};if(utag.initcatch)utag.handler.INIT();} })();