(function(v){var q=window.AmazonUIPageJS||window.P,m=q._namespace||q.attributeErrors,n=m?m("ProductCarousel",""):q;n.guardFatal?n.guardFatal(v)(n,window):n.execute(function(){v(n,window)})})(function(v,q,m){(function(){function n(a){if(null==a)return a===m?"[object Undefined]":"[object Null]";if(ga&&ga in Object(a)){var b=Oa.call(a,K),c=a[K];try{a[K]=m;var d=!0}catch(f){}var g=Pa.call(a);d&&(b?a[K]=c:delete a[K]);a=g}else a=Qa.call(a);return a}function O(a){var b=typeof a;return null!=a&&("object"==
b||"function"==b)}function ha(a){if(!O(a))return!1;a=n(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function C(a){if(null!=a){try{return Ra.call(a)}catch(b){}return a+""}return""}function w(a,b){a=null==a?m:a[b];b=!O(a)||ia&&ia in a?!1:(ha(a)?Sa:Ta).test(C(a));return b?a:m}function Ua(a,b,c,d){for(var g=-1,f=null==a?0:a.length;++g<f;){var k=a[g];b(d,k,c(k),a)}return d}function I(a){return null!=a&&"object"==typeof a}function ja(a){return I(a)&&
"[object Arguments]"==n(a)}function Va(){return!1}function ka(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&Wa.test(a))&&-1<a&&0==a%1&&a<b}function U(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Xa(a){return I(a)&&U(a.length)&&!!h[n(a)]}function Ya(a){return function(b){return a(b)}}function la(a){return null!=a&&U(a.length)&&!ha(a)}function P(a){if(la(a)){var b=p(a),c=!b&&ma(a),d=!b&&!c&&V(a),g=!b&&!c&&!d&&na(a);if(b=b||c||d||g){for(var c=
a.length,f=String,k=-1,l=Array(c);++k<c;)l[k]=f(k);c=l}else c=[];var f=c.length,e;for(e in a)!Za.call(a,e)||b&&("length"==e||d&&("offset"==e||"parent"==e)||g&&("buffer"==e||"byteLength"==e||"byteOffset"==e)||ka(e,f))||c.push(e);a=c}else if(e=a&&a.constructor,a===("function"==typeof e&&e.prototype||$a)){e=[];for(d in Object(a))ab.call(a,d)&&"constructor"!=d&&e.push(d);a=e}else a=bb(a);return a}function cb(a,b,c,d){db(a,function(a,f,k){b(d,a,c(a),k)});return d}function oa(a,b){return a===b||a!==a&&
b!==b}function Q(a,b){for(var c=a.length;c--;)if(oa(a[c][0],b))return c;return-1}function r(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function F(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function R(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function y(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<
c;){var d=a[b];this.set(d[0],d[1])}}function z(a){this.size=(this.__data__=new r(a)).size}function S(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new y;++b<c;)this.add(a[b])}function eb(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function pa(a,b,c,d,g,f){var k=c&1,l=a.length,e=b.length;if(l!=e&&!(k&&e>l))return!1;if((e=f.get(a))&&f.get(b))return e==b;var e=-1,u=!0,h=c&2?new S:m;f.set(a,b);for(f.set(b,a);++e<l;){var x=a[e],E=b[e];if(d)var G=k?d(E,x,e,b,a,f):
d(x,E,e,a,b,f);if(G!==m){if(G)continue;u=!1;break}if(h){if(!eb(b,function(a,b){if(!h.has(b)&&(x===a||g(x,a,c,d,f)))return h.push(b)})){u=!1;break}}else if(x!==E&&!g(x,E,c,d,f)){u=!1;break}}f["delete"](a);f["delete"](b);return u}function fb(a){var b=-1,c=Array(a.size);a.forEach(function(a,g){c[++b]=[g,a]});return c}function gb(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function hb(a,b,c,d,g,f,k){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=
b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!f(new qa(a),new qa(b)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return oa(+a,+b);case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var e=fb;case "[object Set]":e||(e=gb);if(a.size!=b.size&&!(d&1))break;if(c=k.get(a))return c==b;d|=2;k.set(a,b);b=pa(e(a),e(b),d,
g,f,k);k["delete"](a);return b;case "[object Symbol]":if(W)return W.call(a)==W.call(b)}return!1}function ra(a,b,c){b=b(a);if(!p(a)){a=c(a);c=-1;for(var d=a.length,g=b.length;++c<d;)b[g+c]=a[c]}return b}function ib(a,b){for(var c=-1,d=null==a?0:a.length,g=0,e=[];++c<d;){var k=a[c];b(k,c,a)&&(e[g++]=k)}return e}function jb(){return[]}function J(a,b,c,d,g){if(a===b)return!0;if(null==a||null==b||!I(a)&&!I(b))return a!==a&&b!==b;a:{var e=p(a),k=p(b),l=e?"[object Array]":sa(a),t=k?"[object Array]":sa(b),
l="[object Arguments]"==l?"[object Object]":l,t="[object Arguments]"==t?"[object Object]":t,u="[object Object]"==l,k="[object Object]"==t;if((t=l==t)&&V(a)){if(!V(b)){b=!1;break a}e=!0;u=!1}if(t&&!u)g||(g=new z),b=e||na(a)?pa(a,b,c,d,J,g):hb(a,b,l,c,d,J,g);else{if(!(c&1)&&(e=u&&ta.call(a,"__wrapped__"),l=k&&ta.call(b,"__wrapped__"),e||l)){a=e?a.value():a;b=l?b.value():b;g||(g=new z);b=J(a,b,c,d,g);break a}if(t)b:if(g||(g=new z),e=c&1,l=ra(a,P,ua),k=l.length,t=ra(b,P,ua).length,k==t||e){for(u=k;u--;){var h=
l[u];if(!(e?h in b:kb.call(b,h))){b=!1;break b}}if((t=g.get(a))&&g.get(b))b=t==b;else{t=!0;g.set(a,b);g.set(b,a);for(var x=e;++u<k;){var h=l[u],E=a[h],G=b[h];if(d)var n=e?d(G,E,h,b,a,g):d(E,G,h,a,b,g);if(n===m?E!==G&&!J(E,G,c,d,g):!n){t=!1;break}x||(x="constructor"==h)}t&&!x&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(t=!1));g["delete"](a);g["delete"](b);b=t}}else b=!1;else b=!1}}return b}
function lb(a,b,c,d){var e=c.length,f=e,k=!d;if(null==a)return!f;for(a=Object(a);e--;){var l=c[e];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++e<f;){var l=c[e],h=l[0],u=a[h],n=l[1];if(k&&l[2]){if(u===m&&!(h in a))return!1}else{l=new z;if(d)var x=d(u,n,h,a,b,l);if(x===m?!J(n,u,3,d,l):!x)return!1}}return!0}function mb(a){for(var b=P(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!O(e)]}return b}function va(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==m||a in Object(c))}}
function nb(a){var b=mb(a);return 1==b.length&&b[0][2]?va(b[0][0],b[0][1]):function(c){return c===a||lb(c,a,b)}}function X(a){return"symbol"==typeof a||I(a)&&"[object Symbol]"==n(a)}function Y(a,b){if(p(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||X(a)?!0:ob.test(a)||!pb.test(a)||null!=b&&a in Object(b)}function Z(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,
d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d)||f;return d};c.cache=new (Z.Cache||y);return c}function wa(a){if("string"==typeof a)return a;if(p(a)){for(var b=-1,c=null==a?0:a.length,d=Array(c);++b<c;)d[b]=wa(a[b],b,a);return d+""}if(X(a))return xa?xa.call(a):"";b=a+"";return"0"==b&&1/a==-qb?"-0":b}function ya(a,b){return p(a)?a:Y(a,b)?[a]:rb(null==a?"":wa(a))}function T(a){if("string"==typeof a||X(a))return a;var b=a+"";return"0"==b&&1/a==-sb?"-0":b}function za(a,
b){b=ya(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[T(b[c++])];return c&&c==d?a:m}function tb(a,b){return Y(a)&&b===b&&!O(b)?va(T(a),b):function(c){var d;d=null==c?m:za(c,a);d=d===m?void 0:d;var e;if(d===m&&d===b){if(d=null!=c){d=a;d=ya(d,c);for(var f=-1,k=d.length,l=!1;++f<k;){e=T(d[f]);if(!(l=null!=c&&null!=c&&e in Object(c)))break;c=c[e]}l||++f!=k?d=l:(k=null==c?0:c.length,d=!!k&&U(k)&&ka(e,k)&&(p(c)||ma(c)))}e=d}else e=J(b,d,3);return e}}function ub(a){return a}function vb(a){return function(b){return null==
b?m:b[a]}}function wb(a){return function(b){return za(b,a)}}var e=function(){function a(){}a.DEFAULT_MIN_GUTTER=8;a.DEFAULT_HEIGHT_ANIMATION_SPEED=200;a.ATTR_ANIMATING="animating";a.ATTR_CURRENT_GUTTER="currentGutter";a.ATTR_FIRST_ITEM_FLUSH_LEFT="first_item_flush_left";a.ATTR_FIRST_VISIBLE_ITEM="firstVisibleItem";a.ATTR_HEIGHT_ANIMATION_SPEED="height_animation_speed";a.ATTR_HIDE_OFFSCREEN="hide_off_screen";a.ATTR_MAX_HEIGHT="maxHeight";a.ATTR_MIN_GUTTER="minimum_gutter_width";a.ATTR_PAGE_NUMBER=
"pageNumber";a.ATTR_PAGE_SIZE="pageSize";a.ATTR_SET_SIZE="set_size";a.ATTR_SHOW_PARTIAL="show_partial_next";a.ATTR_SINGLE_PAGE_ALIGN="single_page_align";a.ATTR_TOTAL_PAGES="totalPages";a.FIRST_PAGE="first-page";a.LAST_PAGE="last-page";a.$VSE_DISPLAY_STRATEGY_ELEMENT=".a-carousel-display-vse-rp";return a}(),xb=function(){function a(a,c,d,g,f){var k=this;this.carouselFramework=c;this.A=d;this.productCarouselConfig=g;this.deps=f;this.productAssets=[];this.carouselPageSize=0;this.carouselPageNumber=1;
var l=d.$,h=this;this.auiCarousel=a;l("#"+g.carouselName+" .vse-product-item").each(function(){h.productAssets.push(h._getProductAssetSpec(l(this)))});this.assetIndex=this.deps._keyBy(this.productAssets,"contentId");d.off("a:carousel:"+g.carouselName+":change:pageSize");d.off("a:carousel:"+g.carouselName+":change:pageNumber");d.on("a:carousel:"+g.carouselName+":change:pageSize",function(){k.carouselPageSize=k.auiCarousel.getAttr("pageSize")});d.trigger("a:carousel:"+g.carouselName+":change:pageSize");
d.on("a:carousel:"+g.carouselName+":change:pageNumber",function(a){var b=a.carousel;a=a.newValue;var c=b.getAttr("totalPages");b.dom.$carousel.closest(e.$VSE_DISPLAY_STRATEGY_ELEMENT).toggleClass(e.FIRST_PAGE,1===a);b.dom.$carousel.closest(e.$VSE_DISPLAY_STRATEGY_ELEMENT).toggleClass(e.LAST_PAGE,a===c);k.carouselPageNumber=k.auiCarousel.getAttr("pageNumber");d.trigger("a:carousel:"+g.carouselName+":scrollCarousel",k.carouselPageNumber,k.carouselPageSize)});d.trigger("a:carousel:"+g.carouselName+":updatePageIndex",
this.carouselPageNumber,this.carouselPageSize);d.trigger("vse:productCarousel:"+g.carouselName+":init");l(".vse-rp-container").removeClass("vse-hide-product-carousel")}a.prototype.destroy=function(){};a.prototype.getProductList=function(){return this.productAssets.slice()};a.prototype._getProductAssetSpec=function(a){var c=a.data(),d=a.find(".a-image-container").data("img");return{title:c.title,contentId:c.asin,price:c.price,rating:c.rating,reviews:c.reviews,primeEligibility:c.primeEligibility,referenceUrl:c.referenceUrl,
referenceLinkTitle:c.title,$el:a,imageUrl:d}};return a}();q.vseFeatures=q.vseFeatures||{};var Aa=q.gatedP||{register:function(a,b,c,d,e){void 0===e&&(e=q.vseFeatures);v.now(a).execute(a+"-prereg",function(f){f||e[b]||(e[b]=!0,d.resolve(c(d)).then(function(){v.now(a).execute(a+"-reg",function(c){c||(v.log("Gated registration failed to register module!","ERROR",a),e[b]=!1)})}))})},declare:function(a,b,c,d){void 0===d&&(d=q.vseFeatures);v.now(a).execute(a+"-prereg",function(e){e||d[b]||(d[b]=!0,v.declare(a,
c))})}},yb=function(){return function(a){this.message=a}}(),zb=function(){function a(a,c,d){this.carouselFramework=a;this.A=c;this.deps=d}a.prototype.create=function(a){var c=this.carouselFramework.getCarousel(this.A.$("#"+a.carouselName));if(!c)throw new yb("Carousel framework can not find carousel by the name of "+a.carouselName+".");return new xb(c,this.carouselFramework,this.A,a,this.deps)};return a}(),Ba="object"==typeof global&&global&&global.Object===Object&&global,Ab="object"==typeof self&&
self&&self.Object===Object&&self,A=Ba||Ab||Function("return this")(),D=A.Symbol,Ca=Object.prototype,Oa=Ca.hasOwnProperty,Pa=Ca.toString,K=D?D.toStringTag:m,Qa=Object.prototype.toString,ga=D?D.toStringTag:m,aa=A["__core-js_shared__"],ia=function(){var a=/[^.]+$/.exec(aa&&aa.keys&&aa.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ra=Function.prototype.toString,Ta=/^\[object .+?Constructor\]$/,Sa=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,
"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Da=function(){try{var a=w(Object,"defineProperty");a({},"",{});return a}catch(b){}}(),Bb=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var k=d.length;k--;){var l=d[a?k:++e];if(!1===c(f[l],l,f))break}return b}}(),Ea=Object.prototype,Cb=Ea.hasOwnProperty,Db=Ea.propertyIsEnumerable,ma=ja(function(){return arguments}())?ja:function(a){return I(a)&&Cb.call(a,"callee")&&!Db.call(a,"callee")},p=
Array.isArray,Fa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ga=Fa&&"object"==typeof module&&module&&!module.nodeType&&module,Ha=Ga&&Ga.exports===Fa?A.Buffer:m,V=(Ha?Ha.isBuffer:m)||Va,Wa=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0;h["[object Arguments]"]=h["[object Array]"]=
h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1;var Ia="object"==typeof exports&&exports&&!exports.nodeType&&exports,L=Ia&&"object"==typeof module&&module&&!module.nodeType&&module,ba=L&&L.exports===Ia&&Ba.process,Ja=function(){try{var a=L&&L.require&&L.require("util").types;
return a?a:ba&&ba.binding&&ba.binding("util")}catch(b){}}(),Ka=Ja&&Ja.isTypedArray,na=Ka?Ya(Ka):Xa,Za=Object.prototype.hasOwnProperty,$a=Object.prototype,bb=function(a,b){return function(c){return a(b(c))}}(Object.keys,Object),ab=Object.prototype.hasOwnProperty,db=function(a,b){return function(c,d){if(null==c)return c;if(!la(c))return a(c,d);for(var e=c.length,f=b?e:-1,k=Object(c);(b?f--:++f<e)&&!1!==d(k[f],f,k););return c}}(function(a,b){return a&&Bb(a,b,P)}),Eb=Array.prototype.splice;r.prototype.clear=
function(){this.__data__=[];this.size=0};r.prototype["delete"]=function(a){var b=this.__data__;a=Q(b,a);if(0>a)return!1;a==b.length-1?b.pop():Eb.call(b,a,1);--this.size;return!0};r.prototype.get=function(a){var b=this.__data__;a=Q(b,a);return 0>a?m:b[a][1]};r.prototype.has=function(a){return-1<Q(this.__data__,a)};r.prototype.set=function(a,b){var c=this.__data__,d=Q(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};var M=w(A,"Map"),N=w(Object,"create"),Fb=Object.prototype.hasOwnProperty,
Gb=Object.prototype.hasOwnProperty;F.prototype.clear=function(){this.__data__=N?N(null):{};this.size=0};F.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};F.prototype.get=function(a){var b=this.__data__;return N?(a=b[a],"__lodash_hash_undefined__"===a?m:a):Fb.call(b,a)?b[a]:m};F.prototype.has=function(a){var b=this.__data__;return N?b[a]!==m:Gb.call(b,a)};F.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=N&&b===m?"__lodash_hash_undefined__":
b;return this};y.prototype.clear=function(){this.size=0;this.__data__={hash:new F,map:new (M||r),string:new F}};y.prototype["delete"]=function(a){a=R(this,a)["delete"](a);this.size-=a?1:0;return a};y.prototype.get=function(a){return R(this,a).get(a)};y.prototype.has=function(a){return R(this,a).has(a)};y.prototype.set=function(a,b){var c=R(this,a),d=c.size;c.set(a,b);this.size+=c.size==d?0:1;return this};z.prototype.clear=function(){this.__data__=new r;this.size=0};z.prototype["delete"]=function(a){var b=
this.__data__;a=b["delete"](a);this.size=b.size;return a};z.prototype.get=function(a){return this.__data__.get(a)};z.prototype.has=function(a){return this.__data__.has(a)};z.prototype.set=function(a,b){var c=this.__data__;if(c instanceof r){var d=c.__data__;if(!M||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new y(d)}c.set(a,b);this.size=c.size;return this};S.prototype.add=S.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};S.prototype.has=
function(a){return this.__data__.has(a)};var qa=A.Uint8Array,La=D?D.prototype:m,W=La?La.valueOf:m,Hb=Object.prototype.propertyIsEnumerable,Ma=Object.getOwnPropertySymbols,ua=Ma?function(a){if(null==a)return[];a=Object(a);return ib(Ma(a),function(b){return Hb.call(a,b)})}:jb,kb=Object.prototype.hasOwnProperty,ca=w(A,"DataView"),da=w(A,"Promise"),ea=w(A,"Set"),fa=w(A,"WeakMap"),Ib=C(ca),Jb=C(M),Kb=C(da),Lb=C(ea),Mb=C(fa),H=n;if(ca&&"[object DataView]"!=H(new ca(new ArrayBuffer(1)))||M&&"[object Map]"!=
H(new M)||da&&"[object Promise]"!=H(da.resolve())||ea&&"[object Set]"!=H(new ea)||fa&&"[object WeakMap]"!=H(new fa))H=function(a){var b=n(a);if(a=(a="[object Object]"==b?a.constructor:m)?C(a):"")switch(a){case Ib:return"[object DataView]";case Jb:return"[object Map]";case Kb:return"[object Promise]";case Lb:return"[object Set]";case Mb:return"[object WeakMap]"}return b};var sa=H,ta=Object.prototype.hasOwnProperty,pb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ob=/^\w*$/;Z.Cache=y;var Nb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
Ob=/\\(\\)?/g,rb=function(a){a=Z(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];46===a.charCodeAt(0)&&b.push("");a.replace(Nb,function(a,d,e,f){b.push(e?f.replace(Ob,"$1"):d||a)});return b}),qb=1/0,Na=D?D.prototype:m,xa=Na?Na.toString:m,sb=1/0,Pb=function(a,b){return function(c,d){var e=p(c)?Ua:cb,f=b?b():{};d="function"==typeof d?d:null==d?ub:"object"==typeof d?p(d)?tb(d[0],d[1]):nb(d):Y(d)?vb(T(d)):wb(d);return e(c,a,d,f)}}(function(a,b,c){"__proto__"==
c&&Da?Da(a,c,{configurable:!0,enumerable:!0,value:b,writable:!0}):a[c]=b}),Qb=function(){function a(a,c,d,g){var f=this;this.A=a;this.$=c;this.detect=d;this.ATTR=g;this.repaint=function(a){var b=a.getDimensions().viewport.width,c=a.dom.$carousel.find("li.a-carousel-card").first().removeAttr("style").width(),d=a.getAttr(e.ATTR_SET_SIZE),g=a.getAttr(e.ATTR_FIRST_ITEM_FLUSH_LEFT),h=f.determinePageSize(a,b,c,g);a.setAttr(e.ATTR_CURRENT_GUTTER,8);a.setAttr(e.ATTR_PAGE_SIZE,h);var m=a.dom.$carousel,n=m.children("li"),
v=n.length,p=a.getAttr(e.ATTR_TOTAL_PAGES),B=a.getAttr(e.ATTR_PAGE_NUMBER),q=a.getAttr(e.ATTR_FIRST_VISIBLE_ITEM),r=(B-1)*h+1;B>p?(q=(p-1)*h+1,a.setAttr(e.ATTR_PAGE_NUMBER,p),a.setAttr(e.ATTR_FIRST_VISIBLE_ITEM,q)):q!==r&&(r=Math.ceil(q/h),q=(r-1)*h+1,a.setAttr(e.ATTR_PAGE_NUMBER,r),a.setAttr(e.ATTR_FIRST_VISIBLE_ITEM,q));a.dom.$carousel.closest(e.$VSE_DISPLAY_STRATEGY_ELEMENT).toggleClass(e.FIRST_PAGE,1===B);a.dom.$carousel.closest(e.$VSE_DISPLAY_STRATEGY_ELEMENT).toggleClass(e.LAST_PAGE,B===p);
var y=q-1,z=y+h-1;a.getAttr(e.ATTR_SHOW_PARTIAL)&&z++;var A=a.getAttr(e.ATTR_HIDE_OFFSCREEN),D=c+"px",C;n.each(function(a,b){C=!A||a>=y&&a<=z;b.style[f.A.capabilities.rtl?"marginRight":"marginLeft"]=g&&0===a?0:"8px";b.style.visibility=C?"":"hidden";b.style.width=D});var w;a.getAttr(e.ATTR_FIRST_ITEM_FLUSH_LEFT)?(p=n.first().outerWidth(!0),1<n.length&&(w=n.eq(1).outerWidth(!0)),B=(v-1)*w+p):(p=w=n.first().outerWidth(!0),B=v*w);h>=d?(B=b,r=a.getAttr(e.ATTR_SINGLE_PAGE_ALIGN),m.toggleClass("a-text-right",
"right"===r),m.toggleClass("a-text-center","center"===r),"center"===r&&n.first().css("margin-left",0)):m.removeClass("a-text-right a-text-center");B=h>=d?b:B;m.css("width",B+"px");b={carousel:{width:B,outerWidth:m.outerWidth()},items:[]};for(d=0;d<v;d++)b.items.push({width:c,outerWidth:0===d?p:w});a.updateDimensionsCache(b);a.gotoIndex(q,{animationDuration:0,ignorePause:!0});a.triggerEvent("repaint")};this.resize=function(a,b){b.viewport&&b.viewport.width!==m&&f.repaint(a)};this.init=function(a){var b=
a.getAttr(e.ATTR_MIN_GUTTER);f.A.isFiniteNumber(b)||(b=e.DEFAULT_MIN_GUTTER,a.setAttr(e.ATTR_MIN_GUTTER,b));a.setAttr(e.ATTR_CURRENT_GUTTER,b);b=a.getAttr(e.ATTR_HEIGHT_ANIMATION_SPEED);f.A.isFiniteNumber(b)||a.setAttr(e.ATTR_HEIGHT_ANIMATION_SPEED,e.DEFAULT_HEIGHT_ANIMATION_SPEED);a.setAttr(e.ATTR_FIRST_ITEM_FLUSH_LEFT,!!a.getAttr(e.ATTR_FIRST_ITEM_FLUSH_LEFT));a.setAttr(e.ATTR_SHOW_PARTIAL,!!a.getAttr(e.ATTR_SHOW_PARTIAL));f.repaint(a);f.initDom(a);b=a.getAttr(e.ATTR_FIRST_VISIBLE_ITEM);1<b&&(a.setAttr(e.ATTR_FIRST_VISIBLE_ITEM,
b),b=Math.ceil(b/a.getAttr(e.ATTR_PAGE_SIZE)),a.gotoPage(b));f.bindAttrChangeHandlers(a)}}a.prototype.determinePageSize=function(a,c,d,g){a.getAttr(e.ATTR_SHOW_PARTIAL)&&(c-=d/10);var f=a.getAttr(e.ATTR_MIN_GUTTER);a.getAttr(e.ATTR_SET_SIZE);a=0;for(var k=!0;0<c;)a++,c=g&&k?c-d:c-(d+f),k=!1;0>c&&a--;return this.A.isFiniteNumber(a)&&0<a?a:1};a.prototype.adjustHeight=function(a){var c=this;if(a.getAttr("auto_adjust_height"))if(a.getAttr(e.ATTR_ANIMATING))a.once(e.ATTR_ANIMATING,function(){c.adjustHeight(a)});
else{var d=a.getAttr(e.ATTR_MAX_HEIGHT),g=a.getDimensions();d&&this.A.isFiniteNumber(d)||(d=1);var f=d,k=a.getAttr(e.ATTR_PAGE_SIZE),h=k*(a.getAttr(e.ATTR_PAGE_NUMBER)-1),k=h+k-1,g=g.items,m=g.length,n=void 0;for(a.getAttr(e.ATTR_SHOW_PARTIAL)&&k++;h<=k&&h<m;h++)(n=g[h])&&n.outerHeight>f&&(f=g[h].outerHeight);f>d&&(a.updateDimensionsCache({viewport:{height:f,outerHeight:f}}),a.setAttr(e.ATTR_MAX_HEIGHT,f),1===d?a.dom.$viewport.height(f):this.A.animate(a.dom.$viewport,{height:f},a.getAttr(e.ATTR_HEIGHT_ANIMATION_SPEED),
"linear"))}else a.dom.$viewport.css("height","")};a.prototype.initDom=function(a){a.getAttr(this.ATTR.NO_TRANSITION)||this.adjustHeight(a);var c=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(c.viewport.height,c.items[0]?c.items[0].height:0)+"px")};a.prototype.bindAttrChangeHandlers=function(a){var c=this;a.onChange(e.ATTR_PAGE_NUMBER,function(){a.getAttr(e.ATTR_HIDE_OFFSCREEN)&&a.dom.$carousel.children("li").css("visibility",
"")});a.onChange(e.ATTR_PAGE_SIZE,function(d,e){d>e&&c.adjustHeight(a)});a.onChange("loading",function(d){d||c.adjustHeight(a)});a.onChange(e.ATTR_FIRST_VISIBLE_ITEM,function(){c.adjustHeight(a)});a.onChange(e.ATTR_ANIMATING,function(d){if(!d&&a.getAttr(e.ATTR_HIDE_OFFSCREEN)){var g=a.getAttr(e.ATTR_FIRST_VISIBLE_ITEM)-1,f=g+a.getAttr(e.ATTR_PAGE_SIZE)-1;a.getAttr(e.ATTR_SHOW_PARTIAL)&&f++;a.dom.$carousel.children("li").each(function(a,b){a=a>=g&&a<=f;c.A.$(b).css("visibility",a?"":"hidden")})}});
a.onChange(e.ATTR_SINGLE_PAGE_ALIGN+" "+e.ATTR_MIN_GUTTER,function(){c.repaint(a)});a.onChange(e.ATTR_MIN_GUTTER,function(){c.repaint(a)})};return a}(),Rb=function(a){return new a(function(a,c){v.when("A","jQuery","p-detect","a-carousel-constants","a-carousel-framework").register("vseRvsRpDisplayStrategyRegistration",function(a,b,c,e,h){h.registerStrategy("display","vse-rp",new Qb(a,b,c,e))})})};v.when("A","3p-promise").execute("vse-display-strategy-registration",function(a,b){Aa.register("vseRvsRpDisplayStrategyRegistration",
"vseRvsRpDisplayStrategy-registered",Rb,b)});v.when("A","a-carousel-framework","ready").execute("vse:cc:pre-register",function(a,b){Aa.declare("ProductCarouselFactory","ProductCarouselFactoryRegistered",new zb(b,a,{_keyBy:Pb}))})})()});